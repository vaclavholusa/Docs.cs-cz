---
uid: mvc/overview/older-versions/aspnet-mvc-4-mobile-features
title: Funkce mobilní architektury ASP.NET MVC 4 | Dokumentace Microsoftu
author: Rick-Anderson
description: Teď existuje verze MVC 5 tohoto kurzu s ukázkami kódu při nasazení webové aplikace ASP.NET MVC 5 Mobile na webech Azure.
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/15/2012
ms.topic: article
ms.assetid: 27dc4fc8-1b51-43b0-933f-fc1b52476523
ms.technology: dotnet-mvc
msc.legacyurl: /mvc/overview/older-versions/aspnet-mvc-4-mobile-features
msc.type: authoredcontent
ms.openlocfilehash: 5b029aa7e87f064622d72feacaf7e97ea4da5cca
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/03/2018
ms.locfileid: "37384813"
---
<a name="aspnet-mvc-4-mobile-features"></a><span data-ttu-id="12eb7-103">Funkce mobilní architektury ASP.NET MVC 4</span><span class="sxs-lookup"><span data-stu-id="12eb7-103">ASP.NET MVC 4 Mobile Features</span></span>
====================
<span data-ttu-id="12eb7-104">Podle [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="12eb7-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> <span data-ttu-id="12eb7-105">Je teď verze MVC 5 s ukázkami kódu v tomto kurzu [nasazení webové aplikace ASP.NET MVC 5 Mobile na webech Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span><span class="sxs-lookup"><span data-stu-id="12eb7-105">There is now an MVC 5 version of this tutorial with code samples at [Deploy an ASP.NET MVC 5 Mobile Web Application on Azure Web Sites](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span></span>


<span data-ttu-id="12eb7-106">V tomto kurzu se seznámíte se základy práce s mobilními funkcemi webové aplikace ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="12eb7-106">This tutorial will teach you the basics of how to work with mobile features in an ASP.NET MVC 4 Web application.</span></span> <span data-ttu-id="12eb7-107">Pro účely tohoto kurzu můžete použít [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) nebo Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer nebo VWD&quot;).</span><span class="sxs-lookup"><span data-stu-id="12eb7-107">For this tutorial, you can use [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) or Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer or VWD&quot;).</span></span> <span data-ttu-id="12eb7-108">Pokud už máte, můžete profesionální verzi sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="12eb7-108">You can use the professional version of Visual Studio if you already have that.</span></span>

<span data-ttu-id="12eb7-109">Než začnete, ujistěte se, že jste nainstalovali požadavky uvedené níže.</span><span class="sxs-lookup"><span data-stu-id="12eb7-109">Before you start, make sure you've installed the prerequisites listed below.</span></span>

- <span data-ttu-id="12eb7-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (doporučeno) nebo Visual Studio Web Developer Express SP1.</span><span class="sxs-lookup"><span data-stu-id="12eb7-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recommended) or Visual Studio Web Developer Express SP1.</span></span> <span data-ttu-id="12eb7-111">Visual Studio 2012 obsahuje ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="12eb7-111">Visual Studio 2012 contains ASP.NET MVC 4.</span></span> <span data-ttu-id="12eb7-112">Pokud používáte aplikaci Visual Web Developer 2010, je nutné nainstalovat [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span><span class="sxs-lookup"><span data-stu-id="12eb7-112">If you are using Visual Web Developer 2010, you must install [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span></span>

<span data-ttu-id="12eb7-113">Budete také potřebovat emulátoru mobilního prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-113">You will also need a mobile browser emulator.</span></span> <span data-ttu-id="12eb7-114">Bude fungovat některé z následujících akcí:</span><span class="sxs-lookup"><span data-stu-id="12eb7-114">Any of the following will work:</span></span>

- <span data-ttu-id="12eb7-115">[Emulátor Windows 7 Phone](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="12eb7-115">[Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="12eb7-116">(Toto je emulátor, který se používá ve většině snímky obrazovky v tomto kurzu).</span><span class="sxs-lookup"><span data-stu-id="12eb7-116">(This is the emulator that's used in most of the screen shots in this tutorial.)</span></span>
- <span data-ttu-id="12eb7-117">Změňte identifikační řetězec pro emulaci Iphonu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-117">Change the user agent string to emulate an iPhone.</span></span> <span data-ttu-id="12eb7-118">Zobrazit [to](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blogu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-118">See [this](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blog entry.</span></span>
- [<span data-ttu-id="12eb7-119">Emulátor Opera Mobile</span><span class="sxs-lookup"><span data-stu-id="12eb7-119">Opera Mobile Emulator</span></span>](http://www.opera.com/developer/tools/mobile/)
- <span data-ttu-id="12eb7-120">[Apple Safari](http://www.apple.com/safari/download/) s uživatelského agenta, nastavte na Iphonu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-120">[Apple Safari](http://www.apple.com/safari/download/) with the user agent set to iPhone.</span></span> <span data-ttu-id="12eb7-121">Pokyny o tom, jak nastavit uživatelský agent v Safari na "iPhone" najdete v tématu [jak chcete, aby Safari, které předstírají, že je aplikace Internet Explorer](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) na blog Davida Alison.</span><span class="sxs-lookup"><span data-stu-id="12eb7-121">For instructions on how to set the user agent in Safari to "iPhone", see [How to let Safari pretend it's IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) on David Alison's blog.</span></span>

<span data-ttu-id="12eb7-122">Projekty aplikace Visual Studio se zdrojovým kódem jazyka C# jsou k dispozici v tomto tématu:</span><span class="sxs-lookup"><span data-stu-id="12eb7-122">Visual Studio projects with C# source code are available to accompany this topic:</span></span>

- [<span data-ttu-id="12eb7-123">Stažení projektu Starter</span><span class="sxs-lookup"><span data-stu-id="12eb7-123">Starter project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228307&amp;clcid=0x409)
- [<span data-ttu-id="12eb7-124">Dokončení stahování projektu</span><span class="sxs-lookup"><span data-stu-id="12eb7-124">Completed project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228306&amp;clcid=0x409)

### <a name="what-youll-build"></a><span data-ttu-id="12eb7-125">Co budete vytvářet</span><span class="sxs-lookup"><span data-stu-id="12eb7-125">What You'll Build</span></span>

<span data-ttu-id="12eb7-126">Pro účely tohoto kurzu přidáte mobilními funkcemi jednoduchou aplikaci výpis konference, která je součástí [počáteční projekt](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="12eb7-126">For this tutorial, you'll add mobile features to the simple conference-listing application that's provided in the [starter project](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="12eb7-127">Následující snímek obrazovky ukazuje stránku značek dokončené aplikace, jak je vidět [emulátor telefonu Windows 7](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="12eb7-127">The following screenshot shows the tags page of the completed application as seen in the [Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="12eb7-128">Zobrazit [klávesnice mapování pro Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) ke zjednodušení vstup z klávesnice.</span><span class="sxs-lookup"><span data-stu-id="12eb7-128">See [Keyboard Mapping for Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) to simplify keyboard input.</span></span>

<span data-ttu-id="12eb7-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span></span>

<span data-ttu-id="12eb7-130">Můžete použít Internet Explorer verze 9 nebo 10, FireFox nebo Chrome pro vývoj mobilních aplikací tak, že nastavíte [identifikační řetězec prohlížeče](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span><span class="sxs-lookup"><span data-stu-id="12eb7-130">You can use Internet Explorer version 9 or 10, FireFox or Chrome to develop your mobile application by setting the [user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span></span> <span data-ttu-id="12eb7-131">Následující obrázek ukazuje dokončený kurz pomocí Internet Exploreru emulace Iphonu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-131">The following image shows the completed tutorial using Internet Explorer emulating an iPhone.</span></span> <span data-ttu-id="12eb7-132">Můžete použít nástroje pro vývojáře F-12 aplikace Internet Explorer a [nástroj Fiddler](http://www.fiddler2.com/fiddler2/) pro ladění vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="12eb7-132">You can use the Internet Explorer F-12 developer tools and the [Fiddler tool](http://www.fiddler2.com/fiddler2/) to help debug your application.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image3.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="12eb7-133">Dovednosti, které se dozvíte</span><span class="sxs-lookup"><span data-stu-id="12eb7-133">Skills You'll Learn</span></span>

<span data-ttu-id="12eb7-134">Zde je, co se dozvíte:</span><span class="sxs-lookup"><span data-stu-id="12eb7-134">Here's what you'll learn:</span></span>

- <span data-ttu-id="12eb7-135">Jak používat HTML5 šablony ASP.NET MVC 4 `viewport` atribut a adaptivní vykreslování ke zlepšení zobrazení na mobilních zařízeních.</span><span class="sxs-lookup"><span data-stu-id="12eb7-135">How the ASP.NET MVC 4 templates use the HTML5 `viewport` attribute and adaptive rendering to improve display on mobile devices.</span></span>
- <span data-ttu-id="12eb7-136">Postup vytvoření zobrazení specifické pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-136">How to create mobile-specific views.</span></span>
- <span data-ttu-id="12eb7-137">Postup vytvoření zobrazení přepínání této umožňuje uživatelům přepínat mezi mobilní zobrazení a zobrazení plochy aplikace.</span><span class="sxs-lookup"><span data-stu-id="12eb7-137">How to create a view switcher that lets users toggle between a mobile view and a desktop view of the application.</span></span>

### <a name="getting-started"></a><span data-ttu-id="12eb7-138">Začínáme</span><span class="sxs-lookup"><span data-stu-id="12eb7-138">Getting Started</span></span>

<span data-ttu-id="12eb7-139">Stáhnout aplikaci pro výpis konference pro počáteční projekt pomocí následujícího odkazu: [Stáhnout](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="12eb7-139">Download the conference-listing application for the starter project using the following link: [Download](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="12eb7-140">V Průzkumníku Windows, klikněte pravým tlačítkem myši *MvcMobile.zip* soubor a zvolte **vlastnosti**.</span><span class="sxs-lookup"><span data-stu-id="12eb7-140">Then in Windows Explorer, right-click the *MvcMobile.zip* file and choose **Properties**.</span></span> <span data-ttu-id="12eb7-141">V **MvcMobile.zip vlastnosti** dialogového okna zvolte **Odblokovat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="12eb7-141">In the **MvcMobile.zip Properties** dialog box, choose the **Unblock** button.</span></span> <span data-ttu-id="12eb7-142">(Odblokování brání upozornění zabezpečení, ke které dojde při pokusu o použití *ZIP* soubor, který jste stáhli z webu.)</span><span class="sxs-lookup"><span data-stu-id="12eb7-142">(Unblocking prevents a security warning that occurs when you try to use a *.zip* file that you've downloaded from the web.)</span></span>

![p1_unBlock](aspnet-mvc-4-mobile-features/_static/image4.png)

<span data-ttu-id="12eb7-144">Klikněte pravým tlačítkem myši *MvcMobile.zip* a vyberte možnost **Extrahovat vše** dekomprimovat soubor.</span><span class="sxs-lookup"><span data-stu-id="12eb7-144">Right-click the *MvcMobile.zip* file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="12eb7-145">V sadě Visual Studio, otevřete *MvcMobile.sln* souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-145">In Visual Studio, open the *MvcMobile.sln* file.</span></span>

<span data-ttu-id="12eb7-146">Stiskněte kombinaci kláves CTRL + F5 ke spuštění aplikace, které se zobrazí v prohlížeči klientů.</span><span class="sxs-lookup"><span data-stu-id="12eb7-146">Press CTRL+F5 to run the application, which will display it in your desktop browser.</span></span> <span data-ttu-id="12eb7-147">Spustit emulátor vašeho mobilního prohlížeče, zkopírujte adresu URL pro aplikaci konference do emulátoru a potom klikněte na tlačítko **Procházet podle klíčových slov** odkaz.</span><span class="sxs-lookup"><span data-stu-id="12eb7-147">Start your mobile browser emulator, copy the URL for the conference application into the emulator, and then click the **Browse by tag** link.</span></span> <span data-ttu-id="12eb7-148">Pokud používáte emulátor Windows Phone, klikněte na tlačítko na panelu Adresa URL a stiskněte klávesu pozastavení získat přístup z klávesnice.</span><span class="sxs-lookup"><span data-stu-id="12eb7-148">If you are using the Windows Phone Emulator, click in the URL bar and press the Pause key to get keyboard access.</span></span> <span data-ttu-id="12eb7-149">Obrázek níže ukazuje *AllTags* zobrazení (vybrala **Procházet podle klíčových slov**).</span><span class="sxs-lookup"><span data-stu-id="12eb7-149">The image below shows the *AllTags* view (from choosing **Browse by tag**).</span></span>

<span data-ttu-id="12eb7-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span></span>

<span data-ttu-id="12eb7-151">Zobrazení je velmi čitelné na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-151">The display is very readable on a mobile device.</span></span> <span data-ttu-id="12eb7-152">Vyberte odkaz ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="12eb7-152">Choose the ASP.NET link.</span></span>

<span data-ttu-id="12eb7-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span></span>

<span data-ttu-id="12eb7-154">Zobrazení značek technologie ASP.NET je velmi nevypadala.</span><span class="sxs-lookup"><span data-stu-id="12eb7-154">The ASP.NET tag view is very cluttered.</span></span> <span data-ttu-id="12eb7-155">Například **datum** sloupec je velmi obtížné číst.</span><span class="sxs-lookup"><span data-stu-id="12eb7-155">For example, the **Date** column is very difficult to read.</span></span> <span data-ttu-id="12eb7-156">V pozdější části kurzu vytvoříte verzi *AllTags* zobrazení, který je speciálně pro mobilní prohlížeče a, který bude čitelnost zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-156">Later in the tutorial you'll create a version of the *AllTags* view that's specifically for mobile browsers and that will make the display readable.</span></span>

<span data-ttu-id="12eb7-157">Poznámka: Aktuálně chybu existuje mobilní modul pro ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="12eb7-157">Note: Currently a bug exists in the mobile caching engine.</span></span> <span data-ttu-id="12eb7-158">Pro produkční aplikace, je nutné nainstalovat [pevné DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) balíčku nuget.</span><span class="sxs-lookup"><span data-stu-id="12eb7-158">For production applications, you must install the [Fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) nugget package.</span></span> <span data-ttu-id="12eb7-159">Zobrazit [ASP.NET MVC 4 Mobile ukládání do mezipaměti chyby opravené](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) podrobnosti o opravu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-159">See [ASP.NET MVC 4 Mobile Caching Bug Fixed](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) for details on the fix.</span></span>

## <a name="css-media-queries"></a><span data-ttu-id="12eb7-160">Dotazy na média šablon stylů CSS</span><span class="sxs-lookup"><span data-stu-id="12eb7-160">CSS Media Queries</span></span>

<span data-ttu-id="12eb7-161">[Dotazy na média šablon stylů CSS](http://www.w3.org/TR/css3-mediaqueries/) jsou rozšíření šablon stylů CSS pro typy médií.</span><span class="sxs-lookup"><span data-stu-id="12eb7-161">[CSS media queries](http://www.w3.org/TR/css3-mediaqueries/) are an extension to CSS for media types.</span></span> <span data-ttu-id="12eb7-162">Umožňují vytvořit pravidla, které přepíší výchozí pravidla šablon stylů CSS pro konkrétní prohlížeče (Uživatelští agenti).</span><span class="sxs-lookup"><span data-stu-id="12eb7-162">They allow you to create rules that override the default CSS rules for specific browsers (user agents).</span></span> <span data-ttu-id="12eb7-163">Běžné pravidlo pro šablony stylů CSS, který cílí na mobilních prohlížečích je definování maximální velikosti obrazovky.</span><span class="sxs-lookup"><span data-stu-id="12eb7-163">A common rule for CSS that targets mobile browsers is defining the maximum screen size.</span></span> <span data-ttu-id="12eb7-164">*Content\Site.css* soubor, který se vytvoří při vytvoření nového projektu ASP.NET MVC 4 Internet obsahuje následující dotaz na média:</span><span class="sxs-lookup"><span data-stu-id="12eb7-164">The *Content\Site.css* file that's created when you create a new ASP.NET MVC 4 Internet project contains the following media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample1.css)]

<span data-ttu-id="12eb7-165">Pokud okno prohlížeče je 850 pixelů široký nebo méně, použije pravidla šablon stylů CSS v tomto bloku média.</span><span class="sxs-lookup"><span data-stu-id="12eb7-165">If the browser window is 850 pixels wide or less, it will use the CSS rules inside this media block.</span></span> <span data-ttu-id="12eb7-166">Dotazy na média šablon stylů CSS tímto způsobem můžete použít k poskytnutí lepší zobrazení obsahu HTML na malé prohlížeče (například mobilní prohlížeče) než výchozí pravidla šablon stylů CSS, které jsou určeny pro širší zobrazí stolních počítačů.</span><span class="sxs-lookup"><span data-stu-id="12eb7-166">You can use CSS media queries like this to provide a better display of HTML content on small browsers (like mobile browsers) than the default CSS rules that are designed for the wider displays of desktop browsers.</span></span>

## <a name="the-viewport-meta-tag"></a><span data-ttu-id="12eb7-167">Značka Meta zobrazení</span><span class="sxs-lookup"><span data-stu-id="12eb7-167">The Viewport Meta Tag</span></span>

<span data-ttu-id="12eb7-168">Většina mobilních prohlížečů definovat šířku okna virtuálního prohlížeče ( *zobrazení*), který je mnohem větší než skutečná šířku mobilního zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-168">Most mobile browsers define a virtual browser window width (the *viewport*) that's much larger than the actual width of the mobile device.</span></span> <span data-ttu-id="12eb7-169">To umožňuje mobilní prohlížeče podle celé webové stránky uvnitř virtuální zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-169">This allows mobile browsers to fit the entire web page inside the virtual display.</span></span> <span data-ttu-id="12eb7-170">Uživatelé pak přiblížením zajímavého obsahu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-170">Users can then zoom in on interesting content.</span></span> <span data-ttu-id="12eb7-171">Ale pokud nastavíte Šířka zobrazení na šířku skutečné zařízení, bez měřítka je nutná, protože obsah vejde v mobilním prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="12eb7-171">However, if you set the viewport width to the actual device width, no zooming is required, because the content fits in the mobile browser.</span></span>

<span data-ttu-id="12eb7-172">Zobrazení `<meta>` značky v souboru rozložení ASP.NET MVC 4 Nastaví zobrazení na šířku zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-172">The viewport `<meta>` tag in the ASP.NET MVC 4 layout file sets the viewport to the device width.</span></span> <span data-ttu-id="12eb7-173">Následující řádek obsahuje zobrazení `<meta>` značky v souboru rozložení ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="12eb7-173">The following line shows the viewport `<meta>` tag in the ASP.NET MVC 4 layout file.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample2.html)]

## <a name="examining-the-effect-of-css-media-queries-and-the-viewport-meta-tag"></a><span data-ttu-id="12eb7-174">Zkoumání šablon stylů CSS Media dotazů a zobrazení metaznačku efekt</span><span class="sxs-lookup"><span data-stu-id="12eb7-174">Examining the Effect of CSS Media Queries and the Viewport Meta Tag</span></span>

<span data-ttu-id="12eb7-175">Otevřít *Views\Shared\\_Layout.cshtml* souboru v editoru a Odkomentujte zobrazení `<meta>` značky.</span><span class="sxs-lookup"><span data-stu-id="12eb7-175">Open the *Views\Shared\\_Layout.cshtml* file in the editor and comment out the viewport `<meta>` tag.</span></span> <span data-ttu-id="12eb7-176">Následující kód ukazuje komentovaný řádek.</span><span class="sxs-lookup"><span data-stu-id="12eb7-176">The following markup shows the commented-out line.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample3.cshtml)]

<span data-ttu-id="12eb7-177">Otevřít *MvcMobile\Content\Site.css* souboru v editoru a změňte maximální šířka v dotazu médií na nula pixelů.</span><span class="sxs-lookup"><span data-stu-id="12eb7-177">Open the *MvcMobile\Content\Site.css* file in the editor and change the maximum width in the media query to zero pixels.</span></span> <span data-ttu-id="12eb7-178">To zabrání pravidel šablon stylů CSS z používání mobilních prohlížečů.</span><span class="sxs-lookup"><span data-stu-id="12eb7-178">This will prevent the CSS rules from being used in mobile browsers.</span></span> <span data-ttu-id="12eb7-179">Následující řádek obsahuje upravený multimediální dotaz:</span><span class="sxs-lookup"><span data-stu-id="12eb7-179">The following line shows the modified media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample4.css)]

<span data-ttu-id="12eb7-180">Uložte změny a přejděte do místa konání konference aplikace spustila v emulátoru mobilního prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-180">Save your changes and browse to the Conference application in a mobile browser emulator.</span></span> <span data-ttu-id="12eb7-181">Velmi malé text na následujícím obrázku je výsledek odebrání zobrazení `<meta>` značky.</span><span class="sxs-lookup"><span data-stu-id="12eb7-181">The tiny text in the following image is the result of removing the viewport `<meta>` tag.</span></span> <span data-ttu-id="12eb7-182">Se žádné zobrazení `<meta>` značky, prohlížeč je oddálení výchozí zobrazení šířku (850 pixelů nebo větší u většiny mobilních prohlížečů.)</span><span class="sxs-lookup"><span data-stu-id="12eb7-182">With no viewport `<meta>` tag, the browser is zooming out to the default viewport width (850 pixels or wider for most mobile browsers.)</span></span>

<span data-ttu-id="12eb7-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span></span>

<span data-ttu-id="12eb7-184">Zrušit změny – zrušte komentář u zobrazení `<meta>` označení na soubor rozložení a obnovte multimediální dotaz 850 pixelů *Site.css* souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-184">Undo your changes — uncomment the viewport `<meta>` tag in the layout file and restore the media query to 850 pixels in the *Site.css* file.</span></span> <span data-ttu-id="12eb7-185">Uložte změny a aktualizovat mobilní prohlížeče k ověření, že se obnovila mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-185">Save your changes and refresh the mobile browser to verify that the mobile-friendly display has been restored.</span></span>

<span data-ttu-id="12eb7-186">Zobrazení `<meta>` značky a šablony stylů CSS media dotaz nejsou specifická pro technologii ASP.NET MVC 4 a můžete využít tyto funkce v jakékoli webové aplikaci.</span><span class="sxs-lookup"><span data-stu-id="12eb7-186">The viewport `<meta>` tag and the CSS media query are not specific to ASP.NET MVC 4, and you can take advantage of these features in any web application.</span></span> <span data-ttu-id="12eb7-187">Ale jsou teď součástí soubory, které jsou generovány, pokud vytvoříte nový projekt ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="12eb7-187">But they are now built into the files that are generated when you create a new ASP.NET MVC 4 project.</span></span>

<span data-ttu-id="12eb7-188">Další informace o zobrazení `<meta>` značku, přečtěte si téma [činnosti z dvě okna – část 2](http://www.quirksmode.org/mobile/viewports2.html).</span><span class="sxs-lookup"><span data-stu-id="12eb7-188">For more information about the viewport `<meta>` tag, see [A tale of two viewports — part two](http://www.quirksmode.org/mobile/viewports2.html).</span></span>

<span data-ttu-id="12eb7-189">V další části uvidíte, jak poskytnout konkrétní zobrazení mobilní prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-189">In the next section you'll see how to provide mobile-browser specific views.</span></span>

## <a name="overriding-views-layouts-and-partial-views"></a><span data-ttu-id="12eb7-190">Přepsání, rozložení a částečné zobrazení</span><span class="sxs-lookup"><span data-stu-id="12eb7-190">Overriding Views, Layouts, and Partial Views</span></span>

<span data-ttu-id="12eb7-191">Důležité nové funkce v architektuře ASP.NET MVC 4 je jednoduchý mechanismus, který umožňuje přepsat všechna zobrazení (včetně rozložení a částečných zobrazení) pro mobilní prohlížeče, obecně pro jednotlivé mobilního prohlížeče nebo pro všechny určitého webového prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-191">A significant new feature in ASP.NET MVC 4 is a simple mechanism that lets you override any view (including layouts and partial views) for mobile browsers in general, for an individual mobile browser, or for any specific browser.</span></span> <span data-ttu-id="12eb7-192">Abyste si mohli zobrazit konkrétní mobilní zařízení, můžete zkopírovat soubor zobrazení a přidání *. Mobilní* k názvu souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-192">To provide a mobile-specific view, you can copy a view file and add *.Mobile* to the file name.</span></span> <span data-ttu-id="12eb7-193">Chcete-li například vytvořit mobilní *Index* zobrazit, zkopírovat *Views\Home\Index.cshtml* k *Views\Home\Index.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-193">For example, to create a mobile *Index* view, copy *Views\Home\Index.cshtml* to *Views\Home\Index.Mobile.cshtml*.</span></span>

<span data-ttu-id="12eb7-194">V této části vytvoříte soubor rozložení specifické pro mobilní zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-194">In this section, you'll create a mobile-specific layout file.</span></span>

<span data-ttu-id="12eb7-195">Pokud chcete začít, zkopírujte *Views\Shared\\_Layout.cshtml* k *Views\Shared\\_Layout.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-195">To start, copy *Views\Shared\\_Layout.cshtml* to *Views\Shared\\_Layout.Mobile.cshtml*.</span></span> <span data-ttu-id="12eb7-196">Otevřít  *\_Layout.Mobile.cshtml* a změnit název z **MVC4 konference** k **Conference (mobilní)**.</span><span class="sxs-lookup"><span data-stu-id="12eb7-196">Open *\_Layout.Mobile.cshtml* and change the title from **MVC4 Conference** to **Conference (Mobile)**.</span></span>

<span data-ttu-id="12eb7-197">V každém `Html.ActionLink` volání, odeberte "Procházet podle" v každé propojení *ActionLink*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-197">In each `Html.ActionLink` call, remove "Browse by" in each link *ActionLink*.</span></span> <span data-ttu-id="12eb7-198">Následující kód ukazuje dokončené těla souboru mobilní rozložení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-198">The following code shows the completed body section of the mobile layout file.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample5.cshtml)]

<span data-ttu-id="12eb7-199">Kopírovat *Views\Home\AllTags.cshtml* do souboru *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-199">Copy the *Views\Home\AllTags.cshtml* file to *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="12eb7-200">Otevřete nový soubor a změňte `<h2>` element z "Tags" k "značky (M)":</span><span class="sxs-lookup"><span data-stu-id="12eb7-200">Open the new file and change the `<h2>` element from "Tags" to "Tags (M)":</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample6.html)]

<span data-ttu-id="12eb7-201">Přejděte na stránku značky pomocí prohlížeč pro stolní počítač a pomocí emulátoru mobilního prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-201">Browse to the tags page using a desktop browser and using mobile browser emulator.</span></span> <span data-ttu-id="12eb7-202">Emulátoru mobilního prohlížeče ukazuje dvě změny, které jste provedli.</span><span class="sxs-lookup"><span data-stu-id="12eb7-202">The mobile browser emulator shows the two changes you made.</span></span>

<span data-ttu-id="12eb7-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span></span>

<span data-ttu-id="12eb7-204">Naproti tomu nedošlo ke změně zobrazení plochy.</span><span class="sxs-lookup"><span data-stu-id="12eb7-204">In contrast, the desktop display has not changed.</span></span>

<span data-ttu-id="12eb7-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span></span>

## <a name="browser-specific-views"></a><span data-ttu-id="12eb7-206">Zobrazení specifické pro prohlížeč</span><span class="sxs-lookup"><span data-stu-id="12eb7-206">Browser-Specific Views</span></span>

<span data-ttu-id="12eb7-207">Kromě zobrazení specifické pro mobilní zařízení a desktop můžete vytvořit zobrazení pro jednotlivé prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-207">In addition to mobile-specific and desktop-specific views, you can create views for an individual browser.</span></span> <span data-ttu-id="12eb7-208">Můžete například vytvořit zobrazení, které jsou určené konkrétně pro iPhone prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-208">For example, you can create views that are specifically for the iPhone browser.</span></span> <span data-ttu-id="12eb7-209">V této části vytvoříte rozložení pro iPhone prohlížeče a uváděna verze *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-209">In this section, you'll create a layout for the iPhone browser and an iPhone version of the *AllTags* view.</span></span>

<span data-ttu-id="12eb7-210">Otevřít *Global.asax* a přidejte následující kód, který `Application_Start` metoda.</span><span class="sxs-lookup"><span data-stu-id="12eb7-210">Open the *Global.asax* file and add the following code to the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample7.cs)]

<span data-ttu-id="12eb7-211">Tento kód definuje nový režim zobrazení s názvem "iPhone", který bude porovnání jednotlivých příchozích požadavků.</span><span class="sxs-lookup"><span data-stu-id="12eb7-211">This code defines a new display mode named "iPhone" that will be matched against each incoming request.</span></span> <span data-ttu-id="12eb7-212">Pokud příchozí žádost odpovídá podmínku, kterou jste definovali (tj. Pokud uživatelský agent obsahuje řetězec "iPhone"), bude technologie ASP.NET MVC hledat zobrazení, jejichž název obsahuje příponu "iPhone".</span><span class="sxs-lookup"><span data-stu-id="12eb7-212">If the incoming request matches the condition you defined (that is, if the user agent contains the string "iPhone"), ASP.NET MVC will look for views whose name contains the "iPhone" suffix.</span></span>

<span data-ttu-id="12eb7-213">V kódu, klikněte pravým tlačítkem na `DefaultDisplayMode`, zvolte **vyřešit**a klikněte na tlačítko `using System.Web.WebPages;`.</span><span class="sxs-lookup"><span data-stu-id="12eb7-213">In the code, right-click `DefaultDisplayMode`, choose **Resolve**, and then choose `using System.Web.WebPages;`.</span></span> <span data-ttu-id="12eb7-214">To přidá odkaz na `System.Web.WebPages` obor názvů, který je tam, kde `DisplayModes` a `DefaultDisplayMode` typy jsou definovány.</span><span class="sxs-lookup"><span data-stu-id="12eb7-214">This adds a reference to the `System.Web.WebPages` namespace, which is where the `DisplayModes` and `DefaultDisplayMode` types are defined.</span></span>

<span data-ttu-id="12eb7-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span></span>

<span data-ttu-id="12eb7-216">Můžete také pouze ručně přidejte následující řádek, který `using` část souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-216">Alternatively, you can just manually add the following line to the `using` section of the file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample8.cs)]

<span data-ttu-id="12eb7-217">Úplný obsah *Global.asax* souboru je uveden níže.</span><span class="sxs-lookup"><span data-stu-id="12eb7-217">The complete contents of the *Global.asax* file is shown below.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample9.cs)]

<span data-ttu-id="12eb7-218">Uložte změny.</span><span class="sxs-lookup"><span data-stu-id="12eb7-218">Save the changes.</span></span> <span data-ttu-id="12eb7-219">Kopírovat *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* do souboru *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-219">Copy the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file to *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span></span> <span data-ttu-id="12eb7-220">Otevřete nový soubor a potom změňte `h1` nadpis z `Conference (Mobile)` k `Conference (iPhone)`.</span><span class="sxs-lookup"><span data-stu-id="12eb7-220">Open the new file and then change the `h1` heading from `Conference (Mobile)` to `Conference (iPhone)`.</span></span>

<span data-ttu-id="12eb7-221">Kopírovat *MvcMobile\Views\Home\AllTags.Mobile.cshtml* do souboru *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-221">Copy the *MvcMobile\Views\Home\AllTags.Mobile.cshtml* file to *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span></span> <span data-ttu-id="12eb7-222">V novém souboru změnit `<h2>` element z "značky (M)" k "Tags (iPhone)".</span><span class="sxs-lookup"><span data-stu-id="12eb7-222">In the new file, change the `<h2>` element from "Tags (M)" to "Tags (iPhone)".</span></span>

<span data-ttu-id="12eb7-223">Spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="12eb7-223">Run the application.</span></span> <span data-ttu-id="12eb7-224">Spustit emulátor mobilní prohlížeče, ujistěte se, že jeho uživatelský agent je nastavena na "iPhone" a přejděte *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-224">Run a mobile browser emulator, make sure its user agent is set to "iPhone", and browse to the *AllTags* view.</span></span> <span data-ttu-id="12eb7-225">Následující snímek obrazovky ukazuje *AllTags* zobrazení vykresleno v [Safari](http://www.apple.com/safari/download/) prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-225">The following screenshot shows the *AllTags* view rendered in the [Safari](http://www.apple.com/safari/download/) browser.</span></span> <span data-ttu-id="12eb7-226">Safari pro Windows si můžete stáhnout [tady](https://support.apple.com/kb/DL1531).</span><span class="sxs-lookup"><span data-stu-id="12eb7-226">You can download Safari for Windows [here](https://support.apple.com/kb/DL1531).</span></span>

<span data-ttu-id="12eb7-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span></span>

<span data-ttu-id="12eb7-228">V této části jsme jste viděli, jak vytvořit mobilní rozložení a zobrazení a postup vytvoření zobrazení pro konkrétní zařízení, jako je například iPhone a rozložení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-228">In this section we've seen how to create mobile layouts and views and how to create layouts and views for specific devices such as the iPhone.</span></span> <span data-ttu-id="12eb7-229">V další části uvidíte, jak využít jQuery Mobile pro další zajímavé mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-229">In the next section you'll see how to leverage jQuery Mobile for more compelling mobile views.</span></span>

## <a name="using-jquery-mobile"></a><span data-ttu-id="12eb7-230">Pomocí jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="12eb7-230">Using jQuery Mobile</span></span>

<span data-ttu-id="12eb7-231">[JQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) knihovny poskytuje architekturu uživatelské rozhraní, která funguje na všech hlavních mobilních prohlížečů.</span><span class="sxs-lookup"><span data-stu-id="12eb7-231">The [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) library provides a user interface framework that works on all the major mobile browsers.</span></span> <span data-ttu-id="12eb7-232">jQuery Mobile platí *postupném rozšiřování* na mobilních prohlížečích, které podporují šablon stylů CSS a JavaScriptu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-232">jQuery Mobile applies *progressive enhancement* to mobile browsers that support CSS and JavaScript.</span></span> <span data-ttu-id="12eb7-233">Postupném rozšiřování umožňuje všechny prohlížeče zobrazíte základní obsah na webové stránce, přičemž výkonnější prohlížečích a zařízeních mít bohatší zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-233">Progressive enhancement allows all browsers to display the basic content of a web page, while allowing more powerful browsers and devices to have a richer display.</span></span> <span data-ttu-id="12eb7-234">Soubory jazyka JavaScript a CSS, které jsou součástí jQuery Mobile stylu mnoho prvků podle mobilní prohlížeče bez jakýchkoli změn kódu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-234">The JavaScript and CSS files that are included with jQuery Mobile style many elements to fit mobile browsers without making any markup changes.</span></span>

<span data-ttu-id="12eb7-235">V této části nainstalujete *jQuery.Mobile.MVC* balíček NuGet, který nainstaluje jQuery Mobile a widget přepínači zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-235">In this section you'll install the *jQuery.Mobile.MVC* NuGet package, which installs jQuery Mobile and a view-switcher widget.</span></span>

<span data-ttu-id="12eb7-236">Pokud chcete začít, odstraňte *sdílené\\_Layout.Mobile.cshtml* a *sdílené\\_Layout.iPhone.cshtml* soubory, které jste vytvořili dříve.</span><span class="sxs-lookup"><span data-stu-id="12eb7-236">To start, delete the *Shared\\_Layout.Mobile.cshtml* and *Shared\\_Layout.iPhone.cshtml* files that you created earlier.</span></span>

<span data-ttu-id="12eb7-237">Přejmenovat *Views\Home\AllTags.Mobile.cshtml* a *Views\Home\AllTags.iPhone.cshtml* soubory *Views\Home\AllTags.iPhone.cshtml.hide* a  *Views\Home\AllTags.Mobile.cshtml.hide*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-237">Rename *Views\Home\AllTags.Mobile.cshtml* and *Views\Home\AllTags.iPhone.cshtml* files to *Views\Home\AllTags.iPhone.cshtml.hide* and *Views\Home\AllTags.Mobile.cshtml.hide*.</span></span> <span data-ttu-id="12eb7-238">Vzhledem k tomu, že už nebude mít soubory *.cshtml* rozšíření, nebudou použity modulem runtime ASP.NET MVC pro vykreslení *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-238">Because the files no longer have a *.cshtml* extension, they won't be used by the ASP.NET MVC runtime to render the *AllTags* view.</span></span>

<span data-ttu-id="12eb7-239">Nainstalujte *jQuery.Mobile.MVC* balíček NuGet díky tomu:</span><span class="sxs-lookup"><span data-stu-id="12eb7-239">Install the *jQuery.Mobile.MVC* NuGet package by doing this:</span></span>

1. <span data-ttu-id="12eb7-240">Z **nástroje** nabídce vyberte možnost **Správce balíčků knihoven**a pak vyberte **Konzola správce balíčků**.</span><span class="sxs-lookup"><span data-stu-id="12eb7-240">From the **Tools** menu, select **Library Package Manager**, and then select **Package Manager Console**.</span></span>

    <span data-ttu-id="12eb7-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span></span>
2. <span data-ttu-id="12eb7-242">V **Konzola správce balíčků**, zadejte `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span><span class="sxs-lookup"><span data-stu-id="12eb7-242">In the **Package Manager Console**, enter `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span></span>

<span data-ttu-id="12eb7-243">Následující obrázek ukazuje soubory přidat a změnit do projektu MvcMobile jQuery.Mobile.MVC balíček NuGet.</span><span class="sxs-lookup"><span data-stu-id="12eb7-243">The following image shows the files added and changed to the MvcMobile project by the NuGet jQuery.Mobile.MVC package.</span></span> <span data-ttu-id="12eb7-244">Soubory, které se přidají [přidat] připojí po název souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-244">Files which are added have [add] appended after the file name.</span></span> <span data-ttu-id="12eb7-245">Obrázek GIF nezobrazuje a soubory PNG přidány do *Content\images* složky.</span><span class="sxs-lookup"><span data-stu-id="12eb7-245">The image does not show the GIF and PNG files added to the *Content\images* folder.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image21.png)

<span data-ttu-id="12eb7-246">Balíček NuGet jQuery.Mobile.MVC nainstaluje následující:</span><span class="sxs-lookup"><span data-stu-id="12eb7-246">The jQuery.Mobile.MVC NuGet package installs the following:</span></span>

- <span data-ttu-id="12eb7-247">*Aplikace\_Start\BundleMobileConfig.cs* soubor, který je nutný k odkazování jQuery jazyka JavaScript a CSS soubory přidané.</span><span class="sxs-lookup"><span data-stu-id="12eb7-247">The *App\_Start\BundleMobileConfig.cs* file, which is needed to reference the jQuery JavaScript and CSS files added.</span></span> <span data-ttu-id="12eb7-248">Musí podle pokynů níže a odkazovat na mobilní sadu definovanou v tomto souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-248">You must follow the instructions below and reference the mobile bundle defined in this file.</span></span>
- <span data-ttu-id="12eb7-249">jQuery Mobile CSS soubory.</span><span class="sxs-lookup"><span data-stu-id="12eb7-249">jQuery Mobile CSS files.</span></span>
- <span data-ttu-id="12eb7-250">A `ViewSwitcher` widget kontroler (*Controllers\ViewSwitcherController.cs*).</span><span class="sxs-lookup"><span data-stu-id="12eb7-250">A `ViewSwitcher` controller widget (*Controllers\ViewSwitcherController.cs*).</span></span>
- <span data-ttu-id="12eb7-251">jQuery Mobile Javascriptové soubory.</span><span class="sxs-lookup"><span data-stu-id="12eb7-251">jQuery Mobile JavaScript files.</span></span>
- <span data-ttu-id="12eb7-252">JQuery Mobile styl rozložení souboru (*Views\Shared\\_Layout.Mobile.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="12eb7-252">A jQuery Mobile-styled layout file (*Views\Shared\\_Layout.Mobile.cshtml*).</span></span>
- <span data-ttu-id="12eb7-253">Přepínači zobrazení částečného zobrazení *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*), který poskytuje odkaz v horní části každé stránky přepněte ze zobrazení plochy na mobilní zobrazení a naopak.</span><span class="sxs-lookup"><span data-stu-id="12eb7-253">A view-switcher partial view *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) that provides a link at the top of each page to switch from desktop view to mobile view and vice versa.</span></span>
- <span data-ttu-id="12eb7-254">Několik<em>.png</em> a <em>.gif</em> soubory v obrázků <em>Content\images</em> složky.</span><span class="sxs-lookup"><span data-stu-id="12eb7-254">Several<em>.png</em> and <em>.gif</em> image files in the <em>Content\images</em> folder.</span></span>

<span data-ttu-id="12eb7-255">Otevřít *Global.asax* a přidejte následující kód jako poslední řádek `Application_Start` metody.</span><span class="sxs-lookup"><span data-stu-id="12eb7-255">Open the *Global.asax* file and add the following code as the last line of the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample10.cs)]

<span data-ttu-id="12eb7-256">Následující kód ukazuje kompletní *Global.asax* souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-256">The following code shows the complete *Global.asax* file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample11.cs?highlight=26)]

> [!NOTE]
> <span data-ttu-id="12eb7-257">Pokud používáte Internet Explorer 9 a nevidíte `BundleMobileConfig` řádek výše v zvýraznit žlutý, klikněte na tlačítko [kompatibilního zobrazení tlačítka](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![obrázek kompatibilní zobrazení tlačítka (vypnuto)] (http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg " Obrázek tlačítka kompatibilního zobrazení (vypnuto)") v Internet Exploreru, chcete-li změnit z přehledu ikonu ![obrázek kompatibilní zobrazení tlačítka (vypnuto)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "obrázek kompatibilní zobrazení tlačítka (vypnuté) ") plnou barvu ![obrázku (na) tlačítko pro kompatibilní zobrazení](http://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "obrázku (na) tlačítko pro kompatibilní zobrazení").</span><span class="sxs-lookup"><span data-stu-id="12eb7-257">If you are using Internet Explorer 9 and you don't see the `BundleMobileConfig` line above in yellow highlight, click the [Compatibility View button](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Picture of the Compatibility View button (off)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") in IE to make the icon change from an outline ![Picture of the Compatibility View button (off)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") to a solid color ![Picture of the Compatibility View button (on)](http://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Picture of the Compatibility View button (on)").</span></span> <span data-ttu-id="12eb7-258">Případně můžete zobrazit v tomto kurzu v aplikaci FireFox nebo Chrome.</span><span class="sxs-lookup"><span data-stu-id="12eb7-258">Alternatively you can view this tutorial in FireFox or Chrome.</span></span>


<span data-ttu-id="12eb7-259">Otevřít *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* a přidejte následující kód přímo po `Html.Partial` volání:</span><span class="sxs-lookup"><span data-stu-id="12eb7-259">Open the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file and add the following markup directly after the `Html.Partial` call:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample12.cshtml)]

<span data-ttu-id="12eb7-260">Kompletní *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* souboru je uveden níže:</span><span class="sxs-lookup"><span data-stu-id="12eb7-260">The complete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample13.cshtml)]

<span data-ttu-id="12eb7-261">Sestavení aplikace a v emulátoru vašeho mobilního prohlížeče přejděte *AllTags* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-261">Build the application, and in your mobile browser emulator browse to the *AllTags* view.</span></span> <span data-ttu-id="12eb7-262">Zobrazí se následující:</span><span class="sxs-lookup"><span data-stu-id="12eb7-262">You see the following:</span></span>

<span data-ttu-id="12eb7-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span></span>

> [!NOTE]
> <span data-ttu-id="12eb7-264">Můžete ladit mobilní konkrétním kódu pomocí [nastavení identifikační řetězec prohlížeče](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) pro aplikace Internet Explorer nebo Chrome Iphonů a pak pomocí nástroje pro vývojáře F-12.</span><span class="sxs-lookup"><span data-stu-id="12eb7-264">You can debug the mobile specific code by [setting the user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) for IE or Chrome to iPhone and then using the F-12 developer tools.</span></span> <span data-ttu-id="12eb7-265">Pokud se nezobrazí v mobilním prohlížeči **Domů**, **mluvčího**, **značky**, a **datum** odkazy jako tlačítka, odkazy na jQuery Mobile skriptů a souborů CSS jsou pravděpodobně není správné.</span><span class="sxs-lookup"><span data-stu-id="12eb7-265">If your mobile browser doesn't display the **Home**, **Speaker**, **Tag**, and **Date** links as buttons, the references to jQuery Mobile scripts and CSS files are probably not correct.</span></span>


<span data-ttu-id="12eb7-266">Kromě změn stylů se zobrazí **mobilní zobrazení** a odkaz, který umožňuje přepnout do zobrazení plochy z mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-266">In addition to the style changes, you see **Displaying mobile view** and a link that lets you switch from mobile view to desktop view.</span></span> <span data-ttu-id="12eb7-267">Zvolte **zobrazení plochy** propojení a zobrazení plochy se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="12eb7-267">Choose the **Desktop view** link, and the desktop view is displayed.</span></span>

<span data-ttu-id="12eb7-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span></span>

<span data-ttu-id="12eb7-269">Zobrazení plochy neposkytuje způsob, jak přímo přejít zpět na mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-269">The desktop view doesn't provide a way to directly navigate back to the mobile view.</span></span> <span data-ttu-id="12eb7-270">Opravíte to nyní.</span><span class="sxs-lookup"><span data-stu-id="12eb7-270">You'll fix that now.</span></span> <span data-ttu-id="12eb7-271">Otevřít *Views\Shared\\_Layout.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-271">Open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="12eb7-272">Přímo pod stránku `body` prvku, přidejte následující kód, který vykreslí widgetu přepínači zobrazení:</span><span class="sxs-lookup"><span data-stu-id="12eb7-272">Just under the page `body` element, add the following code, which renders the view-switcher widget:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample14.cshtml)]

<span data-ttu-id="12eb7-273">Aktualizovat *AllTags* zobrazení v mobilním prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="12eb7-273">Refresh the *AllTags* view in the mobile browser.</span></span> <span data-ttu-id="12eb7-274">Můžete nyní procházet mezi stolní počítače a mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-274">You can now navigate between desktop and mobile views.</span></span>

<span data-ttu-id="12eb7-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span></span>

> [!NOTE]
> <span data-ttu-id="12eb7-276">Ladění Poznámka: následující kód můžete přidat na konec objektu Views\Shared\\_ViewSwitcher.cshtml pro ladění zobrazení pomocí prohlížeče identifikační řetězec prohlížeče nastavena na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-276">Debug note: You can add the following code to the end of the Views\Shared\\_ViewSwitcher.cshtml to help debug views when using a browser the user agent string set to a mobile device.</span></span>
> 
> [!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample15.cs)]
> 
>  <span data-ttu-id="12eb7-277">a přidejte následující záhlaví *Views\Shared\\_Layout.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-277">and adding the following heading to the *Views\Shared\\_Layout.cshtml* file.</span></span>  
> 
> [!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample16.html)]


<span data-ttu-id="12eb7-278">Přejděte *AllTags* stránky v desktopovém prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="12eb7-278">Browse to the *AllTags* page in a desktop browser.</span></span> <span data-ttu-id="12eb7-279">Ve widgetu přepínači zobrazení není v desktopovém prohlížeči zobrazen, protože se přidá jenom do mobilní rozložení stránky.</span><span class="sxs-lookup"><span data-stu-id="12eb7-279">The view-switcher widget is not displayed in a desktop browser because it's added only to the mobile layout page.</span></span> <span data-ttu-id="12eb7-280">Později v tomto kurzu uvidíte, jak můžete přidat widget přepínači zobrazení do zobrazení plochy.</span><span class="sxs-lookup"><span data-stu-id="12eb7-280">Later in the tutorial you'll see how you can add the view-switcher widget to the desktop view.</span></span>

<span data-ttu-id="12eb7-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span></span>

## <a name="improving-the-speakers-list"></a><span data-ttu-id="12eb7-282">Vylepšení seznamu přednášejících</span><span class="sxs-lookup"><span data-stu-id="12eb7-282">Improving the Speakers List</span></span>

<span data-ttu-id="12eb7-283">V mobilním prohlížeči, vyberte **přednášející** odkaz.</span><span class="sxs-lookup"><span data-stu-id="12eb7-283">In the mobile browser, select the **Speakers** link.</span></span> <span data-ttu-id="12eb7-284">Protože neexistuje žádná mobilní zobrazení (*AllSpeakers.Mobile.cshtml*), zobrazit přednášející výchozí (*AllSpeakers.cshtml*) je vykreslen pomocí mobilní rozložení zobrazení ( *\_ Layout.Mobile.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="12eb7-284">Because there's no mobile view(*AllSpeakers.Mobile.cshtml*), the default speakers display (*AllSpeakers.cshtml*) is rendered using the mobile layout view (*\_Layout.Mobile.cshtml*).</span></span>

<span data-ttu-id="12eb7-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span></span>

<span data-ttu-id="12eb7-286">Výchozí zobrazení (nemobilních zařízení) z vykreslování uvnitř mobilní rozložení můžete globálně zakázat nastavením `RequireConsistentDisplayMode` k `true` v *zobrazení\\soubor _ViewStart.cshtml* souboru následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="12eb7-286">You can globally disable a default (non-mobile) view from rendering inside a mobile layout by setting `RequireConsistentDisplayMode` to `true` in the *Views\\_ViewStart.cshtml* file, like this:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample17.cshtml)]

<span data-ttu-id="12eb7-287">Když `RequireConsistentDisplayMode` je nastavena na `true`, mobilní rozložení (<em>\_Layout.Mobile.cshtml</em>) se používá pouze pro mobilní zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-287">When `RequireConsistentDisplayMode` is set to `true`, the mobile layout (<em>\_Layout.Mobile.cshtml</em>) is used only for mobile views.</span></span> <span data-ttu-id="12eb7-288">(To znamená, je soubor zobrazení formuláře <em>** ViewName</em><em>. Mobile.cshtml</em>.) Můžete chtít nastavit `RequireConsistentDisplayMode` k `true` Pokud mobilní rozložení nebude fungovat s zobrazení nemobilních zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-288">(That is, the view file is of the form <em>**ViewName</em><em>.Mobile.cshtml</em>.) You might want to set `RequireConsistentDisplayMode` to `true` if your mobile layout doesn't work well with your non-mobile views.</span></span> <span data-ttu-id="12eb7-289">Na snímku obrazovky níže ukazuje jak <em>přednášející</em> při vykreslení stránky `RequireConsistentDisplayMode` je nastavena na `true`.</span><span class="sxs-lookup"><span data-stu-id="12eb7-289">The screenshot below shows how the <em>Speakers</em> page renders when `RequireConsistentDisplayMode` is set to `true`.</span></span>

<span data-ttu-id="12eb7-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span></span>

<span data-ttu-id="12eb7-291">Konzistentní režim zobrazení v zobrazení lze zakázat nastavením `RequireConsistentDisplayMode` k `false` v zobrazení souboru.</span><span class="sxs-lookup"><span data-stu-id="12eb7-291">You can disable consistent display mode in a view by setting `RequireConsistentDisplayMode` to `false` in the view file.</span></span> <span data-ttu-id="12eb7-292">Následující kód v *Views\Home\AllSpeakers.cshtml* souboru sady `RequireConsistentDisplayMode` k `false`:</span><span class="sxs-lookup"><span data-stu-id="12eb7-292">The following markup in the *Views\Home\AllSpeakers.cshtml* file sets `RequireConsistentDisplayMode` to `false`:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample18.cshtml)]

## <a name="creating-a-mobile-speakers-view"></a><span data-ttu-id="12eb7-293">Vytvoření zobrazení mobilní přednášející</span><span class="sxs-lookup"><span data-stu-id="12eb7-293">Creating a Mobile Speakers View</span></span>

<span data-ttu-id="12eb7-294">Protože jste před chvílí, *přednášející* zobrazení je čitelný, ale odkazy jsou malé a obtížně se klepnutím na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-294">As you just saw, the *Speakers* view is readable, but the links are small and are difficult to tap on a mobile device.</span></span> <span data-ttu-id="12eb7-295">V této části vytvoříte mobile konkrétní *přednášející* zobrazení, která vypadá moderní mobilní aplikace – zobrazuje velké, -tap odkazy a obsahuje vyhledávací pole a rychle najít mluvčí.</span><span class="sxs-lookup"><span data-stu-id="12eb7-295">In this section, you'll create a mobile-specific *Speakers* view that looks like a modern mobile application — it displays large, easy-to-tap links and contains a search box to quickly find speakers.</span></span>

<span data-ttu-id="12eb7-296">Kopírování *AllSpeakers.cshtml* k *AllSpeakers.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-296">Copy *AllSpeakers.cshtml* to *AllSpeakers.Mobile.cshtml*.</span></span> <span data-ttu-id="12eb7-297">Otevřít *AllSpeakers.Mobile.cshtml* souboru a odebrat `<h2>` záhlaví elementu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-297">Open the *AllSpeakers.Mobile.cshtml* file and remove the `<h2>` heading element.</span></span>

<span data-ttu-id="12eb7-298">V `<ul>` značky, přidejte `data-role` atribut a nastavte jej na hodnotu `listview`.</span><span class="sxs-lookup"><span data-stu-id="12eb7-298">In the `<ul>` tag, add the `data-role` attribute and set its value to `listview`.</span></span> <span data-ttu-id="12eb7-299">Stejně jako jiné [ `data-*` atributy](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` umožňuje snadněji položky seznamu velkých klepnout na.</span><span class="sxs-lookup"><span data-stu-id="12eb7-299">Like other [`data-*` attributes](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` makes the large list items easier to tap.</span></span> <span data-ttu-id="12eb7-300">To vypadá dokončené značky:</span><span class="sxs-lookup"><span data-stu-id="12eb7-300">This is what the completed markup looks like:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample19.cshtml)]

<span data-ttu-id="12eb7-301">Aktualizace mobilních prohlížečů.</span><span class="sxs-lookup"><span data-stu-id="12eb7-301">Refresh the mobile browser.</span></span> <span data-ttu-id="12eb7-302">Zobrazení aktualizované vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="12eb7-302">The updated view looks like this:</span></span>

<span data-ttu-id="12eb7-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span></span>

<span data-ttu-id="12eb7-304">I když se mobilní zobrazení se zlepšila, je obtížné přejděte dlouhý seznam přednášejících.</span><span class="sxs-lookup"><span data-stu-id="12eb7-304">Although the mobile view has improved, it's difficult to navigate the long list of speakers.</span></span> <span data-ttu-id="12eb7-305">Chcete-li tento problém odstranit, `<ul>` značky, přidejte `data-filter` atribut a nastavte ho na `true`.</span><span class="sxs-lookup"><span data-stu-id="12eb7-305">To fix this, in the `<ul>` tag, add the `data-filter` attribute and set it to `true`.</span></span> <span data-ttu-id="12eb7-306">Níže uvedený kód ukazuje `ul` značek.</span><span class="sxs-lookup"><span data-stu-id="12eb7-306">The code below shows the `ul` markup.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample20.html)]

<span data-ttu-id="12eb7-307">Následující obrázek ukazuje filtrování pole Hledat v horní části stránky, která je výsledkem `data-filter` atribut.</span><span class="sxs-lookup"><span data-stu-id="12eb7-307">The following image shows the search filter box at the top of the page that results from the `data-filter` attribute.</span></span>

<span data-ttu-id="12eb7-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span></span>

<span data-ttu-id="12eb7-309">Každé písmeno, při psaní do vyhledávacího pole, jQuery Mobile zobrazený seznam filtrů, jak je znázorněno na následujícím obrázku.</span><span class="sxs-lookup"><span data-stu-id="12eb7-309">As you type each letter in the search box, jQuery Mobile filters the displayed list as shown in the image below.</span></span>

<span data-ttu-id="12eb7-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span></span>

## <a name="improving-the-tags-list"></a><span data-ttu-id="12eb7-311">Zlepšení seznam značek</span><span class="sxs-lookup"><span data-stu-id="12eb7-311">Improving the Tags List</span></span>

<span data-ttu-id="12eb7-312">Výchozí nastavení, jako jsou *přednášející* zobrazení *značky* zobrazení je čitelný, ale tyto odkazy jsou malé a obtížně klepněte na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-312">Like the default *Speakers* view, the *Tags* view is readable, but the links are small and difficult to tap on a mobile device.</span></span> <span data-ttu-id="12eb7-313">V této části opravíte *značky* zobrazit stejným způsobem, který jste opravili *přednášející* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-313">In this section, you'll fix the *Tags* view the same way you fixed the *Speakers* view.</span></span>

<span data-ttu-id="12eb7-314">Odeberte &quot;skrýt&quot; přípona, která má *Views\Home\AllTags.Mobile.cshtml.hide* souboru je název *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-314">Remove the &quot;hide&quot; suffix to the *Views\Home\AllTags.Mobile.cshtml.hide* file so the name is *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="12eb7-315">Otevřete soubor přejmenován a odeberte `<h2>` elementu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-315">Open the renamed file and remove the `<h2>` element.</span></span>

<span data-ttu-id="12eb7-316">Přidat `data-role` a `data-filter` atributů `<ul>` označit, jak je znázorněno zde:</span><span class="sxs-lookup"><span data-stu-id="12eb7-316">Add the `data-role` and `data-filter` attributes to the `<ul>` tag, as shown here:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample21.html)]

<span data-ttu-id="12eb7-317">Následující obrázek ukazuje stránku značek filtrování písmeno `J`.</span><span class="sxs-lookup"><span data-stu-id="12eb7-317">The image below shows the tags page filtering on the letter `J`.</span></span>

<span data-ttu-id="12eb7-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span></span>

## <a name="improving-the-dates-list"></a><span data-ttu-id="12eb7-319">Vylepšení seznamu kalendářních dat</span><span class="sxs-lookup"><span data-stu-id="12eb7-319">Improving the Dates List</span></span>

<span data-ttu-id="12eb7-320">Můžete zvýšit *data* zobrazit jako tak lepší *přednášející* a *značky* zobrazení tak, aby se snadněji používá na mobilním zařízení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-320">You can improve the *Dates* view like you improved the *Speakers* and *Tags* views, so that it's easier to use on a mobile device.</span></span>

<span data-ttu-id="12eb7-321">Kopírovat *Views\Home\AllDates.cshtml* do souboru *Views\Home\AllDates.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="12eb7-321">Copy the *Views\Home\AllDates.cshtml* file to *Views\Home\AllDates.Mobile.cshtml*.</span></span> <span data-ttu-id="12eb7-322">Otevřete nový soubor a odeberte `<h2>` elementu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-322">Open the new file and remove the `<h2>` element.</span></span>

<span data-ttu-id="12eb7-323">Přidat `data-role="listview"` k `<ul>` značku, například takto:</span><span class="sxs-lookup"><span data-stu-id="12eb7-323">Add `data-role="listview"` to the `<ul>` tag, like this:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample22.html)]

<span data-ttu-id="12eb7-324">Následující obrázek ukazuje, co **datum** stránka vypadá podobně jako s `data-role` atribut na místě.</span><span class="sxs-lookup"><span data-stu-id="12eb7-324">The image below shows what the **Date** page looks like with the `data-role` attribute in place.</span></span>

<span data-ttu-id="12eb7-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) nahraďte obsah *Views\Home\AllDates.Mobile.cshtml* souboru následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="12eb7-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Replace the contents of the *Views\Home\AllDates.Mobile.cshtml* file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample23.cshtml)]

<span data-ttu-id="12eb7-326">Tento kód seskupí všechny relace podle dnů.</span><span class="sxs-lookup"><span data-stu-id="12eb7-326">This code groups all sessions by days.</span></span> <span data-ttu-id="12eb7-327">Vytvoří seznam oddělovač pro každého nového dne a vypíše všechny relace pro každý den v rámci rozdělovač.</span><span class="sxs-lookup"><span data-stu-id="12eb7-327">It creates a list divider for each new day, and it lists all the sessions for each day under a divider.</span></span> <span data-ttu-id="12eb7-328">Zde je, jak to funguje při spuštění tohoto kódu:</span><span class="sxs-lookup"><span data-stu-id="12eb7-328">Here's what it looks like when this code runs:</span></span>

<span data-ttu-id="12eb7-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span></span>

## <a name="improving-the-sessionstable-view"></a><span data-ttu-id="12eb7-330">Zlepšení SessionsTable zobrazení</span><span class="sxs-lookup"><span data-stu-id="12eb7-330">Improving the SessionsTable View</span></span>

<span data-ttu-id="12eb7-331">V této části vytvoříte specifické pro mobilní zobrazení relací.</span><span class="sxs-lookup"><span data-stu-id="12eb7-331">In this section, you'll create a mobile-specific view of sessions.</span></span> <span data-ttu-id="12eb7-332">Změny, které jsme provedli bude rozsáhlejší než v ostatních zobrazeních, který jsme vytvořili.</span><span class="sxs-lookup"><span data-stu-id="12eb7-332">The changes we make will be more extensive than in other views we have created.</span></span>

<span data-ttu-id="12eb7-333">V mobilním prohlížeči klepněte **mluvčího** tlačítko a pak zadejte `Sc` do vyhledávacího pole.</span><span class="sxs-lookup"><span data-stu-id="12eb7-333">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="12eb7-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span></span>

<span data-ttu-id="12eb7-335">Klepněte **Scott Hanselman** odkaz.</span><span class="sxs-lookup"><span data-stu-id="12eb7-335">Tap the **Scott Hanselman** link.</span></span>

<span data-ttu-id="12eb7-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span></span>

<span data-ttu-id="12eb7-337">Jak je vidět zobrazení je obtížné číst v mobilním prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="12eb7-337">As you can see, the display is difficult to read on a mobile browser.</span></span> <span data-ttu-id="12eb7-338">Sloupec datum je obtížné číst a značky sloupce je mimo zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-338">The date column is hard to read and the tags column is out of the view.</span></span> <span data-ttu-id="12eb7-339">Chcete-li opravit, zkopírujte *Views\Home\SessionsTable.cshtml* k *Views\Home\SessionsTable.Mobile.cshtml*a poté nahraďte obsah souboru následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="12eb7-339">To fix this, copy *Views\Home\SessionsTable.cshtml* to *Views\Home\SessionsTable.Mobile.cshtml*, and then replace the contents of the file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample24.cshtml)]

<span data-ttu-id="12eb7-340">Kód odebere místnosti značky sloupce a naformátuje název, mluvčího a datum svisle, tak, aby všechny tyto informace jsou číst v mobilním prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="12eb7-340">The code removes the room and tags columns, and formats the title, speaker, and date vertically, so that all this information is readable on a mobile browser.</span></span> <span data-ttu-id="12eb7-341">Na následujícím obrázku odráží změny kódu.</span><span class="sxs-lookup"><span data-stu-id="12eb7-341">The image below reflects the code changes.</span></span>

<span data-ttu-id="12eb7-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span></span>

## <a name="improving-the-sessionbycode-view"></a><span data-ttu-id="12eb7-343">Zlepšení SessionByCode zobrazení</span><span class="sxs-lookup"><span data-stu-id="12eb7-343">Improving the SessionByCode View</span></span>

<span data-ttu-id="12eb7-344">Nakonec vytvoříte zobrazení specifické pro mobilní zařízení *SessionByCode* zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-344">Finally, you'll create a mobile-specific view of the *SessionByCode* view.</span></span> <span data-ttu-id="12eb7-345">V mobilním prohlížeči klepněte **mluvčího** tlačítko a pak zadejte `Sc` do vyhledávacího pole.</span><span class="sxs-lookup"><span data-stu-id="12eb7-345">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="12eb7-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span></span>

<span data-ttu-id="12eb7-347">Klepněte **Scott Hanselman** odkaz.</span><span class="sxs-lookup"><span data-stu-id="12eb7-347">Tap the **Scott Hanselman** link.</span></span> <span data-ttu-id="12eb7-348">Zobrazí se Scottem Hanselmanem relace.</span><span class="sxs-lookup"><span data-stu-id="12eb7-348">Scott Hanselman's sessions are displayed.</span></span>

<span data-ttu-id="12eb7-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span></span>

<span data-ttu-id="12eb7-350">Zvolte **přehledu Web Stack láskou MS** odkaz.</span><span class="sxs-lookup"><span data-stu-id="12eb7-350">Choose the **An Overview of the MS Web Stack of Love** link.</span></span>

<span data-ttu-id="12eb7-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span></span>

<span data-ttu-id="12eb7-352">Zobrazení plochy výchozí je v pořádku, ale může to zlepšit.</span><span class="sxs-lookup"><span data-stu-id="12eb7-352">The default desktop view is fine, but you can improve it.</span></span>

<span data-ttu-id="12eb7-353">Kopírovat *Views\Home\SessionByCode.cshtml* k *Views\Home\SessionByCode.Mobile.cshtml* a nahraďte obsah *Views\Home\SessionByCode.Mobile.cshtml*souboru následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="12eb7-353">Copy the *Views\Home\SessionByCode.cshtml* to *Views\Home\SessionByCode.Mobile.cshtml* and replace the contents of the *Views\Home\SessionByCode.Mobile.cshtml* file with the following markup:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample25.cshtml)]

<span data-ttu-id="12eb7-354">Nový kód používá `data-role` atribut ke zlepšení rozložení zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-354">The new markup uses the `data-role` attribute to improve the layout of the view.</span></span>

<span data-ttu-id="12eb7-355">Aktualizace mobilních prohlížečů.</span><span class="sxs-lookup"><span data-stu-id="12eb7-355">Refresh the mobile browser.</span></span> <span data-ttu-id="12eb7-356">Na následujícím obrázku odráží změny kódu, které jste právě vytvořili:</span><span class="sxs-lookup"><span data-stu-id="12eb7-356">The following image reflects the code changes that you just made:</span></span>

<span data-ttu-id="12eb7-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="12eb7-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span></span>

## <a name="wrapup-and-review"></a><span data-ttu-id="12eb7-358">Wrapup a revize</span><span class="sxs-lookup"><span data-stu-id="12eb7-358">Wrapup and Review</span></span>

<span data-ttu-id="12eb7-359">V tomto kurzu má zavedeny nové mobilní funkce ASP.NET MVC 4 pro vývojáře ve verzi Preview.</span><span class="sxs-lookup"><span data-stu-id="12eb7-359">This tutorial has introduced the new mobile features of ASP.NET MVC 4 Developer Preview.</span></span> <span data-ttu-id="12eb7-360">Mobilní funkce patří:</span><span class="sxs-lookup"><span data-stu-id="12eb7-360">The mobile features include:</span></span>

- <span data-ttu-id="12eb7-361">Možnost přepsat rozložení a zobrazení, částečná zobrazení, jak globálně a pro jednotlivé zobrazení.</span><span class="sxs-lookup"><span data-stu-id="12eb7-361">The ability to override layout, views, and partial views, both globally and for an individual view.</span></span>
- <span data-ttu-id="12eb7-362">Řídit rozložení a pomocí přepsání částečné vynucení `RequireConsistentDisplayMode` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="12eb7-362">Control over layout and partial override enforcement using the `RequireConsistentDisplayMode` property.</span></span>
- <span data-ttu-id="12eb7-363">Widget přepínači zobrazení pro mobilní zařízení zobrazení než lze také zobrazit v zobrazení plochy.</span><span class="sxs-lookup"><span data-stu-id="12eb7-363">A view-switcher widget for mobile views than can also be displayed in desktop views.</span></span>
- <span data-ttu-id="12eb7-364">Podpora pro podporu určité prohlížeče, jako je iPhone prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="12eb7-364">Support for supporting specific browsers, such as the iPhone browser.</span></span>

## <a name="see-also"></a><span data-ttu-id="12eb7-365">Viz také</span><span class="sxs-lookup"><span data-stu-id="12eb7-365">See Also</span></span>

- <span data-ttu-id="12eb7-366">[jQuery Mobile](http://jquerymobile.com) lokality.</span><span class="sxs-lookup"><span data-stu-id="12eb7-366">[jQuery Mobile](http://jquerymobile.com) site.</span></span>
- [<span data-ttu-id="12eb7-367">jQuery Mobile přehled</span><span class="sxs-lookup"><span data-stu-id="12eb7-367">jQuery Mobile Overview</span></span>](http://jquerymobile.com/demos/1.0b3/docs/about/intro.html)
- [<span data-ttu-id="12eb7-368">Osvědčené postupy W3C doporučení mobilní webové aplikace</span><span class="sxs-lookup"><span data-stu-id="12eb7-368">W3C Recommendation Mobile Web Application Best Practices</span></span>](http://www.w3.org/TR/mwabp/)
- [<span data-ttu-id="12eb7-369">Doporučení W3C Release Candidate pro dotazy na média</span><span class="sxs-lookup"><span data-stu-id="12eb7-369">W3C Candidate Recommendation for media queries</span></span>](http://www.w3.org/TR/css3-mediaqueries/)
