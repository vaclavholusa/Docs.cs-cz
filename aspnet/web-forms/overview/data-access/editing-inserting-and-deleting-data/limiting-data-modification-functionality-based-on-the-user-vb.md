---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/limiting-data-modification-functionality-based-on-the-user-vb
title: Omezení funkcí pro úpravu dat podle uživatele (VB) | Dokumentace Microsoftu
author: rick-anderson
description: Ve webové aplikaci, která umožňuje uživatelům upravovat data může mít různé uživatelské účty jiné úpravy dat oprávnění. V tomto kurzu prozkoumáme jak t...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: 9dc264a6-feb8-474b-8b91-008c50708065
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/limiting-data-modification-functionality-based-on-the-user-vb
msc.type: authoredcontent
ms.openlocfilehash: 8530dfd37570ed5fcc45ef4d6c30750c5d4d2152
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/03/2018
ms.locfileid: "37377112"
---
<a name="limiting-data-modification-functionality-based-on-the-user-vb"></a><span data-ttu-id="1f0b9-104">Omezení funkcí pro úpravu dat podle uživatele (VB)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-104">Limiting Data Modification Functionality Based on the User (VB)</span></span>
====================
<span data-ttu-id="1f0b9-105">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="1f0b9-106">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_23_VB.exe) nebo [stahovat PDF](limiting-data-modification-functionality-based-on-the-user-vb/_static/datatutorial23vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_23_VB.exe) or [Download PDF](limiting-data-modification-functionality-based-on-the-user-vb/_static/datatutorial23vb1.pdf)</span></span>

> <span data-ttu-id="1f0b9-107">Ve webové aplikaci, která umožňuje uživatelům upravovat data může mít různé uživatelské účty jiné úpravy dat oprávnění.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-107">In a web application that allows users to edit data, different user accounts may have different data-editing privileges.</span></span> <span data-ttu-id="1f0b9-108">V tomto kurzu prozkoumáme jak dynamicky upravit možnosti úprav dat na základě hostujícími uživatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-108">In this tutorial we'll examine how to dynamically adjust the data modification capabilities based on the visiting user.</span></span>


## <a name="introduction"></a><span data-ttu-id="1f0b9-109">Úvod</span><span class="sxs-lookup"><span data-stu-id="1f0b9-109">Introduction</span></span>

<span data-ttu-id="1f0b9-110">Počet webových aplikací podpora uživatelských účtů a poskytují různé možnosti, sestavy a funkce na základě přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-110">A number of web applications support user accounts and provide different options, reports, and functionality based on the logged in user.</span></span> <span data-ttu-id="1f0b9-111">Například prostřednictvím našich kurzů jsme chtít umožnit uživatelům od dodavatele společností k přihlášení k webu a aktualizace obecné informace o svých produktech - své jméno a množství na jednotku, možná – společně s informacemi dodavatelů, jako je například název své společnosti Adresa, kontaktní osoby s informace a tak dále.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-111">For example, with our tutorials we might want to allow users from the supplier companies to log on to the site and update general information about their products - their name and quantity per unit, perhaps - along with supplier information, such as their company name, address, the contact person s information, and so on.</span></span> <span data-ttu-id="1f0b9-112">Kromě toho budeme chtít zahrnout některé uživatelské účty pro lidi z naší společnosti tak, aby se mohl přihlásit a aktualizovat informace o produktu jako minimální počet jednotek na skladě a tak dále.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-112">Furthermore, we might want to include some user accounts for people from our company so that they can log on and update product information like units on stock, reorder level, and so forth.</span></span> <span data-ttu-id="1f0b9-113">Naši webovou aplikaci může také umožnit anonymní uživatele na web (uživatelů, kteří nejste přihlášeni), ale by omezit je jen zobrazení data.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-113">Our web application might also allow anonymous users to visit (people who have not logged on), but would limit them to just viewing data.</span></span> <span data-ttu-id="1f0b9-114">S takového uživatelského účtu systému na místě jsme byste měli data webové ovládací prvky na našich stránkách ASP.NET nabízí vložení, úpravy a odstranění funkce vhodné pro aktuálně přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-114">With such a user account system in place, we would want the data Web controls in our ASP.NET pages to offer the inserting, editing, and deleting capabilities appropriate for the currently logged on user.</span></span>

<span data-ttu-id="1f0b9-115">V tomto kurzu prozkoumáme jak dynamicky upravit možnosti úprav dat na základě hostujícími uživatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-115">In this tutorial we'll examine how to dynamically adjust the data modification capabilities based on the visiting user.</span></span> <span data-ttu-id="1f0b9-116">Zejména vytvoříme stránku, která zobrazuje informace o dodavateli v upravitelné DetailsView spolu s prvku GridView, která zobrazuje seznam produktů, poskytnutých dodavatelem.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-116">In particular, we'll create a page that displays the suppliers information in an editable DetailsView along with a GridView that lists the products provided by the supplier.</span></span> <span data-ttu-id="1f0b9-117">Pokud je uživatel na stránce naší společnosti, mohou: prohlížet jakékoli informace s dodavatelem; upravit jejich adresy; a upravovat informace pro některý z produktů poskytnutých dodavatelem.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-117">If the user visiting the page is from our company, they can: view any supplier s information; edit their address; and edit the information for any product provided by the supplier.</span></span> <span data-ttu-id="1f0b9-118">Pokud však uživatel z určité společnosti, můžou jenom zobrazit a upravit své vlastní informace o adrese a lze upravit pouze jejich produkty, které ještě nebyly označeny jako ukončena.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-118">If, however, the user is from a particular company, they can only view and edit their own address information and can only edit their products that have not been marked as discontinued.</span></span>


<span data-ttu-id="1f0b9-119">[![Uživatel z naše společnost, která může upravovat všechny informace s dodavatelem](limiting-data-modification-functionality-based-on-the-user-vb/_static/image2.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-119">[![A User from Our Company Can Edit Any Supplier s Information](limiting-data-modification-functionality-based-on-the-user-vb/_static/image2.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image1.png)</span></span>

<span data-ttu-id="1f0b9-120">**Obrázek 1**: uživatele z náš společnosti můžete upravit libovolného dodavatele s informace ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-120">**Figure 1**: A User from Our Company Can Edit Any Supplier s Information ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image3.png))</span></span>


<span data-ttu-id="1f0b9-121">[![Uživatel z konkrétního dodavatele může pouze zobrazení a upravit jejich informace](limiting-data-modification-functionality-based-on-the-user-vb/_static/image5.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-121">[![A User from a Particular Supplier Can Only View and Edit their Information](limiting-data-modification-functionality-based-on-the-user-vb/_static/image5.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image4.png)</span></span>

<span data-ttu-id="1f0b9-122">**Obrázek 2**: uživatele z konkrétní dodavatele můžete jenom zobrazit a upravit informace o jejich ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-122">**Figure 2**: A User from a Particular Supplier Can Only View and Edit their Information ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image6.png))</span></span>


<span data-ttu-id="1f0b9-123">Začínáme s let!</span><span class="sxs-lookup"><span data-stu-id="1f0b9-123">Let s get started!</span></span>

> [!NOTE]
> <span data-ttu-id="1f0b9-124">ASP.NET 2.0 systém členství s poskytuje standardizovanou a rozšiřitelnou platformu pro tvorbu, správu a probíhá ověřování uživatelských účtů.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-124">ASP.NET 2.0 s membership system provides a standardized, extensible platform for creating, managing, and validating user accounts.</span></span> <span data-ttu-id="1f0b9-125">Prozkoumání systému členství je nad rámec těchto kurzů, v tomto kurzu místo "napodobenin" členství tím, že anonymní uživatelé zvolit, jestli jsou od určitého dodavatele nebo z naše společnost, která.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-125">Since an examination of the membership system is beyond the scope of these tutorials, this tutorial instead "fakes" membership by allowing anonymous visitors to choose whether they are from a particular supplier or from our company.</span></span> <span data-ttu-id="1f0b9-126">Další informace o členství, najdete v části Moje [zkoumání ASP.NET 2.0 s členství, role a profil](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx) série článků.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-126">For more on membership, refer to my [Examining ASP.NET 2.0 s Membership, Roles, and Profile](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx) article series.</span></span>


## <a name="step-1-allowing-the-user-to-specify-their-access-rights"></a><span data-ttu-id="1f0b9-127">Krok 1: Umožňuje uživateli zadat jejich přístupová práva</span><span class="sxs-lookup"><span data-stu-id="1f0b9-127">Step 1: Allowing the User to Specify their Access Rights</span></span>

<span data-ttu-id="1f0b9-128">Ve skutečných webové aplikaci bude zahrnovat informace o účtu uživatele s, jestli je to šlo pro naše společnost, nebo pro konkrétní dodavatele a tyto informace by programově přístupných z našich stránek ASP.NET, jakmile se uživatel přihlásil k webu.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-128">In a real-world web application, a user s account information would include whether they worked for our company or for a particular supplier, and this information would be programmatically accessible from our ASP.NET pages once the user has logged on to the site.</span></span> <span data-ttu-id="1f0b9-129">Tyto informace můžou být zachytávané ASP.NET 2.0 s rolí systému jako informace o účtu uživatele prostřednictvím profilu systému, nebo prostřednictvím některé vlastní prostředky.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-129">This information could be captured through ASP.NET 2.0 s roles system, as user-level account information through the profile system, or through some custom means.</span></span>

<span data-ttu-id="1f0b9-130">Protože cílem tohoto kurzu je předvést úprava možnosti Změna dat na základě přihlášeného uživatele a není určena k předvedení technologie ASP.NET 2.0 s členství, role a systémů profilu, použijeme mechanismus velmi jednoduše určit možnosti pro uživatele na stránce - DropDownList, ze kterého uživatel může zvolit pokud by měl být schopen zobrazit a upravit všechny informace o dodavateli nebo, případně co konkrétního dodavatele s informace můžete zobrazit a upravit.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-130">Since the aim of this tutorial is to demonstrate adjusting the data modification capabilities based on the logged on user, and is not meant to showcase ASP.NET 2.0 s membership, roles, and profile systems, we'll use a very simply mechanism to determine the capabilities for the user visiting the page - a DropDownList from which the user can indicate if they should be able to view and edit any of the suppliers information or, alternatively, what particular supplier s information they can view and edit.</span></span> <span data-ttu-id="1f0b9-131">Pokud uživatel označuje, že může zobrazit a upravovat všechny informace dodavateli (výchozí), Jana stránkovat všichni dodavatelé, upravovat všechny informace o adrese s dodavateli a upravit název a množství na jednotku pro některý z poskytnutých dodavatelem vybraných produktů.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-131">If the user indicates that she can view and edit all supplier information (the default), she can page through all suppliers, edit any supplier s address information, and edit the name and quantity per unit for any product provided by the selected supplier.</span></span> <span data-ttu-id="1f0b9-132">Pokud uživatel označuje, že si můžete jenom zobrazit a upravit konkrétního dodavatele, ale pak si můžete podívat na podrobnosti a produktů pro jednoho dodavatele a můžete pouze aktualizovat název a množství na informace o jednotce pro tyto produkty, které jsou *není* ukončena.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-132">If the user indicates that she can only view and edit a particular supplier, however, then she can only view the details and products for that one supplier and can only update the name and quantity per unit information for those products that are *not* discontinued.</span></span>

<span data-ttu-id="1f0b9-133">Naši první krok v tomto kurzu je pak k vytvoření této DropDownList a přidejte do ní dodavatelů v systému.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-133">Our first step in this tutorial, then, is to create this DropDownList and populate it with the suppliers in the system.</span></span> <span data-ttu-id="1f0b9-134">Otevřít `UserLevelAccess.aspx` stránku `EditInsertDelete` složky, přidejte DropDownList jehož `ID` je nastavena na `Suppliers`a tento DropDownList svázat nového prvku ObjectDataSource s názvem `AllSuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-134">Open the `UserLevelAccess.aspx` page in the `EditInsertDelete` folder, add a DropDownList whose `ID` property is set to `Suppliers`, and bind this DropDownList to a new ObjectDataSource named `AllSuppliersDataSource`.</span></span>


<span data-ttu-id="1f0b9-135">[![Vytvoření nového prvku ObjectDataSource s názvem AllSuppliersDataSource](limiting-data-modification-functionality-based-on-the-user-vb/_static/image8.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-135">[![Create a New ObjectDataSource Named AllSuppliersDataSource](limiting-data-modification-functionality-based-on-the-user-vb/_static/image8.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image7.png)</span></span>

<span data-ttu-id="1f0b9-136">**Obrázek 3**: vytvoření nového prvku ObjectDataSource s názvem `AllSuppliersDataSource` ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-136">**Figure 3**: Create a New ObjectDataSource Named `AllSuppliersDataSource` ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image9.png))</span></span>


<span data-ttu-id="1f0b9-137">Protože chceme, aby tento DropDownList mají zahrnout všichni dodavatelé, nakonfigurujte prvek ObjectDataSource, který má být vyvolán `SuppliersBLL` třída s `GetSuppliers()` metody.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-137">Since we want this DropDownList to include all suppliers, configure the ObjectDataSource to invoke the `SuppliersBLL` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="1f0b9-138">Také zajistěte, aby ObjectDataSource s `Update()` metoda je namapována na `SuppliersBLL` třída s `UpdateSupplierAddress` metody, jako tento prvek ObjectDataSource se taky použije v ovládacím prvku DetailsView. budeme přidávat v kroku 2.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-138">Also ensure that the ObjectDataSource s `Update()` method is mapped to the `SuppliersBLL` class s `UpdateSupplierAddress` method, as this ObjectDataSource will also be used by the DetailsView we'll be adding in Step 2.</span></span>

<span data-ttu-id="1f0b9-139">Po dokončení Průvodce prvek ObjectDataSource, proveďte kroky tím, že nakonfigurujete `Suppliers` DropDownList tak, že ukazuje `CompanyName` pole data a použije `SupplierID` jako hodnota pro každé datové pole `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-139">After completing the ObjectDataSource wizard, complete the steps by configuring the `Suppliers` DropDownList such that it shows the `CompanyName` data field and uses the `SupplierID` data field as the value for each `ListItem`.</span></span>


<span data-ttu-id="1f0b9-140">[![Konfigurace DropDownList dodavatelé CompanyName a KódDodavatele datových polí](limiting-data-modification-functionality-based-on-the-user-vb/_static/image11.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-140">[![Configure the Suppliers DropDownList to Use the CompanyName and SupplierID Data Fields](limiting-data-modification-functionality-based-on-the-user-vb/_static/image11.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image10.png)</span></span>

<span data-ttu-id="1f0b9-141">**Obrázek 4**: konfigurace `Suppliers` DropDownList k použití `CompanyName` a `SupplierID` datových polí ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-141">**Figure 4**: Configure the `Suppliers` DropDownList to Use the `CompanyName` and `SupplierID` Data Fields ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image12.png))</span></span>


<span data-ttu-id="1f0b9-142">V tomto okamžiku DropDownList uvádí názvy společností, dodavatelů v databázi.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-142">At this point, the DropDownList lists the company names of the suppliers in the database.</span></span> <span data-ttu-id="1f0b9-143">Však musíme také možnost "Zobrazit nebo upravit všichni dodavatelé" DropDownList.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-143">However, we also need to include a "Show/Edit ALL Suppliers" option to the DropDownList.</span></span> <span data-ttu-id="1f0b9-144">Chcete-li to provést, nastavte `Suppliers` DropDownList s `AppendDataBoundItems` vlastnost `true` a potom přidat `ListItem` jehož `Text` je vlastnost "Zobrazit nebo upravit všichni dodavatelé" a jehož hodnota je `-1`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-144">To accomplish this, set the `Suppliers` DropDownList s `AppendDataBoundItems` property to `true` and then add a `ListItem` whose `Text` property is "Show/Edit ALL Suppliers" and whose value is `-1`.</span></span> <span data-ttu-id="1f0b9-145">To lze přidat přímo pomocí deklarativní, nebo prostřednictvím Návrháře v okně Vlastnosti a kliknutím na symbol tří teček v DropDownList s `Items` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-145">This can be added directly through the declarative markup or through the Designer by going to the Properties window and clicking on the ellipses in the DropDownList s `Items` property.</span></span>

> [!NOTE]
> <span data-ttu-id="1f0b9-146">Vraťte se do [ *filtrování záznamů Master/Detail s DropDownList* ](../masterdetail/master-detail-filtering-with-a-dropdownlist-vb.md) kurz podrobnější informace o přidání datové vazby DropDownList vyberte všechny položky.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-146">Refer back to the [*Master/Detail Filtering With a DropDownList*](../masterdetail/master-detail-filtering-with-a-dropdownlist-vb.md) tutorial for a more detailed discussion on adding a Select All item to a databound DropDownList.</span></span>


<span data-ttu-id="1f0b9-147">Po `AppendDataBoundItems` vlastnost byla nastavena a `ListItem` přidali, DropDownList s deklarativní by měl vypadat:</span><span class="sxs-lookup"><span data-stu-id="1f0b9-147">After the `AppendDataBoundItems` property has been set and the `ListItem` added, the DropDownList s declarative markup should look like:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-vb/samples/sample1.aspx)]

<span data-ttu-id="1f0b9-148">Obrázek 5 ukazuje snímek obrazovky naše aktuální průběh, když zobrazit pomocí prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-148">Figure 5 shows a screen shot of our current progress, when viewed through a browser.</span></span>


<span data-ttu-id="1f0b9-149">[![Dodavatelé DropDownList obsahuje zobrazit všechny ListItem Plus jeden pro každý dodavatele](limiting-data-modification-functionality-based-on-the-user-vb/_static/image14.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-149">[![The Suppliers DropDownList Contains a Show ALL ListItem, Plus One for Each Supplier](limiting-data-modification-functionality-based-on-the-user-vb/_static/image14.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image13.png)</span></span>

<span data-ttu-id="1f0b9-150">**Obrázek 5**: `Suppliers` DropDownList obsahuje zobrazit všechny `ListItem`, Plus jeden pro každý dodavatele ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-150">**Figure 5**: The `Suppliers` DropDownList Contains a Show ALL `ListItem`, Plus One for Each Supplier ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image15.png))</span></span>


<span data-ttu-id="1f0b9-151">Protože chceme aktualizovat uživatelské rozhraní ihned po uživateli došlo ke změně jejich výběr, nastavte `Suppliers` DropDownList s `AutoPostBack` vlastnost `true`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-151">Since we want to update the user interface immediately after the user has changed their selection, set the `Suppliers` DropDownList s `AutoPostBack` property to `true`.</span></span> <span data-ttu-id="1f0b9-152">V kroku 2 vytvoříme, který se zobrazí informace o dodavatel(é) na základě výběru DropDownList ovládacího prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-152">In Step 2 we'll create a DetailsView control that will show the information for the supplier(s) based on the DropDownList selection.</span></span> <span data-ttu-id="1f0b9-153">Pak v kroku 3, vytvoříme obslužnou rutinu události pro tento DropDownList s `SelectedIndexChanged` událostí, ve kterém přidáme kód, který váže odpovídající informace k ovládacím prvku DetailsView. na základě vybraného poskytovatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-153">Then, in Step 3, we'll create an event handler for this DropDownList s `SelectedIndexChanged` event, in which we'll add code that binds the appropriate supplier information to the DetailsView based upon the selected supplier.</span></span>

## <a name="step-2-adding-a-detailsview-control"></a><span data-ttu-id="1f0b9-154">Krok 2: Přidání ovládacího prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-154">Step 2: Adding a DetailsView Control</span></span>

<span data-ttu-id="1f0b9-155">Umožní s pomocí DetailsView můžete zobrazit informace o dodavateli.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-155">Let s use a DetailsView to show supplier information.</span></span> <span data-ttu-id="1f0b9-156">Pro uživatele, který můžete zobrazit a upravit všechny dodavatelů bude ovládacím prvku DetailsView podporovat stránkování, které uživateli umožňují krokovat jeden záznam dodavatele informace najednou.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-156">For the user who can view and edit all suppliers, the DetailsView will support paging, allowing the user to step through the supplier information one record at a time.</span></span> <span data-ttu-id="1f0b9-157">Pokud uživatel pracuje pro konkrétní dodavatele, ale ovládacím prvku DetailsView zobrazí informace s pouze konkrétní dodavatele a nebudou obsahovat rozhraní stránkování.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-157">If the user works for a particular supplier, however, the DetailsView will show only that particular supplier s information and will not include a paging interface.</span></span> <span data-ttu-id="1f0b9-158">V obou případech musí ovládacím prvku DetailsView. aby uživatel mohl upravit dodavatele adresa, Město a zemi pole.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-158">In either case, the DetailsView needs to allow the user to edit the supplier s address, city, and country fields.</span></span>

<span data-ttu-id="1f0b9-159">Přidat na stránku pod DetailsView `Suppliers` DropDownList, nastavte jeho `ID` vlastnost `SupplierDetails`a vytvořte mu vazbu k `AllSuppliersDataSource` ObjectDataSource vytvořili v předchozím kroku.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-159">Add a DetailsView to the page beneath the `Suppliers` DropDownList, set its `ID` property to `SupplierDetails`, and bind it to the `AllSuppliersDataSource` ObjectDataSource created in the previous step.</span></span> <span data-ttu-id="1f0b9-160">V dalším kroku zaškrtněte zaškrtávací políčka Povolit stránkování a povolit úpravy z inteligentních značek s prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-160">Next, check the Enable Paging and Enable Editing checkboxes from the DetailsView s smart tag.</span></span>

> [!NOTE]
> <span data-ttu-id="1f0b9-161">Pokud se zobrazí možnost Povolit úpravy v prvku DetailsView s inteligentní don t označte ji s protože nemapují ObjectDataSource s `Update()` metodu `SuppliersBLL` třída s `UpdateSupplierAddress` metody.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-161">If you don t see an Enable Editing option in the DetailsView s smart tag it s because you did not map the ObjectDataSource s `Update()` method to the `SuppliersBLL` class s `UpdateSupplierAddress` method.</span></span> <span data-ttu-id="1f0b9-162">Přejít zpět a provést tuto konfiguraci změnit, po jejímž uplynutí možnost Povolit úpravy by se zobrazit v prvku DetailsView s inteligentním chvíli trvat.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-162">Take a moment to go back and make this configuration change, after which the Enable Editing option should appear in the DetailsView s smart tag.</span></span>


<span data-ttu-id="1f0b9-163">Protože `SuppliersBLL` třída s `UpdateSupplierAddress` metoda přijímá pouze čtyři parametry - `supplierID`, `address`, `city`, a `country` – upravte prvek DetailsView s BoundFields tak, aby `CompanyName` a `Phone` BoundFields jsou jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-163">Since the `SuppliersBLL` class s `UpdateSupplierAddress` method only accepts four parameters - `supplierID`, `address`, `city`, and `country` - modify the DetailsView s BoundFields so that the `CompanyName` and `Phone` BoundFields are read-only.</span></span> <span data-ttu-id="1f0b9-164">Kromě toho odebrat `SupplierID` zcela Vlastnost BoundField.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-164">Additionally, remove the `SupplierID` BoundField altogether.</span></span> <span data-ttu-id="1f0b9-165">Nakonec `AllSuppliersDataSource` ObjectDataSource má v současné době jeho `OldValuesParameterFormatString` nastavenou na `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-165">Finally, the `AllSuppliersDataSource` ObjectDataSource currently has its `OldValuesParameterFormatString` property set to `original_{0}`.</span></span> <span data-ttu-id="1f0b9-166">Za chvíli odebrat nastavení této vlastnosti z deklarativní syntaxe zcela nebo ji nastavte na výchozí hodnotu `{0}`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-166">Take a moment to remove this property setting from the declarative syntax altogether, or set it to the default value, `{0}`.</span></span>

<span data-ttu-id="1f0b9-167">Po dokončení konfigurace `SupplierDetails` DetailsView a `AllSuppliersDataSource` prvek ObjectDataSource, budeme mít následující kód:</span><span class="sxs-lookup"><span data-stu-id="1f0b9-167">After configuring the `SupplierDetails` DetailsView and `AllSuppliersDataSource` ObjectDataSource, we will have the following declarative markup:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-vb/samples/sample2.aspx)]

<span data-ttu-id="1f0b9-168">V tomto okamžiku můžete ovládacím prvku DetailsView stránkování prostřednictvím a je možné aktualizovat informace o adrese vybrané dodavatele s, bez ohledu na výběr provedený v `Suppliers` DropDownList (viz obrázek 6).</span><span class="sxs-lookup"><span data-stu-id="1f0b9-168">At this point the DetailsView can be paged through and the selected supplier s address information can be updated, regardless of the selection made in the `Suppliers` DropDownList (see Figure 6).</span></span>


<span data-ttu-id="1f0b9-169">[![Veškeré informace, Dodavatelé mohou zobrazit a aktualizovat jeho adresy](limiting-data-modification-functionality-based-on-the-user-vb/_static/image17.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-169">[![Any Suppliers Information Can Be Viewed, and Its Address Updated](limiting-data-modification-functionality-based-on-the-user-vb/_static/image17.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image16.png)</span></span>

<span data-ttu-id="1f0b9-170">**Obrázek 6**: Any dodavatelé informace můžete zobrazit a aktualizovat jeho adresa ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-170">**Figure 6**: Any Suppliers Information Can Be Viewed, and Its Address Updated ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image18.png))</span></span>


## <a name="step-3-displaying-only-the-selected-supplier-s-information"></a><span data-ttu-id="1f0b9-171">Krok 3: Zobrazení pouze informace s vybranou dodavatele</span><span class="sxs-lookup"><span data-stu-id="1f0b9-171">Step 3: Displaying Only the Selected Supplier s Information</span></span>

<span data-ttu-id="1f0b9-172">Naši stránku aktuálně zobrazuje informace pro všechny dodavatele bez ohledu na to, zda byl vybrán konkrétního dodavatele z `Suppliers` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-172">Our page currently displays the information for all suppliers regardless of whether a particular supplier has been selected from the `Suppliers` DropDownList.</span></span> <span data-ttu-id="1f0b9-173">Aby bylo možné zobrazit pouze informace dodavatel pro vybrané dodavatele potřebujeme přidat jiného prvku ObjectDataSource na naši stránku, ten, který načte informace o konkrétní dodavatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-173">In order to display just the supplier information for the selected supplier we need to add another ObjectDataSource to our page, one that retrieves information about a particular supplier.</span></span>

<span data-ttu-id="1f0b9-174">Přidat nový prvek ObjectDataSource na stránku jeho pojmenování `SingleSupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-174">Add a new ObjectDataSource to the page, naming it `SingleSupplierDataSource`.</span></span> <span data-ttu-id="1f0b9-175">Z inteligentních značek, klikněte na odkaz Konfigurovat zdroj dat a jeho použití `SuppliersBLL` třída s `GetSupplierBySupplierID(supplierID)` metody.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-175">From its smart tag, click the Configure Data Source link and have it use the `SuppliersBLL` class s `GetSupplierBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="1f0b9-176">Stejně jako u `AllSuppliersDataSource` prvek ObjectDataSource, mají `SingleSupplierDataSource` ObjectDataSource s `Update()` metodu mapované na `SuppliersBLL` třída s `UpdateSupplierAddress` metoda.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-176">As with the `AllSuppliersDataSource` ObjectDataSource, have the `SingleSupplierDataSource` ObjectDataSource s `Update()` method mapped to the `SuppliersBLL` class s `UpdateSupplierAddress` method.</span></span>


<span data-ttu-id="1f0b9-177">[![Konfigurace SingleSupplierDataSource ObjectDataSource GetSupplierBySupplierID(supplierID) metody](limiting-data-modification-functionality-based-on-the-user-vb/_static/image20.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-177">[![Configure the SingleSupplierDataSource ObjectDataSource to Use the GetSupplierBySupplierID(supplierID) Method](limiting-data-modification-functionality-based-on-the-user-vb/_static/image20.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image19.png)</span></span>

<span data-ttu-id="1f0b9-178">**Obrázek 7**: konfigurace `SingleSupplierDataSource` ObjectDataSource k použití `GetSupplierBySupplierID(supplierID)` – metoda ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-178">**Figure 7**: Configure the `SingleSupplierDataSource` ObjectDataSource to Use the `GetSupplierBySupplierID(supplierID)` Method ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image21.png))</span></span>


<span data-ttu-id="1f0b9-179">Dále jsme znovu zobrazit výzva k zadání parametru Zdroj `GetSupplierBySupplierID(supplierID)` metody s `supplierID` vstupního parametru.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-179">Next, we re prompted to specify the parameter source for the `GetSupplierBySupplierID(supplierID)` method s `supplierID` input parameter.</span></span> <span data-ttu-id="1f0b9-180">Vzhledem k tomu, že má být zobrazena informace pro dodavatele vybrali DropDownList, použijte `Suppliers` DropDownList s `SelectedValue` vlastnost jako zdroj parametru.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-180">Since we want to show the information for the supplier selected from the DropDownList, use the `Suppliers` DropDownList s `SelectedValue` property as the parameter source.</span></span>


<span data-ttu-id="1f0b9-181">[![Použít DropDownList dodavatelé jako KódDodavatele zdroji parametru](limiting-data-modification-functionality-based-on-the-user-vb/_static/image23.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-181">[![Use the Suppliers DropDownList as the supplierID Parameter Source](limiting-data-modification-functionality-based-on-the-user-vb/_static/image23.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image22.png)</span></span>

<span data-ttu-id="1f0b9-182">**Obrázek 8**: použijte `Suppliers` DropDownList jako `supplierID` zdroji parametru ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-182">**Figure 8**: Use the `Suppliers` DropDownList as the `supplierID` Parameter Source ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image24.png))</span></span>


<span data-ttu-id="1f0b9-183">I přes tento druhý ObjectDataSource přidali ovládací prvek DetailsView je aktuálně nakonfigurován pro vždy používat `AllSuppliersDataSource` ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-183">Even with this second ObjectDataSource added, the DetailsView control is currently configured to always use the `AllSuppliersDataSource` ObjectDataSource.</span></span> <span data-ttu-id="1f0b9-184">Je potřeba přidat logiku pro zdroj dat používaný v ovládacím prvku DetailsView. v závislosti na nastavení `Suppliers` DropDownList položka vybrána.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-184">We need to add logic to adjust the data source used by the DetailsView depending on the `Suppliers` DropDownList item selected.</span></span> <span data-ttu-id="1f0b9-185">Chcete-li to provést, vytvořte `SelectedIndexChanged` obslužné rutiny události pro DropDownList dodavatelů.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-185">To accomplish this, create a `SelectedIndexChanged` event handler for the Suppliers DropDownList.</span></span> <span data-ttu-id="1f0b9-186">To lze nejsnadněji vytvořit dvojitým kliknutím rozevírací seznam v návrháři.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-186">This can most easily be created by double-clicking the DropDownList in the Designer.</span></span> <span data-ttu-id="1f0b9-187">Tato obslužná rutina události musí určit, jaký zdroj dat použít a musíte znovu připojit data do ovládacího prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-187">This event handler needs to determine what data source to use and must rebind the data to the DetailsView.</span></span> <span data-ttu-id="1f0b9-188">To lze provést následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="1f0b9-188">This is accomplished with the following code:</span></span>


[!code-vb[Main](limiting-data-modification-functionality-based-on-the-user-vb/samples/sample3.vb)]

<span data-ttu-id="1f0b9-189">Obslužná rutina události začíná tak, že určíte, zda jste vybrali možnost "Zobrazit nebo upravit všichni dodavatelé".</span><span class="sxs-lookup"><span data-stu-id="1f0b9-189">The event handler begins by determining whether the "Show/Edit ALL Suppliers" option was selected.</span></span> <span data-ttu-id="1f0b9-190">Pokud ano, nastaví `SupplierDetails` prvek DetailsView s `DataSourceID` k `AllSuppliersDataSource` a vrátí uživatele na první záznam v sadě dodavatelů tím, že nastavíte `PageIndex` vlastnost na hodnotu 0.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-190">If it was, it sets the `SupplierDetails` DetailsView s `DataSourceID` to `AllSuppliersDataSource` and returns the user to the first record in the set of suppliers by setting the `PageIndex` property to 0.</span></span> <span data-ttu-id="1f0b9-191">Pokud však uživatel vybral konkrétní dodavatele z DropDownList DetailsView s `DataSourceID` přiřazen `SingleSuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-191">If, however, the user has selected a particular supplier from the DropDownList, the DetailsView s `DataSourceID` is assigned to `SingleSuppliersDataSource`.</span></span> <span data-ttu-id="1f0b9-192">Bez ohledu na to, jaká data se používá zdroj, `SuppliersDetails` režimu je vrátit zpět do režimu jen pro čtení a data se znovu připojeno do ovládacího prvku DetailsView voláním `SuppliersDetails` ovládacího prvku s `DataBind()` metody.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-192">Regardless of what data source is used, the `SuppliersDetails` mode is reverted back to the read-only mode and the data is rebound to the DetailsView by a call to the `SuppliersDetails` control s `DataBind()` method.</span></span>

<span data-ttu-id="1f0b9-193">Pomocí této obslužné rutiny události na místě ovládacím prvku DetailsView nyní zobrazuje vybrané dodavatele, pokud jste vybrali možnost "Zobrazit nebo upravit všichni dodavatelé", v takovém případě všechny dodavatele lze zobrazit pomocí rozhraní stránkování.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-193">With this event handler in place, the DetailsView control now shows the selected supplier, unless the "Show/Edit ALL Suppliers" option was selected, in which case all of the suppliers can be viewed through the paging interface.</span></span> <span data-ttu-id="1f0b9-194">Obrázek 9 ukazuje na stránku s možností "Zobrazit nebo upravit všichni dodavatelé"; Mějte na paměti, že rozhraní stránkování je k dispozici, uživatel navštívit a aktualizovat libovolnému dodavateli.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-194">Figure 9 shows the page with the "Show/Edit ALL Suppliers" option selected; note that the paging interface is present, allowing the user to visit and update any supplier.</span></span> <span data-ttu-id="1f0b9-195">Obrázek 10 ukazuje na stránku s dodavatelem Ma Maison vybrali.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-195">Figure 10 shows the page with the Ma Maison supplier selected.</span></span> <span data-ttu-id="1f0b9-196">Pouze informace s Ma Maison se může zobrazit a upravovat v tomto případě.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-196">Only Ma Maison s information is viewable and editable in this case.</span></span>


<span data-ttu-id="1f0b9-197">[![Všechny informace dodavatelé mohou zobrazit a upravit](limiting-data-modification-functionality-based-on-the-user-vb/_static/image26.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-197">[![All of the Suppliers Information Can Be Viewed and Edited](limiting-data-modification-functionality-based-on-the-user-vb/_static/image26.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image25.png)</span></span>

<span data-ttu-id="1f0b9-198">**Obrázek 9**: všechny dodavatelé informace můžete zobrazit a upravovaný ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-198">**Figure 9**: All of the Suppliers Information Can Be Viewed and Edited ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image27.png))</span></span>


<span data-ttu-id="1f0b9-199">[![Pouze vybrané dodavatele s informace můžete zobrazit a upravit](limiting-data-modification-functionality-based-on-the-user-vb/_static/image29.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-199">[![Only the Selected Supplier s Information Can Be Viewed and Edited](limiting-data-modification-functionality-based-on-the-user-vb/_static/image29.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image28.png)</span></span>

<span data-ttu-id="1f0b9-200">**Obrázek 10**: jenom vybrané dodavatele s informace můžou být Viewed a upravovaný ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-200">**Figure 10**: Only the Selected Supplier s Information Can Be Viewed and Edited ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="1f0b9-201">Pro účely tohoto kurzu DropDownList i DetailsView ovládací prvek s `EnableViewState` musí být nastaveno na `true` (výchozí) protože DropDownList s `SelectedIndex` a DetailsView s `DataSourceID` změny vlastností s musí uživatel zadat postbacků.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-201">For this tutorial, both the DropDownList and DetailsView control s `EnableViewState` must be set to `true` (the default) because the DropDownList s `SelectedIndex` and the DetailsView s `DataSourceID` property s changes must be remembered across postbacks.</span></span>


## <a name="step-4-listing-the-suppliers-products-in-an-editable-gridview"></a><span data-ttu-id="1f0b9-202">Krok 4: Výpis produkty dodavatelů v upravitelné GridView</span><span class="sxs-lookup"><span data-stu-id="1f0b9-202">Step 4: Listing the Suppliers Products in an Editable GridView</span></span>

<span data-ttu-id="1f0b9-203">S ovládacím prvku DetailsView. dokončení naším dalším krokem je zahrnout upravitelné prvku GridView, který obsahuje seznam těchto produktů poskytovaných vybrané dodavatelem.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-203">With the DetailsView complete, our next step is to include an editable GridView that lists those products provided by the selected supplier.</span></span> <span data-ttu-id="1f0b9-204">Tento prvek GridView by měl povolit úpravy pouze `ProductName` a `QuantityPerUnit` pole.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-204">This GridView should allow edits to only the `ProductName` and `QuantityPerUnit` fields.</span></span> <span data-ttu-id="1f0b9-205">Kromě toho pokud je uživatel na stránce od konkrétního dodavatele, ji by měl povolit pouze aktualizace těchto produktů, které jsou *není* ukončena.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-205">Moreover, if the user visiting the page is from a particular supplier, it should only allow updates to those products that are *not* discontinued.</span></span> <span data-ttu-id="1f0b9-206">K tomu můžeme budete muset nejdřív přidat přetížení `ProductsBLL` třída s `UpdateProducts` metodu, která přijímá jenom `ProductID`, `ProductName`, a `QuantityPerUnit` pole jako vstupy.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-206">To accomplish this we'll need to first add an overload of the `ProductsBLL` class s `UpdateProducts` method that takes in just the `ProductID`, `ProductName`, and `QuantityPerUnit` fields as inputs.</span></span> <span data-ttu-id="1f0b9-207">Jsme ve předem prošli tento proces v mnoha kurzy, proto nechte s právě prohlédněte si kód, která by měla být přidána do `ProductsBLL`:</span><span class="sxs-lookup"><span data-stu-id="1f0b9-207">We ve stepped through this process beforehand in numerous tutorials, so let s just look at the code here, which should be added to `ProductsBLL`:</span></span>


[!code-vb[Main](limiting-data-modification-functionality-based-on-the-user-vb/samples/sample4.vb)]

<span data-ttu-id="1f0b9-208">Pomocí tohoto přetížení vytvořili, můžeme znovu připraven k přidání ovládacího prvku GridView a její přidružené ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-208">With this overload created, we re ready to add the GridView control and its associated ObjectDataSource.</span></span> <span data-ttu-id="1f0b9-209">Přidání nového ovládacího prvku GridView na stránku, nastavte jeho `ID` vlastnost `ProductsBySupplier`a nakonfigurujte ho na použití nového prvku ObjectDataSource s názvem `ProductsBySupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-209">Add a new GridView to the page, set its `ID` property to `ProductsBySupplier`, and configure it to use a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span> <span data-ttu-id="1f0b9-210">Protože chceme, aby tento GridView seznam těchto produktů vybrané dodavatelem, použijte `ProductsBLL` třída s `GetProductsBySupplierID(supplierID)` metody.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-210">Since we want this GridView to list those products by the selected supplier, use the `ProductsBLL` class s `GetProductsBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="1f0b9-211">Také namapovat `Update()` metoda k novému `UpdateProduct` přetížení, které jsme právě vytvořili.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-211">Also map the `Update()` method to the new `UpdateProduct` overload we just created.</span></span>


<span data-ttu-id="1f0b9-212">[![Konfigurace ObjectDataSource použít přetížení UpdateProduct právě vytvořili](limiting-data-modification-functionality-based-on-the-user-vb/_static/image32.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-212">[![Configure the ObjectDataSource to Use the UpdateProduct Overload Just Created](limiting-data-modification-functionality-based-on-the-user-vb/_static/image32.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image31.png)</span></span>

<span data-ttu-id="1f0b9-213">**Obrázek 11**: Konfigurace ObjectDataSource k použití `UpdateProduct` přetížení právě vytvořili ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-213">**Figure 11**: Configure the ObjectDataSource to Use the `UpdateProduct` Overload Just Created ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image33.png))</span></span>


<span data-ttu-id="1f0b9-214">Můžeme znovu výzva k výběru parametr zdroj `GetProductsBySupplierID(supplierID)` metody s `supplierID` vstupního parametru.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-214">We re prompted to select the parameter source for the `GetProductsBySupplierID(supplierID)` method s `supplierID` input parameter.</span></span> <span data-ttu-id="1f0b9-215">Protože chceme zobrazit produkty pro dodavatele vybraný v ovládacím prvku DetailsView, použijte `SuppliersDetails` ovládací prvek DetailsView s `SelectedValue` vlastnost jako zdroj parametru.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-215">Since we want to show the products for the supplier selected in the DetailsView, use the `SuppliersDetails` DetailsView control s `SelectedValue` property as the parameter source.</span></span>


<span data-ttu-id="1f0b9-216">[![Použití vlastnosti SelectedValue prvku SuppliersDetails DetailsView s jako parametr zdroje](limiting-data-modification-functionality-based-on-the-user-vb/_static/image35.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-216">[![Use the SuppliersDetails DetailsView s SelectedValue Property as the Parameter Source](limiting-data-modification-functionality-based-on-the-user-vb/_static/image35.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image34.png)</span></span>

<span data-ttu-id="1f0b9-217">**Obrázek 12**: použijte `SuppliersDetails` prvek DetailsView s `SelectedValue` vlastnost jako zdroj parametru ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-217">**Figure 12**: Use the `SuppliersDetails` DetailsView s `SelectedValue` Property as the Parameter Source ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image36.png))</span></span>


<span data-ttu-id="1f0b9-218">Vrácení k prvku GridView, odeberte všechna pole prvku GridView s výjimkou `ProductName`, `QuantityPerUnit`, a `Discontinued`, označování `Discontinued` třídě CheckBoxField jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-218">Returning to the GridView, remove all of the GridView fields except for `ProductName`, `QuantityPerUnit`, and `Discontinued`, marking the `Discontinued` CheckBoxField as read-only.</span></span> <span data-ttu-id="1f0b9-219">Navíc zaškrtněte možnost Povolit úpravy z inteligentních značek s ovládacího prvku GridView.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-219">Also, check the Enable Editing option from the GridView s smart tag.</span></span> <span data-ttu-id="1f0b9-220">Po provedení těchto změn deklarativní ovládacími prvky GridView a ObjectDataSource by měl vypadat nějak takto:</span><span class="sxs-lookup"><span data-stu-id="1f0b9-220">After these changes have been made, the declarative markup for the GridView and ObjectDataSource should look similar to the following:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-vb/samples/sample5.aspx)]

<span data-ttu-id="1f0b9-221">Stejně jako u našich předchozí ObjectDataSources tento jeden s `OldValuesParameterFormatString` je nastavena na `original_{0}`, která by mohla způsobit potíže při pokusu o aktualizaci produkt s názvem nebo množství na jednotku.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-221">As with our previous ObjectDataSources, this one s `OldValuesParameterFormatString` property is set to `original_{0}`, which will cause problems when attempting to update a product s name or quantity per unit.</span></span> <span data-ttu-id="1f0b9-222">Úplně odeberte tuto vlastnost z deklarativní syntaxe nebo ji nastavte na jeho výchozí `{0}`.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-222">Remove this property from the declarative syntax altogether or set it to its default, `{0}`.</span></span>

<span data-ttu-id="1f0b9-223">S touto konfigurací kompletní naši stránku nyní obsahuje produkty poskytnuté dodavatelem v prvku GridView (viz obrázek 13).</span><span class="sxs-lookup"><span data-stu-id="1f0b9-223">With this configuration complete, our page now lists the products provided by the supplier selected in the GridView (see Figure 13).</span></span> <span data-ttu-id="1f0b9-224">Aktuálně *jakékoli* produkt s názvem nebo množství na jednotku je možné aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-224">Currently *any* product s name or quantity per unit can be updated.</span></span> <span data-ttu-id="1f0b9-225">Musíme aktualizovat logiku naši stránku tak, aby tato funkce je zakázaná pro odpojené produkty pro uživatele přidružené k určité dodavatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-225">However, we need to update our page logic so that such functionality is prohibited for discontinued products for users associated with a particular supplier.</span></span> <span data-ttu-id="1f0b9-226">Jsme budete řešit tento poslední část v kroku 5.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-226">We'll tackle this final piece in Step 5.</span></span>


<span data-ttu-id="1f0b9-227">[![Jsou zobrazeny poskytnutých dodavatelem vybrané produkty](limiting-data-modification-functionality-based-on-the-user-vb/_static/image38.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-227">[![The Products Provided by the Selected Supplier are Displayed](limiting-data-modification-functionality-based-on-the-user-vb/_static/image38.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image37.png)</span></span>

<span data-ttu-id="1f0b9-228">**Obrázek 13**: The produkty poskytnuté dodavatelem vybrané zobrazují ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-228">**Figure 13**: The Products Provided by the Selected Supplier are Displayed ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image39.png))</span></span>


> [!NOTE]
> <span data-ttu-id="1f0b9-229">Přidání této upravitelné GridView `Suppliers` DropDownList s `SelectedIndexChanged` obslužné rutiny události musí aktualizovat na hodnotu prvku GridView se vrátit do stavu jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-229">With the addition of this editable GridView the `Suppliers` DropDownList s `SelectedIndexChanged` event handler should be updated to return the GridView to a read-only state.</span></span> <span data-ttu-id="1f0b9-230">V opačném případě jiný dodavatel vybrali při uprostřed úpravy informace o produktech, odpovídající index v prvku GridView pro nové dodavatele bude také upravovat.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-230">Otherwise, if a different supplier is selected while in the middle of editing product information, the corresponding index in the GridView for the new supplier will also be editable.</span></span> <span data-ttu-id="1f0b9-231">Chcete-li tomu zabránit, stačí nastavit prvek GridView s `EditIndex` vlastnost `-1` v `SelectedIndexChanged` obslužné rutiny události.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-231">To prevent this, simply set the GridView s `EditIndex` property to `-1` in the `SelectedIndexChanged` event handler.</span></span>


<span data-ttu-id="1f0b9-232">Také Připomínáme, že je důležité, že GridView s zobrazení stav povoleno (výchozí chování).</span><span class="sxs-lookup"><span data-stu-id="1f0b9-232">Also, recall that it is important that the GridView s view state be enabled (the default behavior).</span></span> <span data-ttu-id="1f0b9-233">Pokud nastavíte GridView s `EnableViewState` vlastnost `false`, spustíte riskujete souběžných uživatelů zaznamenává neúmyslnému odstranění nebo úpravy.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-233">If you set the GridView s `EnableViewState` property to `false`, you run the risk of having concurrent users unintentionally deleting or editing records.</span></span> <span data-ttu-id="1f0b9-234">V tématu [upozornění: problém souběžnosti s ASP.NET 2.0 prvků GridViews/DetailsView/FormViews tohoto podpora úpravy nebo odstranění a jejichž stav zobrazení je zakázaná](http://scottonwriting.net/sowblog/posts/10054.aspx) Další informace.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-234">See [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/posts/10054.aspx) for more information.</span></span>

## <a name="step-5-disallow-editing-for-discontinued-products-when-showedit-all-suppliers-is-not-selected"></a><span data-ttu-id="1f0b9-235">Krok 5: Zakažte úpravy ukončena produkty při zobrazit nebo upravit všechny Dodavatelé je nevybraných</span><span class="sxs-lookup"><span data-stu-id="1f0b9-235">Step 5: Disallow Editing for Discontinued Products When Show/Edit ALL Suppliers is Not Selected</span></span>

<span data-ttu-id="1f0b9-236">Zatímco `ProductsBySupplier` GridView je plně funkční, aktuálně zajišťuje příliš mnoho přístup uživatelům, kteří jsou od určitého dodavatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-236">While the `ProductsBySupplier` GridView is fully functional, it currently grants too much access to those users who are from a particular supplier.</span></span> <span data-ttu-id="1f0b9-237">Za naše obchodní pravidla nesmí tyto uživatelé nebudou moct aktualizovat odpojené produkty.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-237">Per our business rules, such users should not be able to update discontinued products.</span></span> <span data-ttu-id="1f0b9-238">Pokud to pokud chcete vynutit, jsme můžete skrýt (nebo zakázat) na tlačítko Upravit tyto řádky GridView s odpojené produkty, když na stránce se právě návštěvě uživatele od jiného dodavatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-238">To enforce this, we can hide (or disable) the Edit button in those GridView rows with discontinued products when the page is being visited by a user from a supplier.</span></span>

<span data-ttu-id="1f0b9-239">Vytvořte obslužnou rutinu události pro prvek GridView s `RowDataBound` událostí.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-239">Create an event handler for the GridView s `RowDataBound` event.</span></span> <span data-ttu-id="1f0b9-240">V této obslužné rutiny události potřebujeme k určení, zda je uživatel přidružený konkrétního dodavatele, které pro účely tohoto kurzu, můžete určit tak, že zkontrolujete dodavatelé DropDownList s `SelectedValue` vlastnost – pokud ji s něco jiné než -1 a pak mu je spojené s konkrétní dodavatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-240">In this event handler we need to determine whether or not the user is associated with a particular supplier, which, for this tutorial, can be determined by checking the Suppliers DropDownList s `SelectedValue` property - if it s something other than -1, then the user is associated with a particular supplier.</span></span> <span data-ttu-id="1f0b9-241">Pro tyto uživatele následně je potřeba určit, zda se vyřazuje produktu.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-241">For such users, we then need to determine whether or not the product is discontinued.</span></span> <span data-ttu-id="1f0b9-242">Jsme získejte odkaz na skutečnou `ProductRow` instance je vázán na řádku prvku GridView prostřednictvím `e.Row.DataItem` vlastnost, jak je popsáno v [ *zobrazuje souhrnné informace v zápatí prvku GridView s* ](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-vb.md) kurz.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-242">We can grab a reference to the actual `ProductRow` instance bound to the GridView row via the `e.Row.DataItem` property, as discussed in the [*Displaying Summary Information in the GridView s Footer*](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-vb.md) tutorial.</span></span> <span data-ttu-id="1f0b9-243">Pokud se vyřazuje, produktu, můžeme vzít programový odkaz na tlačítku pro úpravy v prvku GridView s CommandField pomocí techniky popsané v předchozím kurzu [ *přidání Client-Side potvrzení při odstraňování* ](adding-client-side-confirmation-when-deleting-vb.md).</span><span class="sxs-lookup"><span data-stu-id="1f0b9-243">If the product is discontinued, we can grab a programmatic reference to the Edit button in the GridView s CommandField using the techniques discussed in the previous tutorial, [*Adding Client-Side Confirmation When Deleting*](adding-client-side-confirmation-when-deleting-vb.md).</span></span> <span data-ttu-id="1f0b9-244">Jakmile budeme mít odkaz na jsme pak můžete skrýt nebo zakázat tlačítko.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-244">Once we have a reference we can then hide or disable the button.</span></span>


[!code-vb[Main](limiting-data-modification-functionality-based-on-the-user-vb/samples/sample6.vb)]

<span data-ttu-id="1f0b9-245">S touto událostí obslužné rutiny na místě, pokud tyto produkty, které jsou vyřazeny navštívit tuto stránku jako uživatel od konkrétního dodavatele se nedají upravovat, na tlačítku pro úpravy je skrytý pro tyto produkty.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-245">With this event handler in place, when visiting this page as a user from a specific supplier those products that are discontinued are not editable, as the Edit button is hidden for these products.</span></span> <span data-ttu-id="1f0b9-246">Například s Chef Anton Gumbo Mix je ukončená produktu pro nový Orleans Cajun Delights dodavatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-246">For example, Chef Anton s Gumbo Mix is a discontinued product for the New Orleans Cajun Delights supplier.</span></span> <span data-ttu-id="1f0b9-247">Při návštěvě stránky pro tento konkrétní dodavatele, přístup se skryje tlačítko Upravit pro tento produkt (viz obrázek 14).</span><span class="sxs-lookup"><span data-stu-id="1f0b9-247">When visiting the page for this particular supplier, the Edit button for this product is hidden from sight (see Figure 14).</span></span> <span data-ttu-id="1f0b9-248">Ale při návštěvě pomocí "Zobrazit nebo upravit všichni dodavatelé", tlačítko pro úpravy je dostupné (viz obrázek 15).</span><span class="sxs-lookup"><span data-stu-id="1f0b9-248">However, when visiting using the "Show/Edit ALL Suppliers," the Edit button is available (see Figure 15).</span></span>


<span data-ttu-id="1f0b9-249">[![Pro konkrétní dodavatele uživatele tlačítko Upravit pro Chef Anton s Gumbo Mix skryté](limiting-data-modification-functionality-based-on-the-user-vb/_static/image41.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-249">[![For Supplier-Specific Users the Edit Button for Chef Anton s Gumbo Mix is Hidden](limiting-data-modification-functionality-based-on-the-user-vb/_static/image41.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image40.png)</span></span>

<span data-ttu-id="1f0b9-250">**Obrázek 14**: pro konkrétní dodavatele uživatele skryté tlačítko Upravit pro Chef Anton s Gumbo Mix ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-250">**Figure 14**: For Supplier-Specific Users the Edit Button for Chef Anton s Gumbo Mix is Hidden ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image42.png))</span></span>


<span data-ttu-id="1f0b9-251">[![Pro všechny uživatele dodavatelé zobrazit nebo upravit je zobrazeno tlačítko Upravit pro Chef Anton s Gumbo Mix](limiting-data-modification-functionality-based-on-the-user-vb/_static/image44.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-251">[![For Show/Edit ALL Suppliers Users, the Edit Button for Chef Anton s Gumbo Mix is Displayed](limiting-data-modification-functionality-based-on-the-user-vb/_static/image44.png)](limiting-data-modification-functionality-based-on-the-user-vb/_static/image43.png)</span></span>

<span data-ttu-id="1f0b9-252">**Obrázek 15**: pro zobrazit nebo upravit všichni dodavatelé uživatelé, tlačítko Upravit pro Chef Anton s se zobrazí Gumbo Mix ([kliknutím ji zobrazíte obrázek v plné velikosti](limiting-data-modification-functionality-based-on-the-user-vb/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="1f0b9-252">**Figure 15**: For Show/Edit ALL Suppliers Users, the Edit Button for Chef Anton s Gumbo Mix is Displayed ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-vb/_static/image45.png))</span></span>


## <a name="checking-for-access-rights-in-the-business-logic-layer"></a><span data-ttu-id="1f0b9-253">Kontrolují se oprávnění v vrstvy obchodní logiky</span><span class="sxs-lookup"><span data-stu-id="1f0b9-253">Checking for Access Rights in the Business Logic Layer</span></span>

<span data-ttu-id="1f0b9-254">V tomto kurzu ASP.NET stránky zpracovává veškerou logiku s ohledem na jaké informace může zobrazit uživatele a jaké produkty, že můžete aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-254">In this tutorial the ASP.NET page handles all logic with regards to what information the user can see and what products he can update.</span></span> <span data-ttu-id="1f0b9-255">V ideálním případě by tato logika by být k dispozici také v vrstvy obchodní logiky.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-255">Ideally, this logic would also be present at the Business Logic Layer.</span></span> <span data-ttu-id="1f0b9-256">Například `SuppliersBLL` třída s `GetSuppliers()` – metoda (která vrátí všechny dodavatelé) může zahrnovat kontrolu a ujistěte se, že je aktuálně přihlášený uživatel *není* spojené s konkrétní dodavatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-256">For example, the `SuppliersBLL` class s `GetSuppliers()` method (which returns all suppliers) might include a check to ensure that the currently logged on user is *not* associated with a specific supplier.</span></span> <span data-ttu-id="1f0b9-257">Podobně `UpdateSupplierAddress` metoda může zahrnovat kontrolu a ujistěte se, že aktuálně přihlášeného uživatele buď pracoval pro naše společnost, která (a tedy můžete aktualizovat všechny informace o adrese dodavatelé) nebo je spojen s od dodavatele, jejichž data se aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-257">Likewise, the `UpdateSupplierAddress` method could include a check to ensure that the currently logged on user either worked for our company (and therefore can update all suppliers address information) or is associated with the supplier whose data is being updated.</span></span>

<span data-ttu-id="1f0b9-258">Můžu nenabízela tyto vrstvy BLL kontroly vzhledem k tomu, že v našem kurzu uživatele s právy stanovuje DropDownList na stránce, která BLL třídy nemůže získat přístup.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-258">I did not include such BLL-layer checks here because in our tutorial the user s rights are determined by a DropDownList on the page, which the BLL classes cannot access.</span></span> <span data-ttu-id="1f0b9-259">Pokud používáte systém členství nebo jeden z pole out v ověřovací schémata poskytovaných technologií ASP.NET (například ověřování Windows), aktuálně přihlášeného uživatele s informace a informace o roli je přístupná z knihoven BLL, díky čemuž takový přístup práva zkontroluje v prezentaci a BLL vrstvy je to možné.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-259">When using the membership system or one of the out-of-the box authentication schemes provided by ASP.NET (such as Windows authentication), the currently logged on user s information and roles information can be accessed from the BLL, thereby making such access rights checks possible at both the presentation and BLL layers.</span></span>

## <a name="summary"></a><span data-ttu-id="1f0b9-260">Souhrn</span><span class="sxs-lookup"><span data-stu-id="1f0b9-260">Summary</span></span>

<span data-ttu-id="1f0b9-261">Většina serverů, které poskytují uživatelské účty potřebovat k přizpůsobení rozhraní pro úpravu dat na základě přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-261">Most sites that provide user accounts need to customize the data modification interface based upon the logged in user.</span></span> <span data-ttu-id="1f0b9-262">Administrativní uživatelé moci odstranit a upravit libovolný záznam, zatímco uživatelé bez oprávnění správce může být omezena pouze aktualizace nebo odstranění záznamů sami vytvořili.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-262">Administrative users may be able to delete and edit any record, whereas non-administrative users may be limited to only updating or deleting records they created themselves.</span></span> <span data-ttu-id="1f0b9-263">Bez ohledu scénář může být, webové ovládací prvky, prvek ObjectDataSource, dat a vrstvy obchodní logiky třídy je možné rozšířit na Přidat nebo odepřít určité funkce na základě přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-263">Whatever the scenario may be, the data Web controls, ObjectDataSource, and Business Logic Layer classes can be extended to add or deny certain functionality based on the logged on user.</span></span> <span data-ttu-id="1f0b9-264">V tomto kurzu jsme viděli, jak zobrazit a upravovat data v závislosti na tom, zda byl uživatel spojené s konkrétní dodavatele nebo pokud to šlo pro naše společnost, která omezit.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-264">In this tutorial we saw how to limit the viewable and editable data depending on whether the user was associated with a particular supplier or if they worked for our company.</span></span>

<span data-ttu-id="1f0b9-265">V tomto kurzu končí naše zkoumání vložení, aktualizace a odstranění dat pomocí ovládacího prvku GridView, DetailsView a FormView ovládacích prvků.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-265">This tutorial concludes our examination of inserting, updating, and deleting data using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="1f0b9-266">Spuštění k dalšímu kurzu, jsme vám zapnout pozornost na přidání stránkování a řazení podpory.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-266">Starting with the next tutorial, we'll turn our attention to adding paging and sorting support.</span></span>

<span data-ttu-id="1f0b9-267">Všechno nejlepší programování!</span><span class="sxs-lookup"><span data-stu-id="1f0b9-267">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="1f0b9-268">O autorovi</span><span class="sxs-lookup"><span data-stu-id="1f0b9-268">About the Author</span></span>

<span data-ttu-id="1f0b9-269">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a Zakladatel [4GuysFromRolla.com](http://www.4guysfromrolla.com), má práce s Microsoft webových technologiích od roku 1998.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-269">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1f0b9-270">Scott funguje jako nezávislý konzultant, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="1f0b9-270">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1f0b9-271">Jeho nejnovější knihy [ *Edice nakladatelství Sams naučit sami ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="1f0b9-271">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="1f0b9-272">Může být dosáhl v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1f0b9-272">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="1f0b9-273">nebo prostřednictvím jeho blogu, který lze nalézt v [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="1f0b9-273">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="1f0b9-274">Předchozí</span><span class="sxs-lookup"><span data-stu-id="1f0b9-274">Previous</span></span>](adding-client-side-confirmation-when-deleting-vb.md)
