---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
title: Dva DropDownList (C#) filtrování záznamů Master/Detail | Dokumentace Microsoftu
author: rick-anderson
description: Tento kurz rozšiřuje vztah záznamů master/detail přidat třetí vrstvou, pomocí dvou ovládacích prvků DropDownList a vyberte požadovaný nadřazený a dvě úrovně nadřazený recor...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: ac4b0d77-4816-4ded-afd0-88dab667aedd
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-cs
msc.type: authoredcontent
ms.openlocfilehash: b4d7c6661bf95550ae91ae34f4bd4272c18e24d3
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/03/2018
ms.locfileid: "37368282"
---
<a name="masterdetail-filtering-with-two-dropdownlists-c"></a><span data-ttu-id="96102-103">Dva DropDownList (C#) filtrování záznamů Master/Detail</span><span class="sxs-lookup"><span data-stu-id="96102-103">Master/Detail Filtering With Two DropDownLists (C#)</span></span>
====================
<span data-ttu-id="96102-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="96102-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="96102-105">[Stáhněte si ukázkovou aplikaci](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) nebo [stahovat PDF](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="96102-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_8_CS.exe) or [Download PDF](master-detail-filtering-with-two-dropdownlists-cs/_static/datatutorial08cs1.pdf)</span></span>

> <span data-ttu-id="96102-106">Tento kurz rozšiřuje vztah záznamů master/detail přidat třetí vrstvou, pomocí dvou ovládacích prvků DropDownList a vyberte požadované záznamy nadřazený a dvě úrovně nadřazený.</span><span class="sxs-lookup"><span data-stu-id="96102-106">This tutorial expands the master/detail relationship to add a third layer, using two DropDownList controls to select the desired parent and grandparent records.</span></span>


## <a name="introduction"></a><span data-ttu-id="96102-107">Úvod</span><span class="sxs-lookup"><span data-stu-id="96102-107">Introduction</span></span>

<span data-ttu-id="96102-108">V [předchozí kurz o službě](master-detail-filtering-with-a-dropdownlist-cs.md) jsme se zaměřili na způsob zobrazení jednoduché hlavních/podrobných sestavy pomocí jednoho DropDownList vyplní kategorií a GridView zobrazující těchto produktů, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="96102-108">In the [previous tutorial](master-detail-filtering-with-a-dropdownlist-cs.md) we examined how to display a simple master/details report using a single DropDownList populated with the categories and a GridView showing those products that belong to the selected category.</span></span> <span data-ttu-id="96102-109">Tento model sestavy dobře funguje při zobrazení záznamů, které mají vztah jeden mnoho a je možné snadno rozšířit pro scénáře, které zahrnují více vztahů jednoho k několika.</span><span class="sxs-lookup"><span data-stu-id="96102-109">This report pattern works well when displaying records that have a one-to-many relationship and can easily be extended to work for scenarios that include multiple one-to-many relationships.</span></span> <span data-ttu-id="96102-110">Systém pro zadávání objednávek byste mít například tabulky, které odpovídají zákazníky, objednávky a položky řádku pořadí.</span><span class="sxs-lookup"><span data-stu-id="96102-110">For example, an order entry system would have tables that correspond to customers, orders, and order line items.</span></span> <span data-ttu-id="96102-111">Si daný zákazník může mít více příkazy se jednotlivé objednávky, který se skládá z více položek.</span><span class="sxs-lookup"><span data-stu-id="96102-111">A given customer may have multiple orders with each order consisting of multiple items.</span></span> <span data-ttu-id="96102-112">Tato data lze zobrazit uživateli pomocí dvou DropDownLists a GridView.</span><span class="sxs-lookup"><span data-stu-id="96102-112">Such data can be presented to the user with two DropDownLists and a GridView.</span></span> <span data-ttu-id="96102-113">První DropDownList by mohlo mít položku seznamu pro každého zákazníka v databázi s druhým jeden z obsah se objednávek podle vybraného zákazníka.</span><span class="sxs-lookup"><span data-stu-id="96102-113">The first DropDownList would have a list item for each customer in the database with the second one's contents being the orders placed by the selected customer.</span></span> <span data-ttu-id="96102-114">GridView by zobrazila seznam položky řádku z vybrané objednávky.</span><span class="sxs-lookup"><span data-stu-id="96102-114">A GridView would list the line items from the selected order.</span></span>

<span data-ttu-id="96102-115">Když databázi Northwind zahrnout informace o canonical podrobnosti zákazníka objednávky v jeho `Customers`, `Orders`, a `Order Details` tabulek, tyto tabulky nejsou zachyceny v naší architektury.</span><span class="sxs-lookup"><span data-stu-id="96102-115">While the Northwind database include the canonical customer/order/order details information in its `Customers`, `Orders`, and `Order Details` tables, these tables aren't captured in our architecture.</span></span> <span data-ttu-id="96102-116">Nicméně jsme můžete stále ukazují pomocí dvou DropDownLists závislé.</span><span class="sxs-lookup"><span data-stu-id="96102-116">Nonetheless, we can still illustrate using two dependent DropDownLists.</span></span> <span data-ttu-id="96102-117">První DropDownList zobrazí seznam kategorií a druhá produkty, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="96102-117">The first DropDownList will list the categories and the second the products belonging to the selected category.</span></span> <span data-ttu-id="96102-118">DetailsView se potom zobrazí seznam podrobnosti vybraného produktu.</span><span class="sxs-lookup"><span data-stu-id="96102-118">A DetailsView will then list the details of the selected product.</span></span>

## <a name="step-1-creating-and-populating-the-categories-dropdownlist"></a><span data-ttu-id="96102-119">Krok 1: Vytvoření a naplnění DropDownList kategorie</span><span class="sxs-lookup"><span data-stu-id="96102-119">Step 1: Creating and Populating the Categories DropDownList</span></span>

<span data-ttu-id="96102-120">Naším prvním cílem je přidání DropDownList, který obsahuje seznam kategorií.</span><span class="sxs-lookup"><span data-stu-id="96102-120">Our first goal is to add the DropDownList that lists the categories.</span></span> <span data-ttu-id="96102-121">Tyto kroky se podrobně v předchozím kurzu, ale jsou tady shrnuté pro úplnost.</span><span class="sxs-lookup"><span data-stu-id="96102-121">These steps were examined in detail in the preceding tutorial, but are summarized here for completeness.</span></span>

<span data-ttu-id="96102-122">Otevřít `MasterDetailsDetails.aspx` stránku `Filtering` DropDownList přidat na stránku nastavení složky, jeho `ID` vlastnost `Categories`a pak klikněte na odkaz Konfigurovat zdroj dat v jeho inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="96102-122">Open the `MasterDetailsDetails.aspx` page in the `Filtering` folder, add a DropDownList to the page, set its `ID` property to `Categories`, and then click the Configure Data Source link in its smart tag.</span></span> <span data-ttu-id="96102-123">Z Průvodce konfigurací zdroje dat vyberte a přidejte nový zdroj dat.</span><span class="sxs-lookup"><span data-stu-id="96102-123">From the Data Source Configuration Wizard choose to add a new data source.</span></span>


<span data-ttu-id="96102-124">[![Přidat nový zdroj dat pro DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="96102-124">[![Add a New Data Source for the DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image1.png)</span></span>

<span data-ttu-id="96102-125">**Obrázek 1**: Přidat nový zdroj dat pro DropDownList ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="96102-125">**Figure 1**: Add a New Data Source for the DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image3.png))</span></span>


<span data-ttu-id="96102-126">Nový zdroj dat přirozeně, třeba prvku ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="96102-126">The new data source should, naturally, be an ObjectDataSource.</span></span> <span data-ttu-id="96102-127">Pojmenujte tento nový prvek ObjectDataSource `CategoriesDataSource` a jeho vyvolání `CategoriesBLL` objektu `GetCategories()` metody.</span><span class="sxs-lookup"><span data-stu-id="96102-127">Name this new ObjectDataSource `CategoriesDataSource` and have it invoke the `CategoriesBLL` object's `GetCategories()` method.</span></span>


<span data-ttu-id="96102-128">[![Zvolte možnost použití třídy CategoriesBLL](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="96102-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image4.png)</span></span>

<span data-ttu-id="96102-129">**Obrázek 2**: Zvolte možnost k použití `CategoriesBLL` třídy ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="96102-129">**Figure 2**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image6.png))</span></span>


<span data-ttu-id="96102-130">[![Konfigurace ObjectDataSource GetCategories() metody](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="96102-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image7.png)</span></span>

<span data-ttu-id="96102-131">**Obrázek 3**: Konfigurace ObjectDataSource k použití `GetCategories()` – metoda ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="96102-131">**Figure 3**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image9.png))</span></span>


<span data-ttu-id="96102-132">Po dokončení konfigurace ObjectDataSource stále potřebujeme k určení, které pole zdroje dat má být zobrazen v `Categories` DropDownList a který by měl být nakonfigurovaný jako hodnotu pro položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="96102-132">After configuring the ObjectDataSource we still need to specify which data source field should be displayed in the `Categories` DropDownList and which one should be configured as the value for the list item.</span></span> <span data-ttu-id="96102-133">Nastavte `CategoryName` pole jako zobrazení a `CategoryID` jako hodnotu pro každou položku seznamu.</span><span class="sxs-lookup"><span data-stu-id="96102-133">Set the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="96102-134">[![Mít zobrazení DropDownList CategoryName pole a CategoryID použijte jako hodnotu](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="96102-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-two-dropdownlists-cs/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image10.png)</span></span>

<span data-ttu-id="96102-135">**Obrázek 4**: Zobrazit DropDownList `CategoryName` pole a použití `CategoryID` jako hodnotu ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="96102-135">**Figure 4**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image12.png))</span></span>


<span data-ttu-id="96102-136">V tuto chvíli máme ovládací prvek DropDownList (`Categories`), který je naplněný záznamy ze `Categories` tabulky.</span><span class="sxs-lookup"><span data-stu-id="96102-136">At this point we have a DropDownList control (`Categories`) that's populated with the records from the `Categories` table.</span></span> <span data-ttu-id="96102-137">Když se uživatel rozhodne novou kategorii z DropDownList jsme vhodné zpětného odeslání dojde k aktualizaci produktu DropDownList, který chceme vytvořit v kroku 2.</span><span class="sxs-lookup"><span data-stu-id="96102-137">When the user chooses a new category from the DropDownList we'll want a postback to occur in order to refresh the product DropDownList that we're going to create in Step 2.</span></span> <span data-ttu-id="96102-138">Proto zkontrolujte možnost povolit vlastnost AutoPostBack z `categories` společnosti DropDownList inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="96102-138">Therefore, check the Enable AutoPostBack option from the `categories` DropDownList's smart tag.</span></span>


<span data-ttu-id="96102-139">[![Povolit vlastnost AutoPostBack pro kategorie DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="96102-139">[![Enable AutoPostBack for the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image13.png)</span></span>

<span data-ttu-id="96102-140">**Obrázek 5**: Povolit automatické odeslání pro `Categories` DropDownList ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="96102-140">**Figure 5**: Enable AutoPostBack for the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image15.png))</span></span>


## <a name="step-2-displaying-the-selected-categorys-products-in-a-second-dropdownlist"></a><span data-ttu-id="96102-141">Krok 2: Zobrazení vybrané kategorie produktů v druhé DropDownList</span><span class="sxs-lookup"><span data-stu-id="96102-141">Step 2: Displaying the Selected Category's Products in a Second DropDownList</span></span>

<span data-ttu-id="96102-142">S `Categories` DropDownList dokončeno, naším dalším krokem je zobrazíte DropDownList produktů, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="96102-142">With the `Categories` DropDownList completed, our next step is to display a DropDownList of products belonging to the selected category.</span></span> <span data-ttu-id="96102-143">K tomu přidat na stránku s názvem jiné DropDownList `ProductsByCategory`.</span><span class="sxs-lookup"><span data-stu-id="96102-143">To accomplish this, add another DropDownList to the page named `ProductsByCategory`.</span></span> <span data-ttu-id="96102-144">Stejně jako u `Categories` DropDownList, vytvořte nový prvek ObjectDataSource pro `ProductsByCategory` DropDownList s názvem `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="96102-144">As with the `Categories` DropDownList, create a new ObjectDataSource for the `ProductsByCategory` DropDownList named `ProductsByCategoryDataSource`.</span></span>


<span data-ttu-id="96102-145">[![Přidat nový zdroj dat pro ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="96102-145">[![Add a New Data Source for the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image16.png)</span></span>

<span data-ttu-id="96102-146">**Obrázek 6**: Přidat nový zdroj dat pro `ProductsByCategory` DropDownList ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="96102-146">**Figure 6**: Add a New Data Source for the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image18.png))</span></span>


<span data-ttu-id="96102-147">[![Vytvoření nového prvku ObjectDataSource s názvem ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="96102-147">[![Create a New ObjectDataSource Named ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-cs/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image19.png)</span></span>

<span data-ttu-id="96102-148">**Obrázek 7**: vytvoření nového prvku ObjectDataSource s názvem `ProductsByCategoryDataSource` ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="96102-148">**Figure 7**: Create a New ObjectDataSource Named `ProductsByCategoryDataSource` ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image21.png))</span></span>


<span data-ttu-id="96102-149">Protože `ProductsByCategory` DropDownList musí zobrazit pouze tyto produkty, které patří do vybrané kategorie mají ObjectDataSource vyvolat `GetProductsByCategoryID(categoryID)` metody z `ProductsBLL` objektu.</span><span class="sxs-lookup"><span data-stu-id="96102-149">Since the `ProductsByCategory` DropDownList needs to display just those products belonging to the selected category, have the ObjectDataSource invoke the `GetProductsByCategoryID(categoryID)` method from the `ProductsBLL` object.</span></span>


<span data-ttu-id="96102-150">[![Zvolte možnost použití třídy ProductsBLL](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="96102-150">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image22.png)</span></span>

<span data-ttu-id="96102-151">**Obrázek 8**: Zvolte možnost k použití `ProductsBLL` třídy ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="96102-151">**Figure 8**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image24.png))</span></span>


<span data-ttu-id="96102-152">[![Konfigurace ObjectDataSource GetProductsByCategoryID(categoryID) metody](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="96102-152">[![Configure the ObjectDataSource to Use the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image25.png)</span></span>

<span data-ttu-id="96102-153">**Obrázek 9**: Konfigurace ObjectDataSource k použití `GetProductsByCategoryID(categoryID)` – metoda ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="96102-153">**Figure 9**: Configure the ObjectDataSource to Use the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image27.png))</span></span>


<span data-ttu-id="96102-154">V posledním kroku průvodce musíme určit hodnotu *`categoryID`* parametru.</span><span class="sxs-lookup"><span data-stu-id="96102-154">In the final step of the wizard we need to specify the value of the *`categoryID`* parameter.</span></span> <span data-ttu-id="96102-155">Přiřaďte tento parametr na vybranou položku z `Categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="96102-155">Assign this parameter to the selected item from the `Categories` DropDownList.</span></span>


<span data-ttu-id="96102-156">[![Hodnota parametru categoryID načítat DropDownList kategorie](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="96102-156">[![Pull the categoryID Parameter Value from the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image28.png)</span></span>

<span data-ttu-id="96102-157">**Obrázek 10**: o přijetí změn *`categoryID`* hodnota parametru `Categories` DropDownList ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="96102-157">**Figure 10**: Pull the *`categoryID`* Parameter Value from the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image30.png))</span></span>


<span data-ttu-id="96102-158">Ovládacím prvkem ObjectDataSource nakonfigurované už jen zbývá k určení, jaké pole zdroje dat slouží k zobrazení a hodnotu položek DropDownList.</span><span class="sxs-lookup"><span data-stu-id="96102-158">With the ObjectDataSource configured, all that remains is to specify what data source fields are used for the display and value of the DropDownList's items.</span></span> <span data-ttu-id="96102-159">Zobrazení `ProductName` pole a použít `ProductID` pole jako hodnotu.</span><span class="sxs-lookup"><span data-stu-id="96102-159">Display the `ProductName` field and use the `ProductID` field as the value.</span></span>


<span data-ttu-id="96102-160">[![Zadejte pole zdroje dat použít pro Text položky DropDownList ListItems' a hodnota vlastnosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="96102-160">[![Specify the Data Source Fields Used for the DropDownList's ListItems' Text and Value Properties](master-detail-filtering-with-two-dropdownlists-cs/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image31.png)</span></span>

<span data-ttu-id="96102-161">**Obrázek 11**: určení polí zdroj dat použít pro DropDownList `ListItem` s " `Text` a `Value` vlastnosti ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="96102-161">**Figure 11**: Specify the Data Source Fields Used for the DropDownList's `ListItem` s' `Text` and `Value` Properties ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image33.png))</span></span>


<span data-ttu-id="96102-162">Ovládacím prvkem ObjectDataSource a `ProductsByCategory` DropDownList nakonfigurované naší stránce se zobrazí dvě DropDownLists: první zobrazí seznam všech kategorií během druhého, zobrazí se seznam těchto produktů, které patří do vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="96102-162">With the ObjectDataSource and `ProductsByCategory` DropDownList configured our page will display two DropDownLists: the first will list all of the categories while the second will list those products belonging to the selected category.</span></span> <span data-ttu-id="96102-163">Když uživatel vybere z první DropDownList novou kategorii, bude následovat zpětné volání a druhý DropDownList bude odrážejí, zobrazuje tyto produkty, které patří do nově vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="96102-163">When the user selects a new category from the first DropDownList, a postback will ensue and the second DropDownList will be rebound, showing those products that belong to the newly selected category.</span></span> <span data-ttu-id="96102-164">Obrázky 12 a 13 zobrazit `MasterDetailsDetails.aspx` v akci při prohlížení prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="96102-164">Figures 12 and 13 show `MasterDetailsDetails.aspx` in action when viewed through a browser.</span></span>


<span data-ttu-id="96102-165">[![Při první návštěvě stránky, je vybrané kategorie Nápoje](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="96102-165">[![When First Visiting the Page, the Beverages Category is Selected](master-detail-filtering-with-two-dropdownlists-cs/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image34.png)</span></span>

<span data-ttu-id="96102-166">**Obrázek 12**: při první návštěvě stránky, je vybrané kategorie nápoje ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="96102-166">**Figure 12**: When First Visiting the Page, the Beverages Category is Selected ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image36.png))</span></span>


<span data-ttu-id="96102-167">[![Výběr obsahuje jinou kategorii zobrazí nové kategorie produktů](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="96102-167">[![Choosing a Different Category Displays the New Category's Products](master-detail-filtering-with-two-dropdownlists-cs/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image37.png)</span></span>

<span data-ttu-id="96102-168">**Obrázek 13**: Výběr různé kategorie zobrazuje nové kategorie produktů ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="96102-168">**Figure 13**: Choosing a Different Category Displays the New Category's Products ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image39.png))</span></span>


<span data-ttu-id="96102-169">Aktuálně `productsByCategory` DropDownList, když se změní, nemá *není* vyvolávají zpětné odeslání.</span><span class="sxs-lookup"><span data-stu-id="96102-169">Currently the `productsByCategory` DropDownList, when changed, does *not* cause a postback.</span></span> <span data-ttu-id="96102-170">Nicméně se chceme zpětného odeslání dojde k po přidáme prvku DetailsView. Chcete-li zobrazit podrobnosti o vybrané produktu (krok 3).</span><span class="sxs-lookup"><span data-stu-id="96102-170">However, we will want a postback to occur once we add a DetailsView to display the selected product's details (Step 3).</span></span> <span data-ttu-id="96102-171">Proto, zaškrtněte políčko Povolit vlastnost AutoPostBack z `productsByCategory` společnosti DropDownList inteligentních značek.</span><span class="sxs-lookup"><span data-stu-id="96102-171">Therefore, check the Enable AutoPostBack checkbox from the `productsByCategory` DropDownList's smart tag.</span></span>


<span data-ttu-id="96102-172">[![Povolit vlastnost AutoPostBack funkci pro productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="96102-172">[![Enable the AutoPostBack Feature for the productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image40.png)</span></span>

<span data-ttu-id="96102-173">**Obrázek 14**: Povolit vlastnost AutoPostBack funkci pro `productsByCategory` DropDownList ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="96102-173">**Figure 14**: Enable the AutoPostBack Feature for the `productsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image42.png))</span></span>


## <a name="step-3-using-a-detailsview-to-display-details-for-the-selected-product"></a><span data-ttu-id="96102-174">Krok 3: Použití DetailsView chcete zobrazit podrobnosti pro vybraný produkt</span><span class="sxs-lookup"><span data-stu-id="96102-174">Step 3: Using a DetailsView to Display Details for the Selected Product</span></span>

<span data-ttu-id="96102-175">Posledním krokem je chcete zobrazit podrobnosti pro vybraný produkt v DetailsView.</span><span class="sxs-lookup"><span data-stu-id="96102-175">The final step is to display the details for the selected product in a DetailsView.</span></span> <span data-ttu-id="96102-176">Chcete-li DetailsView dosáhnout, přidat na stránku, nastavte jeho `ID` vlastnost `ProductDetails`a vytvoří se pro ni nového prvku ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="96102-176">To accomplish this, add a DetailsView to the page, set its `ID` property to `ProductDetails`, and create a new ObjectDataSource for it.</span></span> <span data-ttu-id="96102-177">Konfigurace tohoto prvku ObjectDataSource přebírat jeho data ze `ProductsBLL` třídy `GetProductByProductID(productID)` metodu pomocí vybrané hodnotě objektu `ProductsByCategory` DropDownList pro hodnotu vlastnosti *`productID`* parametru.</span><span class="sxs-lookup"><span data-stu-id="96102-177">Configure this ObjectDataSource to pull its data from the `ProductsBLL` class's `GetProductByProductID(productID)` method using the selected value of the `ProductsByCategory` DropDownList for the value of the *`productID`* parameter.</span></span>


<span data-ttu-id="96102-178">[![Zvolte možnost použití třídy ProductsBLL](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="96102-178">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-cs/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image43.png)</span></span>

<span data-ttu-id="96102-179">**Obrázek 15**: Zvolte možnost k použití `ProductsBLL` třídy ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="96102-179">**Figure 15**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image45.png))</span></span>


<span data-ttu-id="96102-180">[![Konfigurace ObjectDataSource GetProductByProductID(productID) metody](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="96102-180">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](master-detail-filtering-with-two-dropdownlists-cs/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image46.png)</span></span>

<span data-ttu-id="96102-181">**Obrázek 16**: Konfigurace ObjectDataSource k použití `GetProductByProductID(productID)` – metoda ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="96102-181">**Figure 16**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image48.png))</span></span>


<span data-ttu-id="96102-182">[![Hodnota parametru productID načítat ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="96102-182">[![Pull the productID Parameter Value from the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image49.png)</span></span>

<span data-ttu-id="96102-183">**Obrázek 17**: o přijetí změn *`productID`* hodnota parametru `ProductsByCategory` DropDownList ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="96102-183">**Figure 17**: Pull the *`productID`* Parameter Value from the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image51.png))</span></span>


<span data-ttu-id="96102-184">Můžete zobrazit všechna dostupná pole v ovládacím prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="96102-184">You can choose to display any of the available fields in the DetailsView.</span></span> <span data-ttu-id="96102-185">Jste se rozhodli odebrat `ProductID`, `SupplierID`, a `CategoryID` polí a pořadí změníte a ve formátu zbývající pole.</span><span class="sxs-lookup"><span data-stu-id="96102-185">I've opted to remove the `ProductID`, `SupplierID`, and `CategoryID` fields and reordered and formatted the remaining fields.</span></span> <span data-ttu-id="96102-186">Kromě toho vymaže na ovládacím prvku DetailsView `Height` a `Width` vlastnosti, povolení prvku DetailsView rozbalte šířce potřebné k nejlepšího zobrazení jeho data, namísto nutnosti omezené na zadané velikosti.</span><span class="sxs-lookup"><span data-stu-id="96102-186">In addition, I cleared out the DetailsView's `Height` and `Width` properties, allowing the DetailsView to expand to the width needed to best display its data rather than having it constrained to a specified size.</span></span> <span data-ttu-id="96102-187">Úplný kód se zobrazí níže:</span><span class="sxs-lookup"><span data-stu-id="96102-187">The full markup appears below:</span></span>


[!code-aspx[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample1.aspx)]

<span data-ttu-id="96102-188">Za chvíli si vyzkoušet `MasterDetailsDetails.aspx` stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="96102-188">Take a moment to try out the `MasterDetailsDetails.aspx` page in a browser.</span></span> <span data-ttu-id="96102-189">Na první pohled může zdát, že vše funguje podle potřeby, ale je nějaký drobný problém.</span><span class="sxs-lookup"><span data-stu-id="96102-189">At first glance it may appear that everything is working as desired, but there's a subtle problem.</span></span> <span data-ttu-id="96102-190">Pokud zvolíte novou kategorii `ProductsByCategory` DropDownList je aktualizováno, aby zahrnovalo tyto produkty pro vybrané kategorie, ale `ProductDetails` DetailsView nadále zobrazit předchozí informace o produktu.</span><span class="sxs-lookup"><span data-stu-id="96102-190">When you choose a new category the `ProductsByCategory` DropDownList is updated to include those products for the selected category, but the `ProductDetails` DetailsView continued to show the previous product information.</span></span> <span data-ttu-id="96102-191">Ovládacím prvku DetailsView aktualizuje, když zvolíte jiný produkt pro vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="96102-191">The DetailsView is updated when choosing a different product for the selected category.</span></span> <span data-ttu-id="96102-192">Kromě toho pokud dostatečně důkladně otestujte budete zjistíte, že pokud se rozhodnete průběžně nové kategorie (jako je například výběr nápoje z `Categories` DropDownList produkty koření, a potom Confections) každý výběr kategorie způsobí, že `ProductDetails`DetailsView aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="96102-192">Furthermore, if you test thoroughly enough, you'll find that if you continually choose new categories (such as choosing Beverages from the `Categories` DropDownList, then Condiments, then Confections) every other category selection causes the `ProductDetails` DetailsView to be refreshed.</span></span>

<span data-ttu-id="96102-193">Abyste tento problém konkretizovat, Podívejme se na konkrétní příklad.</span><span class="sxs-lookup"><span data-stu-id="96102-193">To help concretize this problem, let's look at a specific example.</span></span> <span data-ttu-id="96102-194">Při první návštěvě stránky vybrané kategorie Nápoje a související produkty jsou načteny v `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="96102-194">When you first visit the page the Beverages category is selected and the related products are loaded in the `ProductsByCategory` DropDownList.</span></span> <span data-ttu-id="96102-195">Chai je vybraný produkt a jeho podrobnosti jsou zobrazeny v `ProductDetails` DetailsView, jak ukazuje obrázek 18.</span><span class="sxs-lookup"><span data-stu-id="96102-195">Chai is the selected product and its details are displayed in the `ProductDetails` DetailsView, as shown in Figure 18.</span></span>


<span data-ttu-id="96102-196">[![Podrobnosti o vybrané produktu jsou zobrazeny v DetailsView](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="96102-196">[![The Selected Product's Details are Displayed in a DetailsView](master-detail-filtering-with-two-dropdownlists-cs/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image52.png)</span></span>

<span data-ttu-id="96102-197">**Obrázek 18**: The vybraný produkt podrobnosti jsou zobrazeny v DetailsView ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span><span class="sxs-lookup"><span data-stu-id="96102-197">**Figure 18**: The Selected Product's Details are Displayed in a DetailsView ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image54.png))</span></span>


<span data-ttu-id="96102-198">Pokud změníte výběr kategorie z nápoje produkty koření, dojde k zpětné volání a `ProductsByCategory` DropDownList se podle nich aktualizuje, ale ovládacím prvku DetailsView stále zobrazuje podrobnosti pro Chai.</span><span class="sxs-lookup"><span data-stu-id="96102-198">If you change the category selection from Beverages to Condiments, a postback occurs and the `ProductsByCategory` DropDownList is updated accordingly, but the DetailsView still displays details for Chai.</span></span>


<span data-ttu-id="96102-199">[![Podrobnosti o dříve vybrané produktu jsou pořád zobrazuje](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="96102-199">[![The Previously Selected Product's Details are Still Displayed](master-detail-filtering-with-two-dropdownlists-cs/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image55.png)</span></span>

<span data-ttu-id="96102-200">**Obrázek 19**: dříve vybrané na podrobnosti o produktu jsou pořád zobrazuje ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span><span class="sxs-lookup"><span data-stu-id="96102-200">**Figure 19**: The Previously Selected Product's Details are Still Displayed ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image57.png))</span></span>


<span data-ttu-id="96102-201">Výběr nového produktu v seznamu aktualizuje ovládacím prvku DetailsView podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="96102-201">Picking a new product from the list refreshes the DetailsView as expected.</span></span> <span data-ttu-id="96102-202">Pokud vyberete novou kategorii po změně produktu, nebude aktualizovat znovu ovládacím prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="96102-202">If you pick a new category after changing the product, the DetailsView again won't refresh.</span></span> <span data-ttu-id="96102-203">Pokud místo výběru nového produktu vyberete novou kategorii, by aktualizovat ovládacím prvku DetailsView.</span><span class="sxs-lookup"><span data-stu-id="96102-203">However, if instead of choosing a new product you selected a new category, the DetailsView would refresh.</span></span> <span data-ttu-id="96102-204">V celém světě k čemu tady?</span><span class="sxs-lookup"><span data-stu-id="96102-204">What in the world is going on here?</span></span>

<span data-ttu-id="96102-205">Problém je časování životního cyklu stránky.</span><span class="sxs-lookup"><span data-stu-id="96102-205">The problem is a timing issue in the page's lifecycle.</span></span> <span data-ttu-id="96102-206">Na stránce je vždy, když požadovaného že pokračuje několika kroky jako jeho vykreslování.</span><span class="sxs-lookup"><span data-stu-id="96102-206">Whenever a page is requested it proceeds through a number of steps as its rendering.</span></span> <span data-ttu-id="96102-207">V jednom z těchto kroků ObjectDataSource řídí zkontrolujte, zda má některý jejich `SelectParameters` změní hodnoty.</span><span class="sxs-lookup"><span data-stu-id="96102-207">In one of these steps the ObjectDataSource controls check to see if any of their `SelectParameters` values have changed.</span></span> <span data-ttu-id="96102-208">Pokud tedy ovládací prvek webových dat vázány na ObjectDataSource ví, že je nutné aktualizovat zobrazení.</span><span class="sxs-lookup"><span data-stu-id="96102-208">If so, the data Web control bound to the ObjectDataSource knows that it needs to refresh its display.</span></span> <span data-ttu-id="96102-209">Například když novou kategorii je vybrali, `ProductsByCategoryDataSource` ObjectDataSource zjistí, že došlo ke změně jeho hodnoty parametrů a `ProductsByCategory` DropDownList znovu připojí, získávání produkty pro vybrané kategorie.</span><span class="sxs-lookup"><span data-stu-id="96102-209">For example, when a new category is selected, the `ProductsByCategoryDataSource` ObjectDataSource detects that its parameter values have changed and the `ProductsByCategory` DropDownList rebinds itself, getting the products for the selected category.</span></span>

<span data-ttu-id="96102-210">Problém, který nastane v takové situaci je, že dojde k časovému životního cyklu stránky, která ObjectDataSources vyhledat změněné parametry *před* obnovení vazeb přidružená data webové ovládací prvky.</span><span class="sxs-lookup"><span data-stu-id="96102-210">The problem that arises in this situation is that the point in the page lifecycle that the ObjectDataSources check for changed parameters occurs *before* the rebinding of the associated data Web controls.</span></span> <span data-ttu-id="96102-211">Proto se při výběru nové kategorie `ProductsByCategoryDataSource` ObjectDataSource zjistí změnu v hodnotě její parametr.</span><span class="sxs-lookup"><span data-stu-id="96102-211">Therefore, when selecting a new category the `ProductsByCategoryDataSource` ObjectDataSource detects a change in its parameter's value.</span></span> <span data-ttu-id="96102-212">Prvek ObjectDataSource používá `ProductDetails` DetailsView, ale nebude mějte na paměti tyto změny protože `ProductsByCategory` DropDownList ještě musíme být znovu připojeno.</span><span class="sxs-lookup"><span data-stu-id="96102-212">The ObjectDataSource used by the `ProductDetails` DetailsView, however, doesn't note any such changes because the `ProductsByCategory` DropDownList has yet to be rebound.</span></span> <span data-ttu-id="96102-213">Dále v životní cyklus `ProductsByCategory` DropDownList znovu připojí k jeho ObjectDataSource uchopíte jeho produkty pro nově vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="96102-213">Later in the lifecycle the `ProductsByCategory` DropDownList rebinds to its ObjectDataSource, grabbing the products for the newly selected category.</span></span> <span data-ttu-id="96102-214">Zatímco `ProductsByCategory` DropDownList hodnota změnila, `ProductDetails` ObjectDataSource ovládacího prvku DetailsView již provedla kontrola hodnoty jeho parametrů; proto ovládacím prvku DetailsView zobrazí jeho předchozí výsledky.</span><span class="sxs-lookup"><span data-stu-id="96102-214">While the `ProductsByCategory` DropDownList's value has changed, the `ProductDetails` DetailsView's ObjectDataSource has already done its parameter value check; therefore, the DetailsView displays its previous results.</span></span> <span data-ttu-id="96102-215">Tato interakce je znázorněno na obrázku 20.</span><span class="sxs-lookup"><span data-stu-id="96102-215">This interaction is depicted in Figure 20.</span></span>


<span data-ttu-id="96102-216">[![Po prvku ProductDetails DetailsView ObjectDataSource kontroluje změny při změně hodnoty ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="96102-216">[![The ProductsByCategory DropDownList Value Changes After the ProductDetails DetailsView's ObjectDataSource Checks for Changes](master-detail-filtering-with-two-dropdownlists-cs/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image58.png)</span></span>

<span data-ttu-id="96102-217">**Obrázek 20**: `ProductsByCategory` DropDownList hodnotu změny po `ProductDetails` ovládacího prvku DetailsView ObjectDataSource kontroluje změny při ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span><span class="sxs-lookup"><span data-stu-id="96102-217">**Figure 20**: The `ProductsByCategory` DropDownList Value Changes After the `ProductDetails` DetailsView's ObjectDataSource Checks for Changes ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image60.png))</span></span>


<span data-ttu-id="96102-218">Quota.MD potřebujeme explicitně znovu připojit `ProductDetails` DetailsView po `ProductsByCategory` DropDownList byla svázána.</span><span class="sxs-lookup"><span data-stu-id="96102-218">To remedy this we need to explicitly rebind the `ProductDetails` DetailsView after the `ProductsByCategory` DropDownList has been bound.</span></span> <span data-ttu-id="96102-219">Jsme toho dosáhli voláním `ProductDetails` ovládacího prvku DetailsView `DataBind()` metoda při `ProductsByCategory` společnosti DropDownList `DataBound` dojde k aktivaci události.</span><span class="sxs-lookup"><span data-stu-id="96102-219">We can accomplish this by calling the `ProductDetails` DetailsView's `DataBind()` method when the `ProductsByCategory` DropDownList's `DataBound` event fires.</span></span> <span data-ttu-id="96102-220">Přidejte následující kód obslužné rutiny událostí, který `MasterDetailsDetails.aspx` třídy modelu code-behind stránky (odkazovat "[programové nastavení hodnot parametru ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" informace o tom, jak přidat obslužnou rutinu události):</span><span class="sxs-lookup"><span data-stu-id="96102-220">Add the following event handler code to the `MasterDetailsDetails.aspx` page's code-behind class (refer to the "[Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" for a discussion on how to add an event handler):</span></span>


[!code-csharp[Main](master-detail-filtering-with-two-dropdownlists-cs/samples/sample2.cs)]

<span data-ttu-id="96102-221">Po tomto explicitní volání konstruktoru `ProductDetails` ovládacího prvku DetailsView `DataBind()` metoda byla přidána, tento kurz pracuje podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="96102-221">After this explicit call to the `ProductDetails` DetailsView's `DataBind()` method has been added, the tutorial works as expected.</span></span> <span data-ttu-id="96102-222">Obrázek 21 stručný přehled, jak toto nastavení změnit napravit naše starší problémy.</span><span class="sxs-lookup"><span data-stu-id="96102-222">Figure 21 highlights how this changed remedied our earlier problem.</span></span>


<span data-ttu-id="96102-223">[![Prvek ProductDetails DetailsView je dojde k aktivaci události explicitně aktualizují při the ProductsByCategory DropDownList vaší datové vazby](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="96102-223">[![The ProductDetails DetailsView is Explicitly Refreshed When the ProductsByCategory DropDownList's DataBound Event Fires](master-detail-filtering-with-two-dropdownlists-cs/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-cs/_static/image61.png)</span></span>

<span data-ttu-id="96102-224">**Obrázek 21**: `ProductDetails` DetailsView je explicitně aktualizují při `ProductsByCategory` společnosti DropDownList `DataBound` dojde k aktivaci události ([kliknutím ji zobrazíte obrázek v plné velikosti](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span><span class="sxs-lookup"><span data-stu-id="96102-224">**Figure 21**: The `ProductDetails` DetailsView is Explicitly Refreshed When the `ProductsByCategory` DropDownList's `DataBound` Event Fires ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-cs/_static/image63.png))</span></span>


## <a name="summary"></a><span data-ttu-id="96102-225">Souhrn</span><span class="sxs-lookup"><span data-stu-id="96102-225">Summary</span></span>

<span data-ttu-id="96102-226">DropDownList slouží jako element ideální uživatelské rozhraní pro sestavy záznamů master/detail níž se nachází vztah jeden mnoho mezi záznamy a podrobností.</span><span class="sxs-lookup"><span data-stu-id="96102-226">The DropDownList serves as an ideal user interface element for master/detail reports where there is a one-to-many relationship between the master and detail records.</span></span> <span data-ttu-id="96102-227">V předchozím kurzu jsme viděli, jak použít jeden DropDownList k filtrování produktů zobrazí vybranou kategorii.</span><span class="sxs-lookup"><span data-stu-id="96102-227">In the preceding tutorial we saw how to use a single DropDownList to filter the products displayed by the selected category.</span></span> <span data-ttu-id="96102-228">V tomto kurzu jsme nahradit GridView produkty ovládacím prvkem DropDownList a DetailsView slouží k zobrazení podrobností vybranému produktu.</span><span class="sxs-lookup"><span data-stu-id="96102-228">In this tutorial we replaced the GridView of products with a DropDownList, and used a DetailsView to display the details of the selected product.</span></span> <span data-ttu-id="96102-229">Principy probírané v tomto kurzu je možné snadno rozšířit na datové modely zahrnující více vztahů jednoho k několika, jako je například zákazníky, objednávky a pořadí položek.</span><span class="sxs-lookup"><span data-stu-id="96102-229">The concepts discussed in this tutorial can easily be extended to data models involving multiple one-to-many relationships, such as customers, orders, and order items.</span></span> <span data-ttu-id="96102-230">Obecně platí můžete vždy přidat DropDownList u každé z "jedna" entit u vztahů jednoho k několika.</span><span class="sxs-lookup"><span data-stu-id="96102-230">In general, you can always add a DropDownList for each of the "one" entities in the one-to-many relationships.</span></span>

<span data-ttu-id="96102-231">Všechno nejlepší programování!</span><span class="sxs-lookup"><span data-stu-id="96102-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="96102-232">O autorovi</span><span class="sxs-lookup"><span data-stu-id="96102-232">About the Author</span></span>

<span data-ttu-id="96102-233">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor sedm ASP/ASP.NET knih a Zakladatel [4GuysFromRolla.com](http://www.4guysfromrolla.com), má práce s Microsoft webových technologiích od roku 1998.</span><span class="sxs-lookup"><span data-stu-id="96102-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="96102-234">Scott funguje jako nezávislý konzultant, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="96102-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="96102-235">Jeho nejnovější knihy [ *Edice nakladatelství Sams naučit sami ASP.NET 2.0 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="96102-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="96102-236">Může být dosáhl v [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="96102-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="96102-237">nebo prostřednictvím jeho blogu, který lze nalézt v [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="96102-237">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="96102-238">Speciální k</span><span class="sxs-lookup"><span data-stu-id="96102-238">Special Thanks To</span></span>

<span data-ttu-id="96102-239">V této sérii kurzů byl recenzován uživatelem mnoho užitečných revidující.</span><span class="sxs-lookup"><span data-stu-id="96102-239">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="96102-240">Vedoucí kontrolor pro účely tohoto kurzu byla Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="96102-240">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="96102-241">Zajímat téma Moje nadcházejících článcích MSDN?</span><span class="sxs-lookup"><span data-stu-id="96102-241">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="96102-242">Pokud ano, vyřaďte mě řádek na [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="96102-242">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="96102-243">[Předchozí](master-detail-filtering-with-a-dropdownlist-cs.md)
> [další](master-detail-filtering-across-two-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="96102-243">[Previous](master-detail-filtering-with-a-dropdownlist-cs.md)
[Next](master-detail-filtering-across-two-pages-cs.md)</span></span>
