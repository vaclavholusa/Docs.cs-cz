---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: Konfigurování serveru databáze webu nasadit publikování | Dokumentace Microsoftu
author: jrjlee
description: Toto téma popisuje, jak konfigurovat databázový server SQL Server 2008 R2 pro podporu nasazení webu a publikování. Úlohy popsané v tomto tématu jsou co...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: 0f8639efcfcd02c9fdb65ce3ed25272965be8aa8
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/16/2018
ms.locfileid: "41753429"
---
<a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="6a1af-104">Konfigurace databázového serveru pro publikování nasazeného webu</span><span class="sxs-lookup"><span data-stu-id="6a1af-104">Configuring a Database Server for Web Deploy Publishing</span></span>
====================
<span data-ttu-id="6a1af-105">podle [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="6a1af-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="6a1af-106">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="6a1af-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="6a1af-107">Toto téma popisuje, jak konfigurovat databázový server SQL Server 2008 R2 pro podporu nasazení webu a publikování.</span><span class="sxs-lookup"><span data-stu-id="6a1af-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="6a1af-108">Úlohy popsané v tomto tématu jsou společné pro každý scénář nasazení&#x2014;nezáleží, jestli vaše webové servery jsou nakonfigurovány pro použití služby vzdálený Agent nástroje nasazení webu služby IIS (Web Deploy), obslužné rutiny webu nasadit nebo offline nasazení nebo aplikace běží na jednom webovém serveru nebo v serverové farmě.</span><span class="sxs-lookup"><span data-stu-id="6a1af-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="6a1af-109">Způsob nasazení databáze se může změnit podle požadavků na zabezpečení a další důležité informace.</span><span class="sxs-lookup"><span data-stu-id="6a1af-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="6a1af-110">Například můžete nasadit databázi s nebo bez něj ukázková data, a můžete nasadit mapování uživatelů na role nebo ruční konfigurace po nasazení.</span><span class="sxs-lookup"><span data-stu-id="6a1af-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="6a1af-111">Způsob, jakým konfigurování serveru databáze však zůstala stejná.</span><span class="sxs-lookup"><span data-stu-id="6a1af-111">However, the way you configure the database server remains the same.</span></span>


<span data-ttu-id="6a1af-112">Není nutné instalovat žádné další produkty a nástroje do konfigurace databázového serveru pro podporu nasazení webu.</span><span class="sxs-lookup"><span data-stu-id="6a1af-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="6a1af-113">Za předpokladu, že databázový server a webový server běží na různých počítačích, stačí jednoduše:</span><span class="sxs-lookup"><span data-stu-id="6a1af-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="6a1af-114">Povolení SQL serveru na komunikaci pomocí protokolu TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="6a1af-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="6a1af-115">Povolte provoz serveru SQL Server přes všechny brány firewall.</span><span class="sxs-lookup"><span data-stu-id="6a1af-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="6a1af-116">Zadejte účet počítače webového serveru přihlášení serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="6a1af-117">Přihlášení k účtu počítače mapování na všechny požadované databázové role.</span><span class="sxs-lookup"><span data-stu-id="6a1af-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="6a1af-118">Zadejte účet, který se spustí nasazení oprávnění pro tvůrce přihlášení a databáze systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="6a1af-119">Pro podporu nasazení na opakování, mapování nasazení účtu přihlášení k **db\_vlastníka** databázové role.</span><span class="sxs-lookup"><span data-stu-id="6a1af-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="6a1af-120">Postup pro každý z těchto postupů se zobrazí v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="6a1af-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="6a1af-121">Úlohy a názorné postupy v tomto tématu se předpokládá, že začínáte s výchozí instanci systému SQL Server 2008 R2 a systémem Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="6a1af-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="6a1af-122">Než budete pokračovat, ujistěte se, že:</span><span class="sxs-lookup"><span data-stu-id="6a1af-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="6a1af-123">Windows Server 2008 R2 Service Pack 1 a všechny dostupné aktualizace jsou nainstalovány.</span><span class="sxs-lookup"><span data-stu-id="6a1af-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="6a1af-124">Server není připojený k doméně.</span><span class="sxs-lookup"><span data-stu-id="6a1af-124">The server is domain-joined.</span></span>
- <span data-ttu-id="6a1af-125">Server má statickou IP adresu.</span><span class="sxs-lookup"><span data-stu-id="6a1af-125">The server has a static IP address.</span></span>
- <span data-ttu-id="6a1af-126">SQL Server 2008 R2 Service Pack 1 a všechny dostupné aktualizace jsou nainstalovány.</span><span class="sxs-lookup"><span data-stu-id="6a1af-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="6a1af-127">Pouze musí obsahovat instanci systému SQL Server **služby databázového stroje** role, který je automaticky zahrnut v žádné instalaci systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="6a1af-128">Pro usnadnění konfigurace a údržby, doporučujeme však, že složku zahrnujete **nástroje pro správu – základní** a **nástroje pro správu – základní** role serveru.</span><span class="sxs-lookup"><span data-stu-id="6a1af-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="6a1af-129">Další informace o připojení počítače k doméně najdete v tématu [připojení počítače k doméně a protokolování na](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="6a1af-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="6a1af-130">Další informace o konfiguraci statických IP adres najdete v tématu [nakonfigurujte statickou IP adresu](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="6a1af-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="6a1af-131">Další informace o instalaci systému SQL Server, naleznete v tématu [instalace systému SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="6a1af-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span></span>


## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="6a1af-132">Povolit vzdálený přístup k systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="6a1af-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="6a1af-133">SQL Server používá protokol TCP/IP pro komunikaci se vzdálenými počítači.</span><span class="sxs-lookup"><span data-stu-id="6a1af-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="6a1af-134">Pokud je váš databázový server a webový server na různých počítačích, musíte:</span><span class="sxs-lookup"><span data-stu-id="6a1af-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="6a1af-135">Konfigurace nastavení sítě systému SQL Server má povolit komunikaci přes protokol TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="6a1af-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="6a1af-136">Nakonfigurujte všechny hardware nebo software brány firewall pro povolení přenosů TCP (a v některých případech protokolu UDP (User Datagram) provozu) na portech, které používá instanci systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="6a1af-137">K povolení SQL serveru ke komunikaci přes protokol TCP/IP, pomocí Správce konfigurace systému SQL Server můžete změnit konfiguraci sítě pro vaši instanci SQL serveru.</span><span class="sxs-lookup"><span data-stu-id="6a1af-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

<span data-ttu-id="6a1af-138">**K povolení SQL serveru na komunikaci pomocí protokolu TCP/IP**</span><span class="sxs-lookup"><span data-stu-id="6a1af-138">**To enable SQL Server to communicate using TCP/IP**</span></span>

1. <span data-ttu-id="6a1af-139">Na **Start** nabídky, přejděte k **všechny programy**, klikněte na tlačítko **Microsoft SQL Server 2008 R2**, klikněte na tlačítko **konfigurační nástroje**a potom klikněte na **Správce konfigurace systému SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="6a1af-140">V podokně se stromovým zobrazením, rozbalte **síťová konfigurace systému SQL Server**a potom klikněte na tlačítko **protokoly pro MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="6a1af-141">Pokud jste nainstalovali více instancí systému SQL Server, zobrazí se vám <strong>protokoly pro</strong><em>[název instance]</em> položky pro každou instanci.</span><span class="sxs-lookup"><span data-stu-id="6a1af-141">If you have installed multiple instances of SQL Server, you'll see a <strong>Protocols for</strong><em>[instance name]</em> item for each instance.</span></span> <span data-ttu-id="6a1af-142">Musíte nakonfigurovat nastavení sítě na základě instance instance.</span><span class="sxs-lookup"><span data-stu-id="6a1af-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="6a1af-143">V podokně podrobností klikněte pravým tlačítkem myši **TCP/IP** řádku a potom klikněte na tlačítko **povolit**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="6a1af-144">V **upozornění** dialogové okno, klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="6a1af-145">Budete muset restartovat službu MSSQLSERVER, předtím, než se projeví nová konfigurace sítě.</span><span class="sxs-lookup"><span data-stu-id="6a1af-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="6a1af-146">Uděláte to příkazového řádku, z konzoly služby, nebo z SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6a1af-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="6a1af-147">V tomto postupu použijete SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6a1af-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="6a1af-148">Zavřete Správce konfigurace systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="6a1af-149">Na **Start** nabídky, přejděte k **všechny programy**, klikněte na tlačítko **Microsoft SQL Server 2008 R2**a potom klikněte na tlačítko **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="6a1af-150">V **připojit k serveru** v dialogu **název serveru** zadejte název databázového serveru a potom klikněte na tlačítko **připojit**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="6a1af-151">V **Průzkumník objektů systému** podokně klikněte pravým tlačítkem na nadřazený uzel serveru (například **TESTDB1**) a potom klikněte na tlačítko **restartovat**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="6a1af-152">V **Microsoft SQL Server Management Studio** dialogové okno, klikněte na tlačítko **Ano**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="6a1af-153">Pokud byla restartována, zavřete SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6a1af-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="6a1af-154">Pro povolení provozu systému SQL Server přes bránu firewall, je potřeba nejdřív vědět porty, které používá vaše instance systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="6a1af-155">Bude to záviset na jak instance systému SQL Server byl vytvořen a nakonfigurován:</span><span class="sxs-lookup"><span data-stu-id="6a1af-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="6a1af-156">A *výchozí instanci* systému SQL Server naslouchá (a reaguje na) žádosti na portu TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="6a1af-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="6a1af-157">A *pojmenovanou instanci* systému SQL Server naslouchá (a reaguje na) žádosti o dynamicky přidělovanou portu TCP.</span><span class="sxs-lookup"><span data-stu-id="6a1af-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="6a1af-158">Pokud je povolena služba SQL Server Browser, můžou klienti dotazovat službu na portu UDP port 1434 a zjistěte, který port TCP pro konkrétní instanci systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="6a1af-159">Tato služba je často zakázána z důvodu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="6a1af-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="6a1af-160">Za předpokladu, že používáte výchozí instanci systému SQL Server, budete muset nakonfigurovat bránu firewall pro povolení provozu.</span><span class="sxs-lookup"><span data-stu-id="6a1af-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="6a1af-161">Směr</span><span class="sxs-lookup"><span data-stu-id="6a1af-161">Direction</span></span> | <span data-ttu-id="6a1af-162">Z portu</span><span class="sxs-lookup"><span data-stu-id="6a1af-162">From Port</span></span> | <span data-ttu-id="6a1af-163">Port</span><span class="sxs-lookup"><span data-stu-id="6a1af-163">To Port</span></span> | <span data-ttu-id="6a1af-164">Typ portu</span><span class="sxs-lookup"><span data-stu-id="6a1af-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6a1af-165">Příchozí</span><span class="sxs-lookup"><span data-stu-id="6a1af-165">Inbound</span></span> | <span data-ttu-id="6a1af-166">Všechny</span><span class="sxs-lookup"><span data-stu-id="6a1af-166">Any</span></span> | <span data-ttu-id="6a1af-167">1433</span><span class="sxs-lookup"><span data-stu-id="6a1af-167">1433</span></span> | <span data-ttu-id="6a1af-168">TCP</span><span class="sxs-lookup"><span data-stu-id="6a1af-168">TCP</span></span> |
| <span data-ttu-id="6a1af-169">Odchozí</span><span class="sxs-lookup"><span data-stu-id="6a1af-169">Outbound</span></span> | <span data-ttu-id="6a1af-170">1433</span><span class="sxs-lookup"><span data-stu-id="6a1af-170">1433</span></span> | <span data-ttu-id="6a1af-171">Všechny</span><span class="sxs-lookup"><span data-stu-id="6a1af-171">Any</span></span> | <span data-ttu-id="6a1af-172">TCP</span><span class="sxs-lookup"><span data-stu-id="6a1af-172">TCP</span></span> |
  

> [!NOTE]
> <span data-ttu-id="6a1af-173">Technicky klientský počítač použije náhodně přidělenému portu TCP 1024 až 5000 ke komunikaci s SQL serverem a pravidla brány firewall můžete omezit odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="6a1af-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="6a1af-174">Další informace o portech SQL serveru a brány firewall najdete v tématu [čísla portů TCP/IP potřebných pro komunikaci jazyka SQL přes bránu firewall](https://go.microsoft.com/?linkid=9805125) a [postupy: Konfigurace serveru tak, aby naslouchal specifickému portu TCP (SQL Server Configuration Správce)](https://msdn.microsoft.com/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="6a1af-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span></span>


<span data-ttu-id="6a1af-175">Ve většině prostředí systému Windows Server bude pravděpodobně nutné konfigurace brány Windows Firewall na databázovém serveru.</span><span class="sxs-lookup"><span data-stu-id="6a1af-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="6a1af-176">Ve výchozím nastavení brány Windows Firewall umožňuje veškerý odchozí provoz, není-li pravidlo výslovně zakazuje.</span><span class="sxs-lookup"><span data-stu-id="6a1af-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="6a1af-177">Chcete-li webový server pro přístup k databázi, musíte nakonfigurovat příchozí pravidlo, které umožní provoz TCP na číslo portu, který používá instanci systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="6a1af-178">Pokud používáte výchozí instanci systému SQL Server, můžete použít následující postup konfigurace tohoto pravidla.</span><span class="sxs-lookup"><span data-stu-id="6a1af-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

<span data-ttu-id="6a1af-179">**Konfigurace brány Windows Firewall umožňující navázat komunikaci s výchozí instanci SQL serveru**</span><span class="sxs-lookup"><span data-stu-id="6a1af-179">**To configure Windows Firewall to allow communication with a default SQL Server instance**</span></span>

1. <span data-ttu-id="6a1af-180">Na databázovém serveru na **Start** nabídky, přejděte k **nástroje pro správu**a potom klikněte na tlačítko **brány Windows Firewall s pokročilým zabezpečením**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="6a1af-181">V podokně se stromovým zobrazením, klikněte na tlačítko **příchozí pravidla**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="6a1af-182">V **akce** podokně v části **příchozí pravidla**, klikněte na tlačítko **nové pravidlo**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="6a1af-183">V příchozí pravidla Průvodce vytvořením na **typ pravidla** stránce **Port**a potom klikněte na tlačítko **Další**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="6a1af-184">Na **protokol a porty** stránky, ujistěte se, že **TCP** je vybraná a **určité místní porty** zadejte **1433**a potom klikněte na **Další**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="6a1af-185">Na **akce** ponechte **povolit připojení** vybraný a klikněte na tlačítko **Další**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="6a1af-186">Na **profilu** ponechte **domény** vybrané, vymažte **privátní** a **veřejné** zaškrtávacích políček a pak klikněte na tlačítko  **Další**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="6a1af-187">Na **název** stránky, zadejte pro pravidlo vhodně popisný název (například **výchozí instanci systému SQL Server – přístup k síti**) a potom klikněte na tlačítko **Dokončit**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="6a1af-188">Další informace o konfiguraci brány Windows Firewall pro SQL Server, zejména v případě, že budete muset nestandardní nebo dynamických portů komunikují se SQL Server naleznete v tématu [postupy: Konfigurace brány Windows Firewall pro přístup k databázovému stroji](https://technet.microsoft.com/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="6a1af-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="6a1af-189">Konfigurovat přihlášení a databáze oprávnění</span><span class="sxs-lookup"><span data-stu-id="6a1af-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="6a1af-190">Když nasadíte webovou aplikaci do Internetové informační služby (IIS), aplikace bude spuštěna pod identitou fondu aplikací.</span><span class="sxs-lookup"><span data-stu-id="6a1af-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="6a1af-191">V prostředí domény identity fondu aplikací použijte účet počítače serveru, na které se použijí pro přístup k síťovým prostředkům.</span><span class="sxs-lookup"><span data-stu-id="6a1af-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="6a1af-192">Účty počítače mít podobu <em>[název domény]</em><strong>\</ strong ><em>[název počítače]</em><strong>$</strong>&#x2014;například <strong>FABRIKAM\TESTWEB1$</strong>.</span><span class="sxs-lookup"><span data-stu-id="6a1af-192">Machine accounts take the form <em>[domain name]</em><strong>\</strong><em>[machine name]</em><strong>$</strong>&#x2014;for example, <strong>FABRIKAM\TESTWEB1$</strong>.</span></span> <span data-ttu-id="6a1af-193">Povolit webové aplikace k přístup k databázi v síti, budete muset:</span><span class="sxs-lookup"><span data-stu-id="6a1af-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="6a1af-194">Přidáte přihlašovací údaje pro účet počítače webového serveru do instance systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6a1af-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="6a1af-195">Mapování přihlášení k účtu počítače k žádné roli požadovaná databáze (obvykle **db\_datareader** a **db\_datawriter nesmí být**).</span><span class="sxs-lookup"><span data-stu-id="6a1af-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="6a1af-196">Pokud vaše webová aplikace běží na serverové farmy, nikoli na jeden server, musíte opakovat tyto postupy pro všechny webové servery v serverové farmě.</span><span class="sxs-lookup"><span data-stu-id="6a1af-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="6a1af-197">Další informace o identity fondu aplikací a přístup k síťovým prostředkům, naleznete v tématu [identity fondu aplikací součásti](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="6a1af-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>


<span data-ttu-id="6a1af-198">Tyto úlohy v různých způsobů, jak můžete přistupovat.</span><span class="sxs-lookup"><span data-stu-id="6a1af-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="6a1af-199">Chcete-li vytvořit přihlášení, můžete buď:</span><span class="sxs-lookup"><span data-stu-id="6a1af-199">To create the login, you can either:</span></span>

- <span data-ttu-id="6a1af-200">Vytvořte přihlašovací jméno ručně na databázovém serveru pomocí příkazů jazyka Transact-SQL nebo SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6a1af-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="6a1af-201">Pomocí SQL Server 2008 serverový projekt v sadě Visual Studio k vytvoření a nasazení přihlášení.</span><span class="sxs-lookup"><span data-stu-id="6a1af-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="6a1af-202">Přihlášení serveru SQL Server je objekt úrovni serveru, nikoli objekt na úrovni databáze, takže není závislá na databázi, kterou chcete nasadit.</span><span class="sxs-lookup"><span data-stu-id="6a1af-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="6a1af-203">V důsledku toho v libovolném okamžiku můžete vytvořit přihlášení a nejjednodušší způsob je často vytvořit přihlašovací jméno ručně na databázovém serveru před zahájením nasazování databází.</span><span class="sxs-lookup"><span data-stu-id="6a1af-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="6a1af-204">Následující postup slouží k vytvoření přihlášení v aplikaci SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="6a1af-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

<span data-ttu-id="6a1af-205">**Jak vytvořit přihlášení systému SQL Server pro účet počítače webového serveru**</span><span class="sxs-lookup"><span data-stu-id="6a1af-205">**To create a SQL Server login for the web server machine account**</span></span>

1. <span data-ttu-id="6a1af-206">Na databázovém serveru na **Start** nabídky, přejděte k **všechny programy**, klikněte na tlačítko **Microsoft SQL Server 2008 R2**a potom klikněte na tlačítko **SQL Server Management Studio** .</span><span class="sxs-lookup"><span data-stu-id="6a1af-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="6a1af-207">V **připojit k serveru** v dialogu **název serveru** zadejte název databázového serveru a potom klikněte na tlačítko **připojit**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="6a1af-208">V **Průzkumník objektů** podokně klikněte pravým tlačítkem na **zabezpečení**, přejděte na **nový**a potom klikněte na tlačítko **přihlášení**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="6a1af-209">V **přihlášení – nové** v dialogu **přihlašovací jméno** zadejte název vašeho účet počítače webového serveru (například **FABRIKAM\TESTWEB1$**).</span><span class="sxs-lookup"><span data-stu-id="6a1af-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="6a1af-210">Klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-210">Click **OK**.</span></span>

<span data-ttu-id="6a1af-211">Databázový server je v tomto okamžiku připravené pro publikování nasazení webu.</span><span class="sxs-lookup"><span data-stu-id="6a1af-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="6a1af-212">Všechna řešení, které nasadíte, ale nebudou fungovat, dokud mapování přihlášení k účtu počítače na požadované databázové role.</span><span class="sxs-lookup"><span data-stu-id="6a1af-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="6a1af-213">Mapování přihlášení do databázových rolí vyžaduje hodně více si mysleli, že, jako je nelze role mapy až po vás nasadili jste databázi.</span><span class="sxs-lookup"><span data-stu-id="6a1af-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="6a1af-214">Chcete-li namapovat přihlášení k účtu počítače vyžaduje databázové role, můžete buď:</span><span class="sxs-lookup"><span data-stu-id="6a1af-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="6a1af-215">Databázové role ruční přiřazení k přihlášení, po prvním nasazení databáze.</span><span class="sxs-lookup"><span data-stu-id="6a1af-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="6a1af-216">Použijte skript po nasazení chcete přihlášení přiřadit role databáze.</span><span class="sxs-lookup"><span data-stu-id="6a1af-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="6a1af-217">Další informace o automatizaci vytváření přihlašovacích údajů a mapování role databáze, najdete v části [nasazení členstvím v databázových rolích do testovacího prostředí](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="6a1af-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="6a1af-218">Alternativně můžete další postup přihlášení k účtu počítače přiřadit role vyžaduje databázi ručně.</span><span class="sxs-lookup"><span data-stu-id="6a1af-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="6a1af-219">Mějte na paměti, že nelze provést tento postup, dokud *po* nasadili jste databázi.</span><span class="sxs-lookup"><span data-stu-id="6a1af-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

<span data-ttu-id="6a1af-220">**K mapování databázové role pro přihlášení k účtu počítače webového serveru**</span><span class="sxs-lookup"><span data-stu-id="6a1af-220">**To map database roles to the web server machine account login**</span></span>

1. <span data-ttu-id="6a1af-221">Otevřete SQL Server Management Studio stejně jako předtím.</span><span class="sxs-lookup"><span data-stu-id="6a1af-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="6a1af-222">V **Průzkumník objektů** podokně rozbalte **zabezpečení** uzlu, rozbalte **přihlášení** uzel a potom dvakrát klikněte na přihlášení k účtu počítače (například  **FABRIKAM\TESTWEB1$**).</span><span class="sxs-lookup"><span data-stu-id="6a1af-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="6a1af-223">V **vlastnosti přihlášení** dialogové okno, klikněte na tlačítko **u mapování uživatele**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="6a1af-224">V **mapovat uživatele na toto přihlášení** tabulku, vyberte název databáze (například **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="6a1af-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="6a1af-225">V **databáze členství v roli pro:** *[název databáze]* vyberte oprávnění nutná.</span><span class="sxs-lookup"><span data-stu-id="6a1af-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="6a1af-226">V případě ukázkové řešení Správce kontaktů, je nutné vybrat **db\_datareader** a **db\_datawriter nesmí být** role.</span><span class="sxs-lookup"><span data-stu-id="6a1af-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="6a1af-227">Klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-227">Click **OK**.</span></span>

<span data-ttu-id="6a1af-228">Ruční mapování databázových rolí je často více než odpovídající pro testovací prostředí, je méně vhodné pro automatizované nebo jedním kliknutím nasazení pro pracovní nebo produkční prostředí.</span><span class="sxs-lookup"><span data-stu-id="6a1af-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="6a1af-229">Další informace o automatizaci tento druh úloh pomocí skriptů po nasazení v [nasazení členstvím v databázových rolích do testovacího prostředí](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="6a1af-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="6a1af-230">Další informace o projekty serveru a databázových projektů, naleznete v tématu [Visual Studio 2010 SQL Server databázové projekty](https://msdn.microsoft.com/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="6a1af-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/library/ff678491.aspx).</span></span>


## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="6a1af-231">Konfigurace oprávnění pro účet nasazení</span><span class="sxs-lookup"><span data-stu-id="6a1af-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="6a1af-232">Pokud účet, který použijete ke spuštění nasazení není správcem SQL serveru, musíte také vytvořit přihlašovací údaje pro tento účet.</span><span class="sxs-lookup"><span data-stu-id="6a1af-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="6a1af-233">Chcete-li vytvořit databázi, musí být účet členem skupiny **dbcreator** role serveru nebo mít ekvivalentní oprávnění.</span><span class="sxs-lookup"><span data-stu-id="6a1af-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="6a1af-234">Pokud použijete nasazení webu nebo VSDBCMD nasadit databázi, můžete přihlašovací údaje Windows nebo přihlašovací údaje SQL serveru (Pokud je vaše instance systému SQL Server je nakonfigurovaný pro podporu ověřování ve smíšeném režimu).</span><span class="sxs-lookup"><span data-stu-id="6a1af-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="6a1af-235">Následující postup předpokládá, že chcete použít přihlašovací údaje Windows, ale není nic vám zastavení ze systému SQL Server uživatelské jméno a heslo v připojovacím řetězci při konfiguraci nasazení.</span><span class="sxs-lookup"><span data-stu-id="6a1af-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>


<span data-ttu-id="6a1af-236">**Nastavení oprávnění pro účet nasazení**</span><span class="sxs-lookup"><span data-stu-id="6a1af-236">**To set up permissions for the deployment account**</span></span>

1. <span data-ttu-id="6a1af-237">Otevřete SQL Server Management Studio stejně jako předtím.</span><span class="sxs-lookup"><span data-stu-id="6a1af-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="6a1af-238">V **Průzkumník objektů** podokně klikněte pravým tlačítkem na **zabezpečení**, přejděte na **nový**a potom klikněte na tlačítko **přihlášení**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="6a1af-239">V **přihlášení – nové** v dialogu **přihlašovací jméno** zadejte název účtu nasazení (například **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="6a1af-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="6a1af-240">V **vybrat stránku** podokně klikněte na tlačítko **role serveru**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="6a1af-241">Vyberte **dbcreator**a potom klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="6a1af-242">Pro podporu dalších nasazení, bude také potřeba přidat nasazení účtu, který má **db\_vlastníka** role pro databázi po prvním nasazení.</span><span class="sxs-lookup"><span data-stu-id="6a1af-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="6a1af-243">Je to proto, že na následné nasazení můžete už upravit schéma existující databázi, místo vytvoření nové databáze.</span><span class="sxs-lookup"><span data-stu-id="6a1af-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="6a1af-244">Jak je popsáno v předchozí části, nelze přidat uživatele do role databáze dokud jste vytvořili databázi, zřejmé z důvodů.</span><span class="sxs-lookup"><span data-stu-id="6a1af-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

<span data-ttu-id="6a1af-245">**K mapování nasazení účtu přihlášení k databázi\_vlastník databázové role**</span><span class="sxs-lookup"><span data-stu-id="6a1af-245">**To map the deployment account login to the db\_owner database role**</span></span>

1. <span data-ttu-id="6a1af-246">Otevřete SQL Server Management Studio stejně jako předtím.</span><span class="sxs-lookup"><span data-stu-id="6a1af-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="6a1af-247">V **Průzkumník objektů** okna, rozbalte **zabezpečení** uzlu, rozbalte **přihlášení** uzel a potom dvakrát klikněte na přihlášení k účtu počítače (například  **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="6a1af-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="6a1af-248">V **vlastnosti přihlášení** dialogové okno, klikněte na tlačítko **u mapování uživatele**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="6a1af-249">V **mapovat uživatele na toto přihlášení** tabulku, vyberte název databáze (například **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="6a1af-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="6a1af-250">V **databáze členství v roli pro:** *[název databáze]* seznamu, vyberte **db\_vlastníka** role.</span><span class="sxs-lookup"><span data-stu-id="6a1af-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="6a1af-251">Klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="6a1af-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="6a1af-252">Závěr</span><span class="sxs-lookup"><span data-stu-id="6a1af-252">Conclusion</span></span>

<span data-ttu-id="6a1af-253">Databázový server by měl být nyní připraven k potvrzení nasazení vzdálené databáze a umožňuje vzdálené webové servery služby IIS pro přístup k vaší databáze.</span><span class="sxs-lookup"><span data-stu-id="6a1af-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="6a1af-254">Před pokusem o nasazení a používání databáze, můžete chtít zkontrolovat tyto klíčové body:</span><span class="sxs-lookup"><span data-stu-id="6a1af-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="6a1af-255">Nakonfigurovali jste systému SQL Server tak, aby přijímal vzdálená připojení TCP/IP?</span><span class="sxs-lookup"><span data-stu-id="6a1af-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="6a1af-256">Nakonfigurovali jste všechny brány firewall tak, aby povolovala provoz serveru SQL Server?</span><span class="sxs-lookup"><span data-stu-id="6a1af-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="6a1af-257">Vytvořili jste přihlášení k účtu počítače pro každého webového serveru, který bude mít přístup k systému SQL Server?</span><span class="sxs-lookup"><span data-stu-id="6a1af-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="6a1af-258">Nasazení databáze obsahuje skript k vytvoření mapování uživatelů na role, nebo je třeba vytvořit ručně po prvním nasazení databáze?</span><span class="sxs-lookup"><span data-stu-id="6a1af-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="6a1af-259">Jste vytvořili přihlašovací údaje pro účet nasazení a přidat ho do **dbcreator** roli serveru?</span><span class="sxs-lookup"><span data-stu-id="6a1af-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="6a1af-260">Další čtení</span><span class="sxs-lookup"><span data-stu-id="6a1af-260">Further Reading</span></span>

<span data-ttu-id="6a1af-261">Doprovodné materiály k nasazování databázových projektů, naleznete v tématu [nasazení databázové projekty](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="6a1af-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="6a1af-262">Pokyny k vytvoření databáze členství v rolích spuštěním skriptu po nasazení najdete v tématu [nasazení členstvím v databázových rolích do testovacího prostředí](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="6a1af-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="6a1af-263">Pokyny k nápravě jedinečného nasazení, které představují členství databáze najdete v tématu [nasazení databází členství do podnikových prostředí](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="6a1af-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="6a1af-264">[Předchozí](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
> [další](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="6a1af-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>
