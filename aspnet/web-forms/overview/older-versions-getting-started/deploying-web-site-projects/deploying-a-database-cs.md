---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-a-database-cs
title: Nasazení databáze (C#) | Dokumentace Microsoftu
author: rick-anderson
description: Nasazení webové aplikace ASP.NET zahrnuje získání potřebné soubory a prostředky z vývojového prostředí do produkčního prostředí. Pro da...
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/23/2009
ms.topic: article
ms.assetid: ff537a10-9f1f-43fe-9bcb-3dda161ba8f5
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-a-database-cs
msc.type: authoredcontent
ms.openlocfilehash: fe85e583618cbab772c788f9a53509000aa415c5
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/03/2018
ms.locfileid: "37386533"
---
<a name="deploying-a-database-c"></a><span data-ttu-id="f1ddd-104">Nasazení databáze (C#)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-104">Deploying a Database (C#)</span></span>
====================
<span data-ttu-id="f1ddd-105">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="f1ddd-106">[Stáhněte si kód](http://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_07_CS.zip) nebo [stahovat PDF](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial07_DeployDB_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-106">[Download Code](http://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_07_CS.zip) or [Download PDF](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial07_DeployDB_cs.pdf)</span></span>

> <span data-ttu-id="f1ddd-107">Nasazení webové aplikace ASP.NET zahrnuje získání potřebné soubory a prostředky z vývojového prostředí do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-107">Deploying an ASP.NET web application entails getting the necessary files and resources from the development environment to the production environment.</span></span> <span data-ttu-id="f1ddd-108">Pro datově řízených webových aplikací to zahrnuje databázové schéma a data.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-108">For data-driven web applications this includes the database schema and data.</span></span> <span data-ttu-id="f1ddd-109">Tento kurz je první z řady, který popisuje kroky potřebné k úspěšnému nasazení do produkčního prostředí databázi z vývojového prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-109">This tutorial is the first in a series that explores the steps needed to successfully deploy the database from the development environment to production.</span></span>


## <a name="introduction"></a><span data-ttu-id="f1ddd-110">Úvod</span><span class="sxs-lookup"><span data-stu-id="f1ddd-110">Introduction</span></span>

<span data-ttu-id="f1ddd-111">Nasazení webové aplikace ASP.NET zahrnuje získání potřebné soubory a prostředky z vývojového prostředí do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-111">Deploying an ASP.NET web application entails getting the necessary files and resources from the development environment to the production environment.</span></span> <span data-ttu-id="f1ddd-112">V průběhu posledních šesti kurzů jsme se podívali na nasazení jednoduché webové aplikace recenzí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-112">Over the course of the past six tutorials we looked at deploying a simple Book Reviews web application.</span></span> <span data-ttu-id="f1ddd-113">Tento ukázkový web se skládá z celou řadu materiálů na straně serveru – stránek ASP.NET, konfigurační soubory `Web.sitemap` souboru a tak dále - spolu s prostředky na straně klienta, jako jsou obrázky a soubory šablon stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-113">This demo site was comprised of a number of server-side resources - ASP.NET pages, configuration files, a `Web.sitemap` file, and so forth - along with client-side resources, like images and CSS files.</span></span> <span data-ttu-id="f1ddd-114">Ale co datově řízených webových aplikací?</span><span class="sxs-lookup"><span data-stu-id="f1ddd-114">But what about data-driven web applications?</span></span> <span data-ttu-id="f1ddd-115">Jaké další kroky, třeba k nasazení webové aplikace, která používá databázi?</span><span class="sxs-lookup"><span data-stu-id="f1ddd-115">What extra steps must be taken to deploy a web application that uses a database?</span></span>

<span data-ttu-id="f1ddd-116">Za další kurzy několik jsme bude zabývat kroky potřebné k nasazení aplikace web s daty.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-116">Over the next several tutorials we will address the steps needed to deploy a data-driven web application.</span></span> <span data-ttu-id="f1ddd-117">V tomto kurzu začíná tím, že kontroluje v tom, jak s schéma databáze a obsah z vývojového prostředí do produkčního prostředí, zatímco následujícím kurzu zkoumá změny potřebné konfigurace.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-117">This tutorial starts by examining how to get a database s schema and contents from the development environment to the production environment, while the subsequent tutorial looks at the needed configuration changes.</span></span> <span data-ttu-id="f1ddd-118">Následující prozkoumáme obtíže spojené s nasazením databázi, která používá aplikační služby (členství, role, profil a tak dále).</span><span class="sxs-lookup"><span data-stu-id="f1ddd-118">Following that we'll explore challenges of deploying a database that uses the Application Services (Membership, Roles, Profile, and so on).</span></span>

## <a name="examining-the-updated-book-reviews-web-application"></a><span data-ttu-id="f1ddd-119">Zkoumání aktualizované knihy revize webové aplikace</span><span class="sxs-lookup"><span data-stu-id="f1ddd-119">Examining the Updated Book Reviews Web Application</span></span>

<span data-ttu-id="f1ddd-120">Pro ukázání datově řízených webových aplikací, nasazení I ve aktualizovat recenzí webové aplikace z webu jednoduchý, statické některou řízené daty.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-120">In order to demonstrate deploying a data-driven web application, I ve updated the Book Reviews web application from a simple, static website to a data-driven one.</span></span> <span data-ttu-id="f1ddd-121">Jako předtím, existují dvě verze aplikace v tomto kurzu s ke stažení: ten, který používá model projektu webové aplikace a ten, který používá model projektu webové stránky.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-121">As before, there are two versions of the application in this tutorial s download: one that uses the Web Application Project model and one that uses the Web Site Project model.</span></span>

<span data-ttu-id="f1ddd-122">Aktualizované recenzí webová aplikace používá [SQL Server 2008 Express Edition](https://www.microsoft.com/express/sql/default.aspx) databáze, která je uložena na webu s `App_Data` složky (`~/App_Data/Reviews.mdf`).</span><span class="sxs-lookup"><span data-stu-id="f1ddd-122">The updated Book Reviews web application uses a [SQL Server 2008 Express Edition](https://www.microsoft.com/express/sql/default.aspx) database, which is stored in the site s `App_Data` folder (`~/App_Data/Reviews.mdf`).</span></span> <span data-ttu-id="f1ddd-123">Pokud máte v počítači nainstalovaný SQL Server 2008 by měla tuto ukázku spustit bez chyb.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-123">If you have SQL Server 2008 installed on your computer then the demo should run without error.</span></span> <span data-ttu-id="f1ddd-124">Pokud máte starší verzi systému SQL Server můžete nainstalovat zdarma serveru SQL Server 2008 Express Edition nebo můžete použít databázi, stáhněte si skripty, které jsou k dispozici v tomto kurzu s k vytvoření databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-124">If you have an older version of SQL Server you can either install the free SQL Server 2008 Express Edition or you can use the database scripts available in this tutorial s download to create the database yourself.</span></span>

<span data-ttu-id="f1ddd-125">`Reviews.mdf` Databáze obsahuje čtyři tabulky:</span><span class="sxs-lookup"><span data-stu-id="f1ddd-125">The `Reviews.mdf` database contains four tables:</span></span>

- <span data-ttu-id="f1ddd-126">`Genres` -obsahuje záznam pro každý žánr, jako je například technologie, Fiction a firmy.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-126">`Genres` - includes a record for each genre, such as Technology, Fiction, and Business.</span></span>
- <span data-ttu-id="f1ddd-127">`Books` -obsahuje záznam pro každou recenzi, se sloupci stejně jako `Title`, `GenreId`, `ReviewDate`, a `Review`, mimo jiné.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-127">`Books` - includes a record for each review, with columns like `Title`, `GenreId`, `ReviewDate`, and `Review`, among others.</span></span>
- <span data-ttu-id="f1ddd-128">`Authors` -obsahuje informace o jednotlivých Autor, který se přidal do přezkoumání knihy.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-128">`Authors` - includes information about each author who has contributed to a reviewed book.</span></span>
- <span data-ttu-id="f1ddd-129">`BooksAuthors` -many-to-many vazební tabulka, která určuje, jaké autorům napsali jaké knihy.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-129">`BooksAuthors` - a many-to-many join table that specifies what authors have written what books.</span></span>
  

<span data-ttu-id="f1ddd-130">Obrázek 1 ukazuje diagramu ER tyto čtyři tabulky.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-130">Figure 1 shows an ER diagram of these four tables.</span></span>


<span data-ttu-id="f1ddd-131">[![Kniha revize webové aplikace s databáze je skládá ze čtyř tabulek](deploying-a-database-cs/_static/image2.jpg)](deploying-a-database-cs/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-131">[![The Book Reviews Web Application s Database is Comprised of Four Tables](deploying-a-database-cs/_static/image2.jpg)](deploying-a-database-cs/_static/image1.jpg)</span></span> 

<span data-ttu-id="f1ddd-132">**Obrázek 1**: knihy revize webové aplikace s databáze je skládá ze čtyř tabulek ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-132">**Figure 1**: The Book Reviews Web Application s Database is Comprised of Four Tables ([Click to view full-size image](deploying-a-database-cs/_static/image3.jpg))</span></span>


<span data-ttu-id="f1ddd-133">Předchozí verzi webu recenzí měl samostatné stránky technologie ASP.NET pro jednotlivé knihy.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-133">The previous version of the Book Reviews website had a separate ASP.NET page for each book.</span></span> <span data-ttu-id="f1ddd-134">Například se stránka s názvem `~/Tech/TYASP35.aspx` , která obsahovala revize pro *naučit sami technologie ASP.NET 3.5 za 24 hodin*.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-134">For example, there was a page named `~/Tech/TYASP35.aspx` that contained the review for *Teach Yourself ASP.NET 3.5 in 24 Hours*.</span></span> <span data-ttu-id="f1ddd-135">Tato nová verze s daty webu má revize uložené v databázi a jednu stránku ASP.NET, Review.aspx?ID=*bookId*, zobrazuje revize pro zadaného adresáře.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-135">This new data-driven version of the website has the reviews stored in the database and a single ASP.NET page, Review.aspx?ID=*bookId*, which displays the review for the specified book.</span></span> <span data-ttu-id="f1ddd-136">Podobně je Genre.aspx?ID=*genreId* stránku se seznamem přezkoumání knih v zadané žánr.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-136">Likewise, there is a Genre.aspx?ID=*genreId* page that lists the reviewed books in the specified genre.</span></span>

<span data-ttu-id="f1ddd-137">Hodnoty 2 a 3 zobrazit `Genre.aspx` a `Review.aspx` stránky v akci.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-137">Figures 2 and 3 show the `Genre.aspx` and `Review.aspx` pages in action.</span></span> <span data-ttu-id="f1ddd-138">Poznačte si adresu URL do adresního řádku pro každou stránku.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-138">Note the URL in the Address bar for each page.</span></span> <span data-ttu-id="f1ddd-139">V obrázku 2 it s Genre.aspx? ID = c 85d164ba-1123-4 47-82a0-c8ec75de7e0e.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-139">In Figure 2 it s Genre.aspx?ID=85d164ba-1123-4c47-82a0-c8ec75de7e0e.</span></span> <span data-ttu-id="f1ddd-140">Protože je 85d164ba-1123-4c47-82a0-c8ec75de7e0e `GenreId` tyto kontroly v lokalitě, které spadají pod tento žánr zobrazí hodnotu pro technologie genre, čtení záhlaví stránky s "Technologie kontroly" a seznamu s odrážkami.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-140">Because 85d164ba-1123-4c47-82a0-c8ec75de7e0e is the `GenreId` value for the Technology genre, the page s heading reads "Technology Reviews" and the bulleted list enumerates those reviews on the site that fall under this genre.</span></span>


<span data-ttu-id="f1ddd-141">[![Na stránce žánr technologie](deploying-a-database-cs/_static/image5.jpg)](deploying-a-database-cs/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-141">[![The Technology Genre Page](deploying-a-database-cs/_static/image5.jpg)](deploying-a-database-cs/_static/image4.jpg)</span></span> 

<span data-ttu-id="f1ddd-142">**Obrázek 2**: na stránku technologie žánru ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-142">**Figure 2**: The Technology Genre Page ([Click to view full-size image](deploying-a-database-cs/_static/image6.jpg))</span></span>


<span data-ttu-id="f1ddd-143">[![Revize pro samostudium: ASP.NET 3.5 za 24 hodin](deploying-a-database-cs/_static/image8.jpg)](deploying-a-database-cs/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-143">[![The Review for Teach Yourself ASP.NET 3.5 in 24 Hours](deploying-a-database-cs/_static/image8.jpg)](deploying-a-database-cs/_static/image7.jpg)</span></span> 

<span data-ttu-id="f1ddd-144">**Obrázek 3**: The revize pro *naučit sami technologie ASP.NET 3.5 za 24 hodin* ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-144">**Figure 3**: The Review for *Teach Yourself ASP.NET 3.5 in 24 Hours* ([Click to view full-size image](deploying-a-database-cs/_static/image9.jpg))</span></span>


<span data-ttu-id="f1ddd-145">Webová aplikace knihy zkontroluje také obsahuje oddíl správy, kde správci mohou přidávat, upravovat a odstranit žánry, revize a vytvářet informace.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-145">The Book Reviews web application also includes an administration section where administrators can add, edit, and delete genres, reviews, and author information.</span></span> <span data-ttu-id="f1ddd-146">Všechny návštěvníky v současné době můžete přístup k bodu správy.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-146">Currently, any visitor can access the administration section.</span></span> <span data-ttu-id="f1ddd-147">V budoucích kurzu přidáme podporu pro uživatelské účty a Povolit jenom Autorizovaní uživatelé do stránky pro správu.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-147">In a future tutorial we'll add support for user accounts and only permit authorized users into the administration pages.</span></span>

<span data-ttu-id="f1ddd-148">Pokud stahujete aplikaci recenzí prosím Uvědomte si, že jeho účelem je předvést, nasazení aplikace řízené daty.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-148">If you download the Book Reviews application please keep in mind that its purpose is to demonstrate deploying a data-driven application.</span></span> <span data-ttu-id="f1ddd-149">Osvědčené postupy až na hodnotu návrh aplikace nebude provedena.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-149">It does not exhibit best practices as far as application design.</span></span> <span data-ttu-id="f1ddd-150">Například neexistuje žádné samostatné dat přístup vrstvy DAL (); stránky technologie ASP.NET komunikují přímo s databází prostřednictvím SqlDataSource ovládací prvek nebo kód technologie ADO.NET v jejich použití modelu code-behind tříd.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-150">For example, there is no separate Data Access Layer (DAL); the ASP.NET pages communicate directly with the database through the SqlDataSource control or ADO.NET code in their code-behind classes.</span></span> <span data-ttu-id="f1ddd-151">Podrobnější pohled na vytváření aplikací řízených daty pomocí vrstvené architektury, najdete v části Moje [ *práce s daty* kurzy](../../data-access/index.md).</span><span class="sxs-lookup"><span data-stu-id="f1ddd-151">For a more in-depth look at creating data-driven applications using a tiered architecture, refer to my [*Working with Data* tutorials](../../data-access/index.md).</span></span>

## <a name="databases-on-development-versus-production"></a><span data-ttu-id="f1ddd-152">Databáze na vývoj a produkčního prostředí</span><span class="sxs-lookup"><span data-stu-id="f1ddd-152">Databases on Development Versus Production</span></span>

<span data-ttu-id="f1ddd-153">Při spuštění vývoje s daty webové aplikace musíte zadat připojovací řetězec databáze, která poskytuje podrobnosti o aplikaci o tom, jak se připojit k databázi.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-153">When you start development on a data-driven web application you must specify a database connection string, which provides the application details on how to connect to the database.</span></span> <span data-ttu-id="f1ddd-154">Tento připojovací řetězec Určuje, mimo jiné, databázový server, název databáze a informace o zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-154">This connection string specifies, among other things, the database server, the database name, and security information.</span></span> <span data-ttu-id="f1ddd-155">Nejčastěji se liší od databáze nepoužívá, pokud databáze používá aplikace během vývoje ho s v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-155">Most often, the database used by the application during development is different than the database used when it s in production.</span></span> <span data-ttu-id="f1ddd-156">Existuje mnoho výhod pro vývoj a produkční použití různých databázích.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-156">There are many benefits of using different databases for development versus production.</span></span> <span data-ttu-id="f1ddd-157">S jinými databáze znamená vývoj don t nemusíte dělat starosti o omylem Neupravujte ani neodstraňuje data dynamická.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-157">Having a different database in development means you don t have to worry about accidentally modifying or deleting live data.</span></span> <span data-ttu-id="f1ddd-158">Můžete ho taky umístit do fiktivní testovací data nebo provést změny způsobující chyby do datového modelu bez nutnosti starat o vliv na aplikace v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-158">It also lets you put in dummy test data or make breaking changes to the data model without having to worry about the effects on the application in production.</span></span> <span data-ttu-id="f1ddd-159">Nevýhodou s jinou databázi ve vývojovém a produkčním prostředí je, že když je aplikace nasazena databáze a všechny související změny schématu databáze s nebo data musí být také nasazený.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-159">The downside of having a different database in the development and production environments is that when the application is deployed the database and any pertinent changes to the database s schema or data must also be deployed.</span></span>

<span data-ttu-id="f1ddd-160">Před prvním nasazením existuje pouze jedna instance databáze a tato instance je ve vývojovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-160">Prior to the first deployment, there is only one instance of the database, and that instance is in the development environment.</span></span> <span data-ttu-id="f1ddd-161">Při nasazení aplikace do produkčního prostředí poprvé jsme musíte nejen zkopírujte si potřebné soubory na straně serveru a na straně klienta, ale také zkopírovat databázi z vývojového prostředí do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-161">When deploying the application to production for the first time we must not only copy up the necessary server-side and client-side files, but also copy the database from the development environment to the production environment.</span></span> <span data-ttu-id="f1ddd-162">To je, kde jsme stojí pravé teď s webovou aplikací recenzí – se databáze nachází v `App_Data` složky v Naše vývojové prostředí ale nebyl dosud bylo vloženo do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-162">This is where we stand right now with the Book Reviews web application - the database resides in the `App_Data` folder in our development environment but has not yet been pushed up to the production environment.</span></span>

<span data-ttu-id="f1ddd-163">Po nasazení aplikace existují dvě kopie databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-163">Once the application has been deployed there are two copies of the database.</span></span> <span data-ttu-id="f1ddd-164">Jak aplikace můžou vést k tomu, lze přidat nové funkce, proto je nutné změnit do datového modelu (jako je například přidávání nové sloupce do existující tabulky, provádět změny existujících sloupců, přidání nové tabulky a tak dále).</span><span class="sxs-lookup"><span data-stu-id="f1ddd-164">As the application matures, new features may be added, necessitating a change to the data model (such as adding new columns to existing tables, making changes to existing columns, adding new tables, and so on).</span></span> <span data-ttu-id="f1ddd-165">Pokud další nasazení webové aplikace, změny použita pro databázi ve vývojovém prostředí od posledního nasazení je nutné použít na produkční databázi.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-165">When the web application is next deployed, the changes applied to the database in the development environment since the last deployment must be applied to the production database.</span></span> <span data-ttu-id="f1ddd-166">Některé postupy při správě tohoto procesu jsou popsány v budoucích kurzech.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-166">Some strategies for managing this process are discussed in a future tutorial.</span></span> <span data-ttu-id="f1ddd-167">Tento kurz se zaměřuje na nasazení do produkčního prostředí celé databáze z vývojového prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-167">This tutorial focuses on deploying the entire database from the development environment to production.</span></span>

## <a name="deploying-the-database-to-the-production-environment"></a><span data-ttu-id="f1ddd-168">Nasazení databáze do produkčního prostředí</span><span class="sxs-lookup"><span data-stu-id="f1ddd-168">Deploying the Database to the Production Environment</span></span>

<span data-ttu-id="f1ddd-169">Zbývající část tohoto kurzu bude vypadat na tom, jak nasadit databázi z vývojového prostředí do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-169">The remainder of this tutorial looks at how to deploy the database from the development environment to the production environment.</span></span> <span data-ttu-id="f1ddd-170">Pokud postupujete podél je potřebujete a ověřte, že váš účet se svým poskytovatelem webového hostitele zahrnující Microsoft SQL Server database podporu.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-170">If you are following along you need to make sure that your account with your web host provider includes Microsoft SQL Server database support.</span></span> <span data-ttu-id="f1ddd-171">Musíte také mít některé informace aktuální, konkrétně název databázového serveru, název databáze a uživatelské jméno a heslo použité pro připojení k databázi.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-171">You'll also need to have some information at hand, namely the database server name, the database name, and the username and password used to connect to the database.</span></span>

<span data-ttu-id="f1ddd-172">Jak je uvedeno výše v tomto kurzu, databáze webu s recenzí je uložené v databázi SQL Server 2008 Express Edition `App_Data` složky.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-172">As noted earlier in this tutorial, the Book Reviews website s database is a SQL Server 2008 Express Edition database stored in the `App_Data` folder.</span></span> <span data-ttu-id="f1ddd-173">By stojí na důvodu, že nasazení tyto databáze by byly stejně snadné jako kopírování `App_Data` složku z vývojového prostředí do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-173">It would stand to reason that deploying such a database would be as simple as copying the `App_Data` folder from the development environment to the production environment.</span></span> <span data-ttu-id="f1ddd-174">Ale většina poskytovatelů webového hostitele nepodporuje hostování databází v `App_Data` složku z důvodů zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-174">However, most web host providers do not support hosting databases in the `App_Data` folder because of security reasons.</span></span> <span data-ttu-id="f1ddd-175">Weboví hostitelé místo toho použijte účet s na databázovém serveru SQL Server v rámci jejich prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-175">Instead, web hosts provide an account on a SQL Server database server within their environment.</span></span> <span data-ttu-id="f1ddd-176">Nasazení databáze z vývojového prostředí do produkčního prostředí vyžaduje získávání databázi registrována na webovém serveru databázi s hostiteli.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-176">Deploying the database from your development environment to the production environment requires getting your database registered on your web host s database server.</span></span>

<span data-ttu-id="f1ddd-177">Takže jak můžete získat databáze z vývojového prostředí do produkčního prostředí?</span><span class="sxs-lookup"><span data-stu-id="f1ddd-177">So how do you get your database from the development environment to the production environment?</span></span> <span data-ttu-id="f1ddd-178">Existuje několik způsobů, jak to provést v závislosti na tom, jaké vaše nabídky hostitele webové služby.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-178">There are a couple ways to accomplish this depending on what services your web host offers.</span></span> <span data-ttu-id="f1ddd-179">S některými hostiteli, jako je například DiscountASP.NET, můžete FTP zálohování databáze nebo skutečné `.mdf` soubor na svůj web a potom obnovit záložní soubor z ovládacích panelů nebo připojit `.mdf` soubor databáze serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-179">With some hosts, such as DiscountASP.NET, you can FTP a backup of the database or the actual `.mdf` file to your website and then, from the Control Panel, restore the backup file or attach the `.mdf` file to the SQL Server database server.</span></span> <span data-ttu-id="f1ddd-180">Pomocí těchto nástrojů nasazení databáze je stejně jednoduché jako kopírování `App_Data` složku do produkčního prostředí a připojíte ho v Ovládacích panelech.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-180">With such tools deploying the database is as simple as copying the `App_Data` folder to the production environment and then attaching it via the Control Panel.</span></span> <span data-ttu-id="f1ddd-181">To je pravděpodobně nejjednodušší a nejrychlejší způsob, jak při prvním publikování databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-181">This is perhaps the easiest and quickest way to publish your database for the first time.</span></span>

<span data-ttu-id="f1ddd-182">Další možností je použití Průvodce publikováním databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-182">Another approach is to use the Database Publishing Wizard.</span></span> <span data-ttu-id="f1ddd-183">Průvodce publikováním databáze je aplikace klasické pracovní plochy Windows, který vygeneruje příkazů SQL vytvořte schéma databáze s – tabulky, uložené procedury, zobrazení, uživatelem definované funkce a tak dále – a volitelně data ve svých tabulek.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-183">The Database Publishing Wizard is a Windows desktop application that will generate the SQL commands to create your database s schema - the tables, stored procedures, views, user-defined functions, and so forth - and, optionally, the data in its tables.</span></span> <span data-ttu-id="f1ddd-184">Můžete pak se připojte k serveru webového hostitele zprostředkovatele s databáze SQL Server Management Studio a pak spusťte tento skript k duplikování databáze v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-184">You can then connect to your web host provider s database server through SQL Server Management Studio and then execute this script to duplicate the database on production.</span></span> <span data-ttu-id="f1ddd-185">Ještě lepší, pokud poskytovatel webového hostitele podporuje Microsoft s [Database Publishing Services](http://www.codeplex.com/sqlhost/Wiki/View.aspx?title=Database%20Publishing%20Services&amp;referringTitle=Home) můžete mít skript vygenerovaný pomocí Průvodce publikováním databáze automaticky spustí na serveru databáze za vás.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-185">Even better, if your web host provider supports Microsoft s [Database Publishing Services](http://www.codeplex.com/sqlhost/Wiki/View.aspx?title=Database%20Publishing%20Services&amp;referringTitle=Home) you can have the script generated by the Database Publishing Wizard automatically executed on the database server on your behalf.</span></span> <span data-ttu-id="f1ddd-186">Vzhledem k tomu Průvodce publikováním databáze generuje skript, který vytvoří databázi s schéma a data, bude fungovat bez ohledu na to, zda zprostředkovateli webového hostitele nabízí funkce, jako je připojení nahrané `.mdf` souboru.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-186">Because the Database Publishing Wizard generates a script that creates the database s schema and data, it will work regardless of whether your web host provider offers features like attaching an uploaded `.mdf` file.</span></span>

### <a name="generating-the-sql-commands-to-create-the-database-schema-and-data-using-the-database-publishing-wizard"></a><span data-ttu-id="f1ddd-187">Generování příkazů SQL vytvořte schéma databáze a dat pomocí Průvodce publikováním databáze</span><span class="sxs-lookup"><span data-stu-id="f1ddd-187">Generating the SQL Commands to Create the Database Schema and Data Using the Database Publishing Wizard</span></span>

<span data-ttu-id="f1ddd-188">Umožní s provedou použitím Průvodce publikováním databáze k databázi recenzí nasazení do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-188">Let s walk through using the Database Publishing Wizard to deploy the Book Reviews database to production.</span></span> <span data-ttu-id="f1ddd-189">Pokud používáte Visual Studio 2008 nebo novější, Průvodce publikováním databáze je již nainstalována.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-189">If you are using Visual Studio 2008 or beyond, the Database Publishing Wizard is already installed.</span></span> <span data-ttu-id="f1ddd-190">Pokud používáte Visual Studio 2005, bude nutné si nejdřív [stáhnout a nainstalovat](https://www.microsoft.com/downloads/details.aspx?familyid=56E5B1C5-BF17-42E0-A410-371A838E570A&amp;displaylang=en) průvodce.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-190">If you are using Visual Studio 2005 then you will need to first [download and install](https://www.microsoft.com/downloads/details.aspx?familyid=56E5B1C5-BF17-42E0-A410-371A838E570A&amp;displaylang=en) the wizard.</span></span>

<span data-ttu-id="f1ddd-191">Otevřete sadu Visual Studio a přejděte `Reviews.mdf` databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-191">Open Visual Studio and navigate to the `Reviews.mdf` database.</span></span> <span data-ttu-id="f1ddd-192">Pokud používáte aplikaci Visual Web Developer, přejdete na Průzkumník databáze; Pokud používáte Visual Studio, použijte Průzkumníka serveru.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-192">If you are using Visual Web Developer, go to the Database Explorer; if you are using Visual Studio, use the Server Explorer.</span></span> <span data-ttu-id="f1ddd-193">Obrázek 4 ukazuje `Reviews.mdf` databáze v Průzkumníku databází v aplikaci Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-193">Figure 4 shows the `Reviews.mdf` database in the Database Explorer in Visual Web Developer.</span></span> <span data-ttu-id="f1ddd-194">Jak ukazuje obrázek 4 `Reviews.mdf` databáze se skládá z čtyři tabulky, tři uložených procedur a uživatelem definované funkce.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-194">As Figure 4 shows, the `Reviews.mdf` database is composed of four tables, three stored procedures, and a user-defined function.</span></span>


<span data-ttu-id="f1ddd-195">[![Vyhledejte databázi v Průzkumníku databází nebo Průzkumníka serveru](deploying-a-database-cs/_static/image11.jpg)](deploying-a-database-cs/_static/image10.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-195">[![Locate the Database in the Database Explorer or Server Explorer](deploying-a-database-cs/_static/image11.jpg)](deploying-a-database-cs/_static/image10.jpg)</span></span> 

<span data-ttu-id="f1ddd-196">**Obrázek 4**: vyhledejte databázi v Průzkumníku databází nebo Průzkumníka serveru ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image12.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-196">**Figure 4**: Locate the Database in the Database Explorer or Server Explorer ([Click to view full-size image](deploying-a-database-cs/_static/image12.jpg))</span></span>


<span data-ttu-id="f1ddd-197">Klikněte pravým tlačítkem na název databáze a v místní nabídce zvolte možnost "Publikovat poskytovatele".</span><span class="sxs-lookup"><span data-stu-id="f1ddd-197">Right-click on the database name and choose the "Publish to provider" option from the context menu.</span></span> <span data-ttu-id="f1ddd-198">Spustí se Průvodce publikováním databáze (viz obrázek 5).</span><span class="sxs-lookup"><span data-stu-id="f1ddd-198">This launches the Database Publishing Wizard (see Figure 5).</span></span> <span data-ttu-id="f1ddd-199">Klikněte na tlačítko vedle záloh za úvodní obrazovka.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-199">Click Next to advance past the splash screen.</span></span>


<span data-ttu-id="f1ddd-200">[![Úvodní obrazovka Průvodce publikováním databáze](deploying-a-database-cs/_static/image14.jpg)](deploying-a-database-cs/_static/image13.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-200">[![The Database Publishing Wizard Splash Screen](deploying-a-database-cs/_static/image14.jpg)](deploying-a-database-cs/_static/image13.jpg)</span></span> 

<span data-ttu-id="f1ddd-201">**Obrázek 5**: The Database publikování průvodce úvodní obrazovka ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image15.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-201">**Figure 5**: The Database Publishing Wizard Splash Screen ([Click to view full-size image](deploying-a-database-cs/_static/image15.jpg))</span></span>


<span data-ttu-id="f1ddd-202">Druhá obrazovka Průvodce zobrazí seznam databází, které jsou přístupné pro Průvodce publikováním databáze a umožňuje zvolit, jestli se má skript všechny objekty ve vybrané databázi nebo pro výběr objektů, které do skriptu.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-202">The second screen in the wizard lists the databases accessible to the Database Publishing Wizard and lets you choose whether to script all objects in the selected database or to pick which objects to script.</span></span> <span data-ttu-id="f1ddd-203">Vyberte příslušnou databázi a ponechat zaškrtnutým políčkem "Skript všechny objekty ve vybrané databázi".</span><span class="sxs-lookup"><span data-stu-id="f1ddd-203">Select the appropriate database and leave the "Script all objects in the selected database" option checked.</span></span>

> [!NOTE]
> <span data-ttu-id="f1ddd-204">Pokud se zobrazí chyba "nejsou žádné objekty v databázi *databaseName* typů skriptovatelný průvodcem" při kliknutí na další obrazovce vidíte na obrázku 6, ujistěte se, že není příliš dlouhou cestu k souboru databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-204">If you get the error "There are no objects in database *databaseName* of the types scriptable by this wizard" when clicking Next in the screen shown in Figure 6, make sure that the path to your database file is not overly long.</span></span> <span data-ttu-id="f1ddd-205">Bylo zjištěno, že tato chyba může nastat, pokud cesta k souboru databáze je příliš dlouhá.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-205">It has been discovered that this error can arise if the path to the database file is too long.</span></span>


<span data-ttu-id="f1ddd-206">[![Úvodní obrazovka Průvodce publikováním databáze](deploying-a-database-cs/_static/image17.jpg)](deploying-a-database-cs/_static/image16.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-206">[![The Database Publishing Wizard Splash Screen](deploying-a-database-cs/_static/image17.jpg)](deploying-a-database-cs/_static/image16.jpg)</span></span> 

<span data-ttu-id="f1ddd-207">**Obrázek 6**: The Database publikování průvodce úvodní obrazovka ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image18.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-207">**Figure 6**: The Database Publishing Wizard Splash Screen ([Click to view full-size image](deploying-a-database-cs/_static/image18.jpg))</span></span>


<span data-ttu-id="f1ddd-208">Na další obrazovce můžete vygenerovat soubor skriptu nebo, pokud webového hostitele ji podporuje, publikovat i databázi přímo k vašemu databázovému serveru webového hostitele zprostředkovatele s.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-208">From the next screen you can generate a script file or, if your web host supports it, publish the database directly to your web host provider s database server.</span></span> <span data-ttu-id="f1ddd-209">Jak je vidět na obrázku 7, mám zapsána do souboru skriptu `C:\REVIEWS.MDF.sql`.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-209">As Figure 7 shows, I am having the script written to the file `C:\REVIEWS.MDF.sql`.</span></span>


<span data-ttu-id="f1ddd-210">[![Databáze do souboru skriptu nebo ji publikovat přímo do Váš_poskytovatel_e webového hostitele](deploying-a-database-cs/_static/image20.jpg)](deploying-a-database-cs/_static/image19.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-210">[![Script the Database to a File or Publish it Directly to Your Web Host Provider](deploying-a-database-cs/_static/image20.jpg)](deploying-a-database-cs/_static/image19.jpg)</span></span> 

<span data-ttu-id="f1ddd-211">**Obrázek 7**: databáze do souboru skriptu nebo ji publikovat přímo do webového hostitele Váš_poskytovatel_e ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image21.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-211">**Figure 7**: Script the Database to a File or Publish it Directly to Your Web Host Provider ([Click to view full-size image](deploying-a-database-cs/_static/image21.jpg))</span></span>


<span data-ttu-id="f1ddd-212">Na další obrazovce vás vyzve k zadání širokou škálu možností skriptování.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-212">The subsequent screen prompts you for a variety of scripting options.</span></span> <span data-ttu-id="f1ddd-213">Můžete určit, zda skript by měl obsahovat příkazy drop odebrat tyto stávajících objektů.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-213">You can specify whether the script should include drop statements to remove these existing objects.</span></span> <span data-ttu-id="f1ddd-214">Výchozí hodnota True, což je v pořádku po prvním nasazení databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-214">This defaults to True, which is fine when deploying a database for the first time.</span></span> <span data-ttu-id="f1ddd-215">Můžete také určit, jestli je cílová databáze systému SQL Server 2000, SQL Server 2005 nebo SQL Server 2008.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-215">You can also specify whether the target database is SQL Server 2000, SQL Server 2005, or SQL Server 2008.</span></span> <span data-ttu-id="f1ddd-216">Nakonec můžete určit, jestli se má skript schéma a data, jenom data, nebo pouze schéma.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-216">Finally, you can indicate whether to script the schema and data, just the data, or just the schema.</span></span> <span data-ttu-id="f1ddd-217">Schéma je shromažďování databázových objektů, tabulek, uložených procedur, zobrazení a tak dále.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-217">The schema is the collection of database objects, the tables, stored procedures, views, and so on.</span></span> <span data-ttu-id="f1ddd-218">Data jsou informace, které se nacházejí v tabulkách.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-218">The data is the information residing in the tables.</span></span>

<span data-ttu-id="f1ddd-219">Jak ukazuje obrázek 8, můžu ve je teď nakonfigurovaná tak, aby odstranit existující databázové objekty, průvodce se vygenerovat skript pro databázi systému SQL Server 2008 a publikovat schéma a data.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-219">As Figure 8 illustrates, I ve got the wizard configured to drop existing database objects, to generate script for a SQL Server 2008 database, and to publish both the schema and data.</span></span>


<span data-ttu-id="f1ddd-220">[![Zadejte publikování možnosti](deploying-a-database-cs/_static/image23.jpg)](deploying-a-database-cs/_static/image22.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-220">[![Specify the Publishing Options](deploying-a-database-cs/_static/image23.jpg)](deploying-a-database-cs/_static/image22.jpg)</span></span> 

<span data-ttu-id="f1ddd-221">**Obrázek 8**: Zadejte možnosti publikování ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image24.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-221">**Figure 8**: Specify the Publishing Options ([Click to view full-size image](deploying-a-database-cs/_static/image24.jpg))</span></span>


<span data-ttu-id="f1ddd-222">Poslední dvě obrazovky shrnují akce, které se chystáte provést a zobrazte stav skriptování.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-222">The final two screens summarize the actions that are about to be taken and then display the status of the scripting.</span></span> <span data-ttu-id="f1ddd-223">Net výsledek spuštění Průvodce je, že máme soubor skriptu, který obsahuje příkazy SQL, které jsou potřebné k vytvoření databáze v produkčním prostředí a jeho naplnění stejná data jako na vývoj.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-223">The net result of running the wizard is that we have a script file that contains the SQL commands needed to create the database on production and populate it with the same data as on development.</span></span>

### <a name="executing-the-sql-commands-on-the-production-environment-database"></a><span data-ttu-id="f1ddd-224">Provádění příkazů SQL na databázi produkční prostředí</span><span class="sxs-lookup"><span data-stu-id="f1ddd-224">Executing the SQL Commands On the Production Environment Database</span></span>

<span data-ttu-id="f1ddd-225">Když teď máme skript, který obsahuje příkazy SQL, chcete-li vytvořit databázi a její data všechny zbývající okamžiku, kdy je ke spuštění skriptu na produkční databázi.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-225">Now that we have the script that contains the SQL commands to create the database and its data all that remains is to execute the script on the production database.</span></span> <span data-ttu-id="f1ddd-226">Někteří poskytovatelé webového hostitele nabízejí textového pole v jejich ovládacích panelů, ve kterém můžete zadat příkazy SQL, spusťte na databázi.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-226">Some web host providers offer a textbox in their Control Panel where you can enter SQL commands to execute on your database.</span></span> <span data-ttu-id="f1ddd-227">Pokud máte velké skript a pak tuto možnost nemusí fungovat ( `REVIEWS.MDF.sql` soubor skriptu pro instanci je velikost, více než 425 KB).</span><span class="sxs-lookup"><span data-stu-id="f1ddd-227">If you have a very large script file then this option might not work (the `REVIEWS.MDF.sql` script file is over 425 KB in size, for instance).</span></span>

<span data-ttu-id="f1ddd-228">Lepším řešením je pro připojení přímo k provozním serveru databázi pomocí SQL Server Management Studio (SSMS).</span><span class="sxs-lookup"><span data-stu-id="f1ddd-228">A better approach is to connect directly to the production database server using SQL Server Management Studio (SSMS).</span></span> <span data-ttu-id="f1ddd-229">Pokud máte jiných - Express edici systému SQL Server nainstalovaný v počítači pravděpodobně již máte nainstalované aplikace SSMS.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-229">If you have a non-Express Edition of SQL Server installed on your computer then you likely already have SSMS installed.</span></span> <span data-ttu-id="f1ddd-230">V opačném případě můžete [stáhnout a nainstalovat](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) bezplatnou kopii verze SQL Server Management Studio Express Edition.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-230">Otherwise, you can [download and install](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) a free copy of SQL Server Management Studio Express Edition.</span></span>

<span data-ttu-id="f1ddd-231">Spusťte aplikaci SSMS a připojte se k vašemu web s databázovému serveru hostitele pomocí informací uvedených ve zprostředkovateli webového hostitele.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-231">Launch SSMS and connect to your web host s database server using the information provided by your web host provider.</span></span>


<span data-ttu-id="f1ddd-232">[![Připojení k vašemu databázovému serveru webového hostitele zprostředkovatele s](deploying-a-database-cs/_static/image26.jpg)](deploying-a-database-cs/_static/image25.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-232">[![Connect to Your Web Host Provider s Database Server](deploying-a-database-cs/_static/image26.jpg)](deploying-a-database-cs/_static/image25.jpg)</span></span> 

<span data-ttu-id="f1ddd-233">**Obrázek 9**: připojení k Váš_poskytovatel_e webového hostitele s databázový Server ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image27.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-233">**Figure 9**: Connect to Your Web Host Provider s Database Server ([Click to view full-size image](deploying-a-database-cs/_static/image27.jpg))</span></span>


<span data-ttu-id="f1ddd-234">Rozbalte položku na kartě databáze a vyhledejte vaši databázi.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-234">Expand the Databases tab and locate your database.</span></span> <span data-ttu-id="f1ddd-235">Klikněte na tlačítko Nový dotaz v levém horním rohu panelu nástrojů, vložte v příkazech SQL ze souboru skriptu, který je vytvořený pomocí Průvodce publikováním databáze a klikněte na tlačítko Spustit a spusťte tyto příkazy na provozním serveru databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-235">Click the New Query button in the upper left corner of the Toolbar, paste in the SQL commands from the script file created by the Database Publishing Wizard, and click the Execute button to run these commands on the production database server.</span></span> <span data-ttu-id="f1ddd-236">Pokud je mimořádně velký soubor skriptu může trvat několik minut, aby se příkazy.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-236">If your script file is especially large it may take several minutes to execute the commands.</span></span>


<span data-ttu-id="f1ddd-237">[![Připojení k vašemu databázovému serveru webového hostitele zprostředkovatele s](deploying-a-database-cs/_static/image29.jpg)](deploying-a-database-cs/_static/image28.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-237">[![Connect to Your Web Host Provider s Database Server](deploying-a-database-cs/_static/image29.jpg)](deploying-a-database-cs/_static/image28.jpg)</span></span> 

<span data-ttu-id="f1ddd-238">**Obrázek 10**: připojení k Váš_poskytovatel_e webového hostitele s databázový Server ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image30.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-238">**Figure 10**: Connect to Your Web Host Provider s Database Server ([Click to view full-size image](deploying-a-database-cs/_static/image30.jpg))</span></span>


<span data-ttu-id="f1ddd-239">Všechny existuje tento s je to!</span><span class="sxs-lookup"><span data-stu-id="f1ddd-239">That s all there is to it!</span></span> <span data-ttu-id="f1ddd-240">Vývoj databáze v tomto okamžiku je duplicitní do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-240">At this point the development database has been duplicated to production.</span></span> <span data-ttu-id="f1ddd-241">Pokud obnovíte databázi v aplikaci SSMS byste měli vidět nové databázové objekty.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-241">If you Refresh the database in SSMS you should see the new database objects.</span></span> <span data-ttu-id="f1ddd-242">Obrázku 11 můžete vidět produkční databázi s tabulkami, uložených procedur a uživatelem definovaných funkcí, které zrcadlí na vývoj databází.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-242">Figure 11 shows the production database s tables, stored procedures, and user-defined functions, which mirror those on the development database.</span></span> <span data-ttu-id="f1ddd-243">A protože jsme vydal pokyn pro nástroje Průvodce publikováním databáze k publikování dat, produkčních tabulek databáze s obsahovaly stejná data jako tabulky s vývoj databáze v době, kdy se spustil průvodce.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-243">And because we instructed the Database Publishing Wizard to publish the data, the production database s tables have the same data as the development database s tables at the time the wizard was executed.</span></span> <span data-ttu-id="f1ddd-244">Obrázek 12 se zobrazí data v `Books` tabulku v provozní databázi.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-244">Figure 12 shows the data in the `Books` table on the production database.</span></span>


<span data-ttu-id="f1ddd-245">[![Duplikovali objekty databáze na produkční databáze](deploying-a-database-cs/_static/image32.jpg)](deploying-a-database-cs/_static/image31.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-245">[![The Database Objects Have Been Duplicated on the Production Database](deploying-a-database-cs/_static/image32.jpg)](deploying-a-database-cs/_static/image31.jpg)</span></span> 

<span data-ttu-id="f1ddd-246">**Obrázek 11**: databázi objekty mají duplicitní na provozní databázi ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image33.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-246">**Figure 11**: The Database Objects Have Been Duplicated on the Production Database ([Click to view full-size image](deploying-a-database-cs/_static/image33.jpg))</span></span>


<span data-ttu-id="f1ddd-247">[![Provozní databáze obsahuje stejná Data jako na vývoj databází](deploying-a-database-cs/_static/image35.jpg)](deploying-a-database-cs/_static/image34.jpg)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-247">[![The Production Database Contains the Same Data as on the Development Database](deploying-a-database-cs/_static/image35.jpg)](deploying-a-database-cs/_static/image34.jpg)</span></span> 

<span data-ttu-id="f1ddd-248">**Obrázek 12**: produkční databáze obsahuje stejná Data jako na vývoj databází ([kliknutím ji zobrazíte obrázek v plné velikosti](deploying-a-database-cs/_static/image36.jpg))</span><span class="sxs-lookup"><span data-stu-id="f1ddd-248">**Figure 12**: The Production Database Contains the Same Data as on the Development Database ([Click to view full-size image](deploying-a-database-cs/_static/image36.jpg))</span></span>


<span data-ttu-id="f1ddd-249">V tuto chvíli jsme nasadili jenom vývoj databáze do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-249">At this point we have only deployed the development database to production.</span></span> <span data-ttu-id="f1ddd-250">Ještě jsme zvažovali nasazení vlastní webové aplikace nebo prověřit, jaké změny v konfiguraci jsou potřeba pro použití provozní databáze je aplikace v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-250">We have not yet looked at deploying the web application itself or examined what configuration changes are needed to have the application on production use the production database.</span></span> <span data-ttu-id="f1ddd-251">V dalším kurzu budeme zabývat těmito problémy!</span><span class="sxs-lookup"><span data-stu-id="f1ddd-251">We'll cover these issues in the next tutorial!</span></span>

## <a name="summary"></a><span data-ttu-id="f1ddd-252">Souhrn</span><span class="sxs-lookup"><span data-stu-id="f1ddd-252">Summary</span></span>

<span data-ttu-id="f1ddd-253">Nasazení aplikace řízené daty webu vyžaduje kopírování databáze použitý při vývoji do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-253">Deploying a data-driven web application requires copying the database used during development to the production environment.</span></span> <span data-ttu-id="f1ddd-254">Mnoho poskytovatelů webového hostitele nabízí nástroje, které zjednodušuje proces nasazení databáze.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-254">Many web host providers offer tools to simplify the process of deploying a database.</span></span> <span data-ttu-id="f1ddd-255">Například můžete pomocí DiscountASP.NET FTP databáze `.mdf` souboru (nebo zálohy) a pak připojili databázi k databázovým serverem z ovládacích panelů.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-255">For example, with DiscountASP.NET you can FTP your database `.mdf` file (or a backup) and then attach the database to the database server from the Control Panel.</span></span> <span data-ttu-id="f1ddd-256">Další možnost, která funguje bez ohledu na to, jaké funkce nabídek webového hostitele zprostředkovatele je společnosti Microsoft s Database Publishing Wizard nástroj, který generuje skript SQL příkazy k vytvoření vývoje databáze s schéma a data.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-256">Another option that works regardless of what features your web host provider offers is Microsoft s Database Publishing Wizard tool, which generates a script of SQL commands to create the development database s schema and data.</span></span> <span data-ttu-id="f1ddd-257">Jakmile tento skript byl vygenerován. můžete je spustit na produkční databázi.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-257">Once this script has been generated you can execute it on the production database.</span></span>

<span data-ttu-id="f1ddd-258">Teď, když databáze s recenzí webové aplikace v produkčním prostředí jsme nasazení aplikace.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-258">Now that the Book Reviews web application s database is on production we can deploy the application.</span></span> <span data-ttu-id="f1ddd-259">Ale informace o konfiguraci webové aplikace s Určuje připojovací řetězec k databázi, a tento připojovací řetězec odkazuje na databázi vývoj.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-259">However, the web application s configuration information specifies the connection string to the database, and that connection string references the development database.</span></span> <span data-ttu-id="f1ddd-260">Potřebujeme aktualizovat informace o tomto připojovacím řetězci při nasazování webu do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-260">We need to update this connection string information when deploying the site to production.</span></span> <span data-ttu-id="f1ddd-261">V dalším kurzu zkoumá tyto rozdíly konfigurací a vás provede kroky potřebné k publikování lokality s daty recenzí do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="f1ddd-261">The next tutorial looks at these configuration differences and walks through the steps needed to publish the data-driven Book Reviews site to production.</span></span>

<span data-ttu-id="f1ddd-262">Všechno nejlepší programování!</span><span class="sxs-lookup"><span data-stu-id="f1ddd-262">Happy Programming!</span></span>

#### <a name="further-reading"></a><span data-ttu-id="f1ddd-263">Další čtení</span><span class="sxs-lookup"><span data-stu-id="f1ddd-263">Further Reading</span></span>

<span data-ttu-id="f1ddd-264">Další informace o tématech, které jsou popsané v tomto kurzu najdete na následujících odkazech:</span><span class="sxs-lookup"><span data-stu-id="f1ddd-264">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="f1ddd-265">Stáhněte si průvodce 1.1 publikováním databáze Microsoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="f1ddd-265">Download the Microsoft SQL Server Database Publishing Wizard 1.1</span></span>](https://www.microsoft.com/downloads/details.aspx?familyid=56E5B1C5-BF17-42E0-A410-371A838E570A&amp;displaylang=en)
- [<span data-ttu-id="f1ddd-266">Stáhněte si Microsoft SQL Server Management Studio Express Edition</span><span class="sxs-lookup"><span data-stu-id="f1ddd-266">Download the Microsoft SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)

> [!div class="step-by-step"]
> <span data-ttu-id="f1ddd-267">[Předchozí](core-differences-between-iis-and-the-asp-net-development-server-cs.md)
> [další](configuring-the-production-web-application-to-use-the-production-database-cs.md)</span><span class="sxs-lookup"><span data-stu-id="f1ddd-267">[Previous](core-differences-between-iis-and-the-asp-net-development-server-cs.md)
[Next](configuring-the-production-web-application-to-use-the-production-database-cs.md)</span></span>
