---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/users-and-roles-on-the-production-website-vb
title: Uživatelé a role na provozním webu (VB) | Dokumentace Microsoftu
author: rick-anderson
description: Nástroj pro správu webu technologie ASP.NET (WSAT) poskytuje webové uživatelské rozhraní pro konfiguraci nastavení členství a role a k vytváření, úpravy,...
ms.author: aspnetcontent
ms.date: 06/09/2009
ms.assetid: 491ed5ae-9be1-4191-87be-65e4e1c57690
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/users-and-roles-on-the-production-website-vb
msc.type: authoredcontent
ms.openlocfilehash: 0b4b5edef5c0b78abefb007f05d856fddd567b5f
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/05/2018
ms.locfileid: "37820899"
---
<a name="users-and-roles-on-the-production-website-vb"></a><span data-ttu-id="7a6a8-103">Uživatelé a role na provozním webu (VB)</span><span class="sxs-lookup"><span data-stu-id="7a6a8-103">Users and Roles On The Production Website (VB)</span></span>
====================
<span data-ttu-id="7a6a8-104">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7a6a8-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="7a6a8-105">Stáhnout PDF</span><span class="sxs-lookup"><span data-stu-id="7a6a8-105">Download PDF</span></span>](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial16_CustomAWAT_vb.pdf)

> <span data-ttu-id="7a6a8-106">Nástroj pro správu webu technologie ASP.NET (WSAT) poskytuje webové uživatelské rozhraní pro konfiguraci nastavení členství a rolí a pro vytváření, úpravy a odstraňování uživatelů a rolí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-106">The ASP.NET Website Administration Tool (WSAT) provides a web-based user interface for configuring Membership and Roles settings and for creating, editing, and deleting users and roles.</span></span> <span data-ttu-id="7a6a8-107">Bohužel WSAT funguje pouze v případě uživatel přejde v localhost, což znamená, že nelze dosáhnout nástroj pro správu webu produkční prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-107">Unfortunately, the WSAT only works when visited from localhost, meaning that you cannot reach the production website's Administration Tool through your browser.</span></span> <span data-ttu-id="7a6a8-108">Dobrou zprávou je, že jsou alternativní postupy, které umožňují spravovat uživatele a role v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-108">The good news is that there are workarounds that make it possible to manage users and roles on production.</span></span> <span data-ttu-id="7a6a8-109">V tomto kurzu zjistí těchto alternativních řešení a dalších.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-109">This tutorial looks at these workarounds and others.</span></span>


## <a name="introduction"></a><span data-ttu-id="7a6a8-110">Úvod</span><span class="sxs-lookup"><span data-stu-id="7a6a8-110">Introduction</span></span>

<span data-ttu-id="7a6a8-111">ASP.NET 2.0 zavádí řadu *aplikačních služeb*, které představují sadu stavebních bloků služby, které můžete přidat do vaší webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-111">ASP.NET 2.0 introduced a number of *application services*, which are a suite of building block services that you can add to your web application.</span></span> <span data-ttu-id="7a6a8-112">Přidali jsme členství a rolí služby na webu knihy kontroly zpátky [ *konfigurace na webu, že používá aplikační služby* kurzu](configuring-a-website-that-uses-application-services-vb.md).</span><span class="sxs-lookup"><span data-stu-id="7a6a8-112">We added the Membership and Roles services to the Book Reviews website back in the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-vb.md).</span></span> <span data-ttu-id="7a6a8-113">Členství služby usnadňuje vytváření a správa uživatelských účtů; Tato služba role nabízí rozhraní API pro zařazení do skupin uživatelů.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-113">The Membership service facilitates creating and managing user accounts; the Roles service offers an API for categorizing users into groups.</span></span> <span data-ttu-id="7a6a8-114">Lokalita recenzí má tři uživatelské účty – Scott, Jisun a Alice – a s jedinou rolí správce se Scottem a Jisun v roli správce.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-114">The Book Reviews site has three user accounts - Scott, Jisun, and Alice - and a single role, Admin, with Scott and Jisun in the Admin role.</span></span>

<span data-ttu-id="7a6a8-115">ASP. SÍŤ pro aplikační služby nejsou vázané na konkrétní implementaci.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-115">ASP.NET's application services are not tied to a specific implementation.</span></span> <span data-ttu-id="7a6a8-116">Místo toho dáte pokyn aplikační služby, které chcete použít konkrétní *poskytovatele*, a tohoto zprostředkovatele implementuje pomocí konkrétní technologii.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-116">Instead, you instruct the application services to use a particular *provider*, and that provider implements the service using a particular technology.</span></span> <span data-ttu-id="7a6a8-117">Jsme nakonfigurovali recenzí webové aplikace pro použití `SqlMembershipProvider` a `SqlRoleProvider` zprostředkovatelů pro členství a rolí služby.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-117">We configured the Book Reviews web application to use the `SqlMembershipProvider` and `SqlRoleProvider` providers for the Membership and Roles services.</span></span> <span data-ttu-id="7a6a8-118">Tyto dva poskytovatelé ukládat informace o účtu a role uživatele v databázi systému SQL Server a jsou nejčastěji používané zprostředkovatelé pro internetové webové aplikace hostované na webhosting společnosti.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-118">These two providers store user account and role information in a SQL Server database and are the most commonly used providers for Internet-based web applications hosted at a web hosting company.</span></span>

<span data-ttu-id="7a6a8-119">Běžné výzvu pro vývojáře, kteří používají služby členství a rolí je Správa uživatelů a rolí v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-119">A common challenge for developers using the Membership and Roles services is managing the users and roles on the production environment.</span></span> <span data-ttu-id="7a6a8-120">Jak je odstranění uživatelského účtu z webu produkčního prostředí, přidejte novou roli nebo přidání stávajícího uživatele do stávající role?</span><span class="sxs-lookup"><span data-stu-id="7a6a8-120">How do you delete a user account from the production website, add a new role, or add an existing user to an existing role?</span></span> <span data-ttu-id="7a6a8-121">Tento kurz se věnuje různých postupů pro správu uživatelů a role na provozním webu.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-121">This tutorial explores different techniques for managing users and roles on the production website.</span></span>

## <a name="using-the-aspnet-web-site-administration-tool"></a><span data-ttu-id="7a6a8-122">Pomocí nástroje pro správu webu technologie ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7a6a8-122">Using the ASP.NET Web Site Administration Tool</span></span>

<span data-ttu-id="7a6a8-123">Technologie ASP.NET obsahuje [nástroje pro správu webu](https://msdn.microsoft.com/library/yy40ytx0.aspx) (WSAT), který umožňuje snadno vytvářet a spravovat uživatelské účty a role a k určování pravidel autorizace na základě uživatelů a rolí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-123">ASP.NET includes a [Web Site Administration Tool](https://msdn.microsoft.com/library/yy40ytx0.aspx) (WSAT) that makes it easy to create and manage user accounts and roles and to specify user- and role-based authorization rules.</span></span> <span data-ttu-id="7a6a8-124">Chcete-li použít WSAT, klikněte na ikonu konfigurace ASP.NET v Průzkumníku řešení nebo přejděte do nabídky webu nebo projekt a zvolte možnost konfigurace technologie ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-124">To use the WSAT, click the ASP.NET Configuration icon in the Solution Explorer, or go to the Website or Project menu and choose the ASP.NET Configuration option.</span></span> <span data-ttu-id="7a6a8-125">Kterýkoliv přístup spustí webový prohlížeč a odkazuje na WSAT na adrese jako: `http://localhost:portNumber/asp.netwebadminfiles/default.aspx?applicationPhysicalPath=pathToApplication`</span><span class="sxs-lookup"><span data-stu-id="7a6a8-125">Either approach launches a web browser and points it to the WSAT at an address like: `http://localhost:portNumber/asp.netwebadminfiles/default.aspx?applicationPhysicalPath=pathToApplication`</span></span>

<span data-ttu-id="7a6a8-126">WSAT je rozdělený do tří částí:</span><span class="sxs-lookup"><span data-stu-id="7a6a8-126">The WSAT is divided into three sections:</span></span>

- <span data-ttu-id="7a6a8-127">**Zabezpečení** – spravovat uživatele, role a pravidla autorizace.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-127">**Security** - manage users, roles, and authorization rules.</span></span>
- <span data-ttu-id="7a6a8-128">**ApplicationConfiguration** – Správa &lt;appSettings&gt; a nastavení protokolu SMTP z tohoto umístění.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-128">**ApplicationConfiguration** - manage the &lt;appSettings&gt; and SMTP settings from here.</span></span> <span data-ttu-id="7a6a8-129">Můžete lze také převést aplikaci do režimu offline a spravovat ladění a trasování nastavení z tohoto, jakož i zadejte výchozí vlastní chybovou stránku.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-129">You can also take the application offline and manage debugging and tracing settings from here, as well as specify the default custom error page.</span></span>
- <span data-ttu-id="7a6a8-130">**ProviderConfiguration** – konfigurovat zprostředkovatele, který používá aplikační služby.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-130">**ProviderConfiguration** - configure the providers used by the application services.</span></span>

<span data-ttu-id="7a6a8-131">V části zabezpečení (ukazuje **obrázek 1**) obsahuje odkazy pro vytváření nových uživatelů, Správa uživatelů, vytváření a Správa rolí nebo vytváření a správa pravidla přístupu.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-131">The Security section (shown in **Figure 1**) includes links for creating new users, managing users, creating and managing roles, and creating and managing access rules.</span></span> <span data-ttu-id="7a6a8-132">Odsud můžete přidat novou roli systému, odstranit stávajícího uživatele, nebo přidat či odebrat role z určitého uživatelského účtu.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-132">From here you can add a new role to the system, delete an existing user, or add or remove roles from a particular user account.</span></span>

[![](users-and-roles-on-the-production-website-vb/_static/image2.png)](users-and-roles-on-the-production-website-vb/_static/image1.png)

<span data-ttu-id="7a6a8-133">**Obrázek 1**: části WSAT zabezpečení obsahuje možnosti pro správu uživatelů a rolí</span><span class="sxs-lookup"><span data-stu-id="7a6a8-133">**Figure 1**: The WSAT Security Section Includes Options for Managing Users and Roles</span></span>  
<span data-ttu-id="7a6a8-134">([Kliknutím ji zobrazíte obrázek v plné velikosti](users-and-roles-on-the-production-website-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="7a6a8-134">([Click to view full-size image](users-and-roles-on-the-production-website-vb/_static/image3.png))</span></span>

<span data-ttu-id="7a6a8-135">Bohužel WSAT je dostupná jenom místně.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-135">Unfortunately, the WSAT is only accessible locally.</span></span> <span data-ttu-id="7a6a8-136">WSAT nelze najdete na webu produkčnímu; Pokud navštívíte `www.yoursite.com/asp.netwebadminfiles/default.aspx` získáte odpovědi 404 nebyl nalezen.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-136">You cannot visit the WSAT on your remote production website; if you visit `www.yoursite.com/asp.netwebadminfiles/default.aspx` you get a 404 Not Found response.</span></span> <span data-ttu-id="7a6a8-137">Kód, který využívá používá WSAT `Membership` a `Roles` třídy v rozhraní .NET Framework pro vytváření, upravování a odstraňování uživatelů a rolí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-137">The code that powers the WSAT uses the `Membership` and `Roles` classes in the .NET Framework to create, edit, and delete users and roles.</span></span> <span data-ttu-id="7a6a8-138">Tyto třídy najdete informace o konfiguraci webové aplikace určit zprostředkovatele se použije. zpátky [ *konfigurace na webu, že používá aplikační služby* kurzu](configuring-a-website-that-uses-application-services-vb.md) nastavíme na webu knihy revize používat `SqlMembershipProvider` a `SqlRoleProvider` poskytovatelů.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-138">These classes consult the web application's configuration information to determine what provider to use; back in the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-vb.md) we setup the Book Reviews website to use the `SqlMembershipProvider` and `SqlRoleProvider` providers.</span></span> <span data-ttu-id="7a6a8-139">To zavedením přidání `<membership>` a `<roleManager>` oddíly na `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-139">This entailed adding `<membership>` and `<roleManager>` sections to `Web.config`.</span></span>

[!code-xml[Main](users-and-roles-on-the-production-website-vb/samples/sample1.xml)]

<span data-ttu-id="7a6a8-140">Všimněte si, že `<membership>` a `<roleManager>` sections – odkaz `SqlMembershipProvider` a `SqlRoleProvider` poskytovatelů v jejich `type` atribut v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-140">Note that the `<membership>` and `<roleManager>` sections reference the `SqlMembershipProvider` and `SqlRoleProvider` providers in their `type` attribute, respectively.</span></span> <span data-ttu-id="7a6a8-141">Tito poskytovatelé úložiště uživatelů a informací o rolích v zadané databázi systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-141">These providers store the user and role information in a specified SQL Server database.</span></span> <span data-ttu-id="7a6a8-142">Databázi použitou vydavatelem těchto poskytovatelů je určený `connectionStringName` atribut `ReviewsConnectionString`, který je definován v `~/ConfigSections/databaseConnectionStrings.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-142">The database used by these providers is specified by the `connectionStringName` attribute, `ReviewsConnectionString`, which is defined in the `~/ConfigSections/databaseConnectionStrings.config` file.</span></span> <span data-ttu-id="7a6a8-143">Vzpomeňte si, že `databaseConnectionStrings.config` soubor ve vývojovém prostředí obsahuje připojovací řetězec k databázi vývoj, že `databaseConnectionStrings.config` souboru v produkčním prostředí obsahuje připojovací řetězec k produkční databázi.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-143">Recall that the `databaseConnectionStrings.config` file in the development environment contains the connection string to the development database whereas the `databaseConnectionStrings.config` file on production contains the connection string to the production database.</span></span>

<span data-ttu-id="7a6a8-144">Řečeno v kostce, WSAT musí být místně prostřednictvím vývojové prostředí, a funguje s informací o uživatelích a role v zadané v databázi `databaseConnectionStrings.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-144">In a nutshell, the WSAT must be accessed locally through the development environment, and it works with the user and role information in the database specified in the `databaseConnectionStrings.config` file.</span></span> <span data-ttu-id="7a6a8-145">V důsledku toho Pokud změníme informace o připojovacím řetězci v `databaseConnectionStrings.config` soubor ve vývojovém prostředí můžeme použít WSAT místně pro správu uživatelů a rolí v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-145">Consequently, if we change the connection string information in the `databaseConnectionStrings.config` file on the development environment we can use the WSAT locally to manage users and roles in the production environment.</span></span>

<span data-ttu-id="7a6a8-146">K ilustraci této funkce, otevřete `databaseConnectionStrings.config` souboru v sadě Visual Studio ve vývojovém prostředí a nahraďte řetězec připojení k databázi vývoj řetězec připojení k produkční databázi.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-146">To illustrate this functionality, open the `databaseConnectionStrings.config` file in Visual Studio on the development environment and replace the development database connection string with the production database connection string.</span></span> <span data-ttu-id="7a6a8-147">Pak spusťte WSAT, přejděte na kartu zabezpečení a přidání nového uživatele s názvem Sam se heslo "password"!</span><span class="sxs-lookup"><span data-stu-id="7a6a8-147">Then launch the WSAT, go the Security tab, and add a new user named Sam with password "password!"</span></span> <span data-ttu-id="7a6a8-148">(menší uvozovky).</span><span class="sxs-lookup"><span data-stu-id="7a6a8-148">(less the quotation marks).</span></span> <span data-ttu-id="7a6a8-149">**Obrázek 2** při vytváření tohoto účtu se zobrazuje obrazovka WSAT.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-149">**Figure 2** shows the WSAT screen when creating this account.</span></span>

[![](users-and-roles-on-the-production-website-vb/_static/image5.png)](users-and-roles-on-the-production-website-vb/_static/image4.png)

<span data-ttu-id="7a6a8-150">**Obrázek 2**: vytvoření nového uživatele s názvem Sam v provozním prostředí</span><span class="sxs-lookup"><span data-stu-id="7a6a8-150">**Figure 2**: Create a New User Named Sam In the Production Environment</span></span>  
<span data-ttu-id="7a6a8-151">([Kliknutím ji zobrazíte obrázek v plné velikosti](users-and-roles-on-the-production-website-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="7a6a8-151">([Click to view full-size image](users-and-roles-on-the-production-website-vb/_static/image6.png))</span></span>

<span data-ttu-id="7a6a8-152">Protože jsme změnili připojovací řetězec v `databaseConnectionStrings.config` tak, aby odkazoval na produkční server databáze Sam se přidal jako uživatele v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-152">Because we changed the connection string in `databaseConnectionStrings.config` to point to the production database server, Sam was added as a user in the production environment.</span></span> <span data-ttu-id="7a6a8-153">Chcete-li to ověřit, změňte připojovací řetězec v `databaseConnectionStrings.config` souborů zpět do vývoje databáze a potom navštivte `Login.aspx` stránky ve vývojovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-153">To verify this, change the connection string in the `databaseConnectionStrings.config` file back to the development database and then visit the `Login.aspx` page in the development environment.</span></span> <span data-ttu-id="7a6a8-154">Zkuste se přihlásit jako Sam (viz **obrázek 3**).</span><span class="sxs-lookup"><span data-stu-id="7a6a8-154">Try to sign in as Sam (see **Figure 3**).</span></span>

[![](users-and-roles-on-the-production-website-vb/_static/image8.png)](users-and-roles-on-the-production-website-vb/_static/image7.png)

<span data-ttu-id="7a6a8-155">**Obrázek 3**: nemůžete se přihlásit jako Sam ve vývojovém prostředí</span><span class="sxs-lookup"><span data-stu-id="7a6a8-155">**Figure 3**: You Cannot Sign In As Sam in the Development Environment</span></span>  
<span data-ttu-id="7a6a8-156">([Kliknutím ji zobrazíte obrázek v plné velikosti](users-and-roles-on-the-production-website-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="7a6a8-156">([Click to view full-size image](users-and-roles-on-the-production-website-vb/_static/image9.png))</span></span>

<span data-ttu-id="7a6a8-157">Nemůžete se přihlásit jako Sam ve vývojovém prostředí informace o uživatelském účtu v místní databázi neexistuje.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-157">You cannot sign in as Sam in the development environment because the user account information does not exist in the local database.</span></span> <span data-ttu-id="7a6a8-158">Místo toho se přidal do provozní databáze.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-158">Rather, is was added to the production database.</span></span> <span data-ttu-id="7a6a8-159">Chcete-li to ověřit, zobrazit obsah `aspnet_Users` tabulku v databázích vývoj i produkci.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-159">To verify this, view the contents of the `aspnet_Users` table in both the development and production databases.</span></span> <span data-ttu-id="7a6a8-160">Ve vývojovém prostředí by měl být pouze tři záznamy pro uživatele Scott, Jisun a Alice.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-160">In the development environment there should be only three records for users Scott, Jisun, and Alice.</span></span> <span data-ttu-id="7a6a8-161">Ale `aspnet_Users` tabulce do provozní databáze má čtyři záznamy: Scott, Jisun, Alice a Sam.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-161">However, the `aspnet_Users` table in the production database has four records: Scott, Jisun, Alice, and Sam.</span></span> <span data-ttu-id="7a6a8-162">V důsledku toho Sam přihlásit na webových stránkách v produkčním prostředí, ale ne prostřednictvím vývojové prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-162">Consequently, Sam can sign in through the website in production, but not through the development environment.</span></span>

[![](users-and-roles-on-the-production-website-vb/_static/image11.png)](users-and-roles-on-the-production-website-vb/_static/image10.png)

<span data-ttu-id="7a6a8-163">**Obrázek 4**: Sam se můžete přihlásit na provozním webu</span><span class="sxs-lookup"><span data-stu-id="7a6a8-163">**Figure 4**: Sam Can Sign In On the Production Website</span></span>  
<span data-ttu-id="7a6a8-164">([Kliknutím ji zobrazíte obrázek v plné velikosti](users-and-roles-on-the-production-website-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="7a6a8-164">([Click to view full-size image](users-and-roles-on-the-production-website-vb/_static/image12.png))</span></span>

> [!NOTE]
> <span data-ttu-id="7a6a8-165">Nezapomeňte změnit připojovací řetězec `databaseConnectionStrings.config` souboru zpět do databáze vývoje je připojovací řetězec, až to budete mít práce s jinak WSAT budete pracovat s použitím provozních dat při testování webu prostřednictvím vývoje prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-165">Don't forget to change the connection string in the `databaseConnectionStrings.config` file back to the development database's connect string when you're done working with the WSAT otherwise you will be working with production data when testing the site through the development environment.</span></span> <span data-ttu-id="7a6a8-166">Také vzít v úvahu, zatímco technika, kterou jsme právě probírali nám umožňuje používat WSAT ke vzdálené správě uživatelů a rolí, měnit změny na žádné z ostatních WSAT konfigurace možností (pravidla přístupu, SMTP nastavení, ladění a trasování nastavení a tak dále) `Web.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-166">Also keep in mind that while the technique we just discussed allows us to use the WSAT to remotely manage users and roles, changes to any of the other WSAT configuration options (access rules, SMTP settings, debugging and tracing settings, and so on) modify the `Web.config` file.</span></span> <span data-ttu-id="7a6a8-167">V důsledku toho všechny změny provedené nastavení použijí do vývojového prostředí a ne do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-167">Consequently, any changes made to the settings apply to the development environment and not to the production environment.</span></span>


## <a name="creating-custom-user-and-role-management-web-pages"></a><span data-ttu-id="7a6a8-168">Vytvoření vlastního uživatele a roli správy webové stránky</span><span class="sxs-lookup"><span data-stu-id="7a6a8-168">Creating Custom User and Role Management Web Pages</span></span>

<span data-ttu-id="7a6a8-169">WSAT poskytuje výstupního pole systému pro správu uživatelů a rolí, ale jde spustit jenom místně a vyžaduje změny informací o připojovacím řetězci za účelem správy uživatelů a rolí v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-169">The WSAT provides an out of the box system for managing users and roles, but can only be launched locally and requires making changes to the connection string information in order to manage the users and roles on production.</span></span> <span data-ttu-id="7a6a8-170">Většina webů, které podporují uživatelské účty obsahovat také počet uživatelů a rolí správy webové stránky, které umožňují správcům ke správě uživatelů a rolí ze stránek v rámci stránky.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-170">Most websites that support user accounts also include a number of user and role administration web pages that enable administrators to manage users and roles from pages within the site.</span></span> <span data-ttu-id="7a6a8-171">Tyto stránky správy na základě webové bylo mnohem snazší správu uživatelů a rolí a jsou nezbytné pro weby tam, kde může být mnoho správci nebo správci, kteří nemají přístup k nebo technické znalosti potřebné k použití sady Visual Studio ke spuštění WSAT.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-171">Such web-based administration pages make it much easier to manage users and roles and are essential for sites where there may be many administrators or administrators that do not have access to or the technical background to use Visual Studio to launch the WSAT.</span></span>

<span data-ttu-id="7a6a8-172">Technologie ASP.NET obsahuje řadu integrovaných ovládacích prvků související s přihlášením Web využívající prováděcí mnohé z těchto stejně snadné jako přetažení pro správu webových stránek.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-172">ASP.NET includes a number of built-in Login-related Web controls that make implementing many of these administrative web pages as easy as drag and drop.</span></span> <span data-ttu-id="7a6a8-173">Můžete například vytvořit stránku pro správce vytvořit nový uživatelský účet přetažení ovládacím prvku CreateUserWizard na stránku a nastavit několik vlastností.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-173">For example, you can create a page for administrators to create a new user account by dragging the CreateUserWizard control onto the page and setting a few properties.</span></span> <span data-ttu-id="7a6a8-174">Ve skutečnosti, na stránce pro vytváření uživatelů v WSAT ukazuje **obrázek 2** používá stejný CreateUserWizard ovládací prvek, který můžete přidat na stránky.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-174">In fact, the page for creating users in the WSAT shown in **Figure 2** uses the same CreateUserWizard control that you can add to your pages.</span></span> <span data-ttu-id="7a6a8-175">Kromě toho jsou k dispozici prostřednictvím kódu programu prostřednictvím členství a rolí služby funkce `Membership` a `Roles` třídami v rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-175">Furthermore, the Membership and Roles services' functionalities are available programmatically through the `Membership` and `Roles` classes in the .NET Framework.</span></span> <span data-ttu-id="7a6a8-176">Pomocí těchto tříd můžete napsat kód, vytvářet, upravovat a odstraňovat uživatelů a rolí, a jde o přidání nebo odebrání uživatelů k rolím, chcete-li zjistit, co jsou uživatelé v rolích a provádět další úlohy související s uživateli a rolemi.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-176">With these classes you can write code to create, edit, and delete users and roles, as well as to add or remove users to roles, to determine what users are in what roles, and to perform other user- and role-related tasks.</span></span>

<span data-ttu-id="7a6a8-177">V [ *konfigurace na webu, že používá aplikační služby* kurzu](configuring-a-website-that-uses-application-services-vb.md) po přidání stránku `Admin` složku s názvem `CreateAccount.aspx`.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-177">In the [*Configuring a Website That Uses Application Services* tutorial](configuring-a-website-that-uses-application-services-vb.md) I added a page to the `Admin` folder named `CreateAccount.aspx`.</span></span> <span data-ttu-id="7a6a8-178">Tato stránka umožňuje správci přidat nový uživatelský účet k lokalitě a k určení, zda bude nově vytvořený uživatel je v roli správce (viz **obrázek 5**).</span><span class="sxs-lookup"><span data-stu-id="7a6a8-178">This page allows an administrator to add a new user account to the site and to specify whether or not the newly created user is in the Admin role (see **Figure 5**).</span></span>

[![](users-and-roles-on-the-production-website-vb/_static/image14.png)](users-and-roles-on-the-production-website-vb/_static/image13.png)

<span data-ttu-id="7a6a8-179">**Obrázek 5**: Správci mohou vytvářet nové uživatelské účty</span><span class="sxs-lookup"><span data-stu-id="7a6a8-179">**Figure 5**: Administrators Can Create New User Accounts</span></span>  
<span data-ttu-id="7a6a8-180">([Kliknutím ji zobrazíte obrázek v plné velikosti](users-and-roles-on-the-production-website-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="7a6a8-180">([Click to view full-size image](users-and-roles-on-the-production-website-vb/_static/image15.png))</span></span>

<span data-ttu-id="7a6a8-181">Podrobnější rozbor vytváření uživatele a roli stránky pro správu, spolu s podrobné pokyny k používání `Membership` a `Roles` třídy a ovládacích prvků technologie ASP.NET související s přihlášením, nezapomeňte si přečíst Moje [zabezpečení webu Kurzy](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span><span class="sxs-lookup"><span data-stu-id="7a6a8-181">For a more detailed look at building user and role administration pages, along with step-by-step instructions on using the `Membership` and `Roles` classes and the Login-related ASP.NET Web controls, be sure to read my [Website Security Tutorials](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span></span> <span data-ttu-id="7a6a8-182">Zde najdete pokyny, jak sestavit webové stránky pro vytvoření nové účty, vytvoření a Správa rolí, přiřazování uživatelů k rolím a další běžné úlohy správy.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-182">There you'll find guidance on how to build web pages for creating new accounts, creating and managing roles, assigning users to roles, and other common administrative tasks.</span></span>

<span data-ttu-id="7a6a8-183">K implementaci funkcionality jako WSAT na provozním webu můžete vždy sestavovat vlastní řadu webových stránek, které implementují funkce WSAT.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-183">To implement WSAT-like functionality on the production website you can always build your own series of web pages that implement the WSAT's features.</span></span> <span data-ttu-id="7a6a8-184">Abychom mohli začít, podívejte se na zdrojový kód, který je umístěn ve složce WSAT `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\ASP.NETWebAdminFiles`.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-184">To help get started, check out the WSAT source code, which is located in the folder `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\ASP.NETWebAdminFiles`.</span></span> <span data-ttu-id="7a6a8-185">Další možností je použít alternativní WSAT Clem daň, která sdílí v tomto článku, [se zajištěním provozu svůj vlastní nástroj pro správu webu](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="7a6a8-185">Another option is to use Dan Clem's WSAT alternative, which he shares in his article, [Rolling Your Own Web Site Administration Tool](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx).</span></span> <span data-ttu-id="7a6a8-186">DaN vás čtenáře proces vytváření vlastního nástroje WSAT podobném, obsahuje zdrojový kód jeho aplikace ke stažení (v jazyce C#) a poskytuje podrobné pokyny pro přidání své vlastní WSAT na hostovaný web.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-186">Dan walks readers through the process of building a custom WSAT-like tool, includes his application's source code for download (in C#), and gives step-by-step instructions for adding his custom WSAT to a hosted website.</span></span>

## <a name="summary"></a><span data-ttu-id="7a6a8-187">Souhrn</span><span class="sxs-lookup"><span data-stu-id="7a6a8-187">Summary</span></span>

<span data-ttu-id="7a6a8-188">Nástroj pro správu webu technologie ASP.NET (WSAT) lze použít v kombinaci s aplikačními službami členství a rolí ke správě informací o uživatelích a role pro váš web.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-188">The ASP.NET Web Site Administration Tool (WSAT) can be used in tandem with the Membership and Roles application services to manage user and role information for your website.</span></span> <span data-ttu-id="7a6a8-189">Bohužel WSAT je přístupný jenom místně a nemůže být zobrazeny z produkčního webu.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-189">Unfortunately, the WSAT is only accessible locally and cannot be visited from your production website.</span></span> <span data-ttu-id="7a6a8-190">Však změnou připojovacího řetězce při vývoji prostředí tak, aby odkazoval na provozní databáze použít WSAT pro správu uživatelů a role na provozním webu.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-190">However, by changing the connection string in the development environment to point to the production database you can use the WSAT to manage the users and roles on the production website.</span></span>

<span data-ttu-id="7a6a8-191">Zatímco WSAT přístup nabízí rychlý a snadný způsob, jak spravovat uživatele a role, vyžaduje spuštění WSAT ze sady Visual Studio, stejně jako dočasné změny na informace o připojovacím řetězci.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-191">While the WSAT approach affords a quick and easy way to manage users and roles, it necessitates launching the WSAT from Visual Studio as well as temporary changes to the connection string information.</span></span> <span data-ttu-id="7a6a8-192">WSAT nabízí rychlý způsob, jak spravovat uživatele a role v produkčním prostředí, ale je náročné a nebude fungovat dobře pro weby s několika správci nebo správci, kteří nemají nebo nejsou obeznámeni s Visual Studio a WSAT.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-192">The WSAT offers a quick way to manage users and roles on production, but is cumbersome and does not work well for websites with multiple administrators or with administrators who do not have or are not familiar with Visual Studio and the WSAT.</span></span> <span data-ttu-id="7a6a8-193">Většina webů, které podporují uživatelské účty z těchto důvodů zahrnují sadu pro správu webových stránek.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-193">For these reasons, most websites that support user accounts include a set of administrative web pages.</span></span> <span data-ttu-id="7a6a8-194">Sada webových stránek se eliminuje potřeba WSAT a použít různé administrativní uživatelé z libovolného počítače.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-194">Such a set of web pages eliminates the need for the WSAT and used by various administrative users from any computer.</span></span>

<span data-ttu-id="7a6a8-195">Všechno nejlepší programování!</span><span class="sxs-lookup"><span data-stu-id="7a6a8-195">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="7a6a8-196">Další čtení</span><span class="sxs-lookup"><span data-stu-id="7a6a8-196">Further Reading</span></span>

<span data-ttu-id="7a6a8-197">Další informace o tématech, které jsou popsané v tomto kurzu najdete na následujících odkazech:</span><span class="sxs-lookup"><span data-stu-id="7a6a8-197">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="7a6a8-198">Zkoumání ASP. Členství, role a profilu sítě.</span><span class="sxs-lookup"><span data-stu-id="7a6a8-198">Examining ASP.NET's Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="7a6a8-199">Vlastní nástroje pro správu webu se zajištěním provozu</span><span class="sxs-lookup"><span data-stu-id="7a6a8-199">Rolling Your Own Web Site Administration Tool</span></span>](http://aspnet.4guysfromrolla.com/articles/052307-1.aspx)
- [<span data-ttu-id="7a6a8-200">Přehled nástroje pro správu webu</span><span class="sxs-lookup"><span data-stu-id="7a6a8-200">Web Site Administration Tool Overview</span></span>](https://msdn.microsoft.com/library/yy40ytx0.aspx)
- [<span data-ttu-id="7a6a8-201">Kurzy zabezpečení webu</span><span class="sxs-lookup"><span data-stu-id="7a6a8-201">Website Security Tutorials</span></span>](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md)

> [!div class="step-by-step"]
> [<span data-ttu-id="7a6a8-202">Předchozí</span><span class="sxs-lookup"><span data-stu-id="7a6a8-202">Previous</span></span>](precompiling-your-website-vb.md)
