---
uid: web-forms/overview/older-versions-getting-started/master-pages/urls-in-master-pages-cs
title: Adresy URL stránek předloh (C#) | Dokumentace Microsoftu
author: rick-anderson
description: Řeší, jak můžete přerušit adresy URL na hlavní stránce kvůli soubor předlohové stránky se v jiném adresáři relativní než stránku obsahu. Prohledá probíhá přenesení změn...
ms.author: riande
ms.date: 06/10/2008
ms.assetid: 48b58a18-5ea4-468c-b326-f35331b3e1e9
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/urls-in-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 6f22159c4e70beeb590039ea0d4b8126c5424bd5
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/16/2018
ms.locfileid: "41752028"
---
<a name="urls-in-master-pages-c"></a><span data-ttu-id="4cfce-104">Adresy URL stránek předloh (C#)</span><span class="sxs-lookup"><span data-stu-id="4cfce-104">URLs in Master Pages (C#)</span></span>
====================
<span data-ttu-id="4cfce-105">podle [Scott Meisnerová](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="4cfce-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="4cfce-106">[Stáhněte si kód](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_04_CS.zip) nebo [stahovat PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_04_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="4cfce-106">[Download Code](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_04_CS.zip) or [Download PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_04_CS.pdf)</span></span>

> <span data-ttu-id="4cfce-107">Řeší, jak můžete přerušit adresy URL na hlavní stránce kvůli soubor předlohové stránky se v jiném adresáři relativní než stránku obsahu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-107">Addresses how URLs in the master page can break due to the master page file being in a different relative directory than the content page.</span></span> <span data-ttu-id="4cfce-108">Prohledá probíhá přenesení změn adres URL prostřednictvím ~ v deklarativní syntaxi a použití ResolveUrl a ResolveClientUrl prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-108">Looks at rebasing URLs via ~ in the declarative syntax and using ResolveUrl and ResolveClientUrl programmatically.</span></span> <span data-ttu-id="4cfce-109">(Se také podívat na</span><span class="sxs-lookup"><span data-stu-id="4cfce-109">(Also look at</span></span>


## <a name="introduction"></a><span data-ttu-id="4cfce-110">Úvod</span><span class="sxs-lookup"><span data-stu-id="4cfce-110">Introduction</span></span>

<span data-ttu-id="4cfce-111">Ve všech příkladech jsme viděli, jaký že se stránky předlohy a obsahu byly umístěny ve stejné složce (do kořenové složky webu).</span><span class="sxs-lookup"><span data-stu-id="4cfce-111">In all the examples we've seen thus far, the master and content pages have been located in the same folder (the website's root folder).</span></span> <span data-ttu-id="4cfce-112">Ale neexistuje žádný důvod, proč se stránky předlohy a obsahu musí být ve stejné složce.</span><span class="sxs-lookup"><span data-stu-id="4cfce-112">But there's no reason why the master and content pages must be in the same folder.</span></span> <span data-ttu-id="4cfce-113">Určitě můžete vytvářet stránky obsahu v podsložkách.</span><span class="sxs-lookup"><span data-stu-id="4cfce-113">You can certainly create content pages in subfolders.</span></span> <span data-ttu-id="4cfce-114">Podobně můžete vytvořit `~/MasterPages/` složku, kam umístíte hlavní stránky.</span><span class="sxs-lookup"><span data-stu-id="4cfce-114">Similarly, you might create a `~/MasterPages/` folder where you place your site's master pages.</span></span>

<span data-ttu-id="4cfce-115">Jedním potenciálním problémem s umístěním stránky předlohy a obsahu v různých složkách zahrnuje nefunkční adresy URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-115">One potential issue with placing master and content pages in different folders involves broken URLs.</span></span> <span data-ttu-id="4cfce-116">Pokud hlavní stránka obsahuje relativní adresy URL v hypertextových odkazů, obrázků nebo jiných prvků, bude odkaz na neplatný pro stránky obsahu, které se nacházejí v jiné složce.</span><span class="sxs-lookup"><span data-stu-id="4cfce-116">If the master page contains relative URLs in hyperlinks, images, or other elements, the link will be invalid for content pages that reside in a different folder.</span></span> <span data-ttu-id="4cfce-117">V tomto kurzu jsme zkontrolujte příčiny tohoto problému, jakož i řešení.</span><span class="sxs-lookup"><span data-stu-id="4cfce-117">In this tutorial we examine the source of this problem as well as workarounds.</span></span>

## <a name="the-problem-with-relative-urls"></a><span data-ttu-id="4cfce-118">Problém s relativní adresy URL</span><span class="sxs-lookup"><span data-stu-id="4cfce-118">The Problem with Relative URLs</span></span>

<span data-ttu-id="4cfce-119">Na adresu URL na webovou stránku se říká, že *relativní adresa URL* při umístění prostředku odkazovala na relativní k umístění webové stránky ve struktuře složek na webu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-119">A URL on a web page is said to be a *relative URL* if the location of the resource it points to is relative to the web page's location in the website's folder structure.</span></span> <span data-ttu-id="4cfce-120">Libovolnou adresu URL, který nezačíná řetězcem počáteční lomítko (`/`) nebo protokol (například `http://`) je relativní vzhledem k tomu, že je přeložen v prohlížeči na základě umístění webové stránky, který obsahuje adresu URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-120">Any URL that does not start with a leading forward slash (`/`) or a protocol (such as `http://`) is relative because it is resolved by the browser based on the location of the web page that contains the URL.</span></span>

<span data-ttu-id="4cfce-121">Například, má náš web `~/Images/` složky se souborem jedné image `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-121">For example, our website has an `~/Images/` folder with a single image file, `PoweredByASPNET.gif`.</span></span> <span data-ttu-id="4cfce-122">Soubor předlohové stránky daného `Site.master` má `<img>` prvek `footerContent` oblasti následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="4cfce-122">The master page file `Site.master` has an `<img>` element in the `footerContent` region with the following markup:</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample1.html)]

<span data-ttu-id="4cfce-123">`src` Hodnotu v atributu `<img>` prvek je relativní adresa URL, protože nezačíná řetězcem `/` nebo `http://`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-123">The `src` attribute value in the `<img>` element is a relative URL because it does not start with `/` or `http://`.</span></span> <span data-ttu-id="4cfce-124">Stručně řečeno `src` hodnota atributu sděluje prohlížeči, aby podívejte se `Images` podsložku pro soubor s názvem `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-124">In short, the `src` attribute value tells the browser to look in the `Images` subfolder for a file named `PoweredByASPNET.gif`.</span></span>

<span data-ttu-id="4cfce-125">Při návštěvě stránky obsahu, výše uvedené značky se pošle přímo v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="4cfce-125">When visiting a content page, the above markup is sent directly to the browser.</span></span> <span data-ttu-id="4cfce-126">Za chvíli navštivte `About.aspx` a zobrazit zdrojový kód HTML, který je odesláno prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="4cfce-126">Take a moment to visit `About.aspx` and view the HTML source sent to the browser.</span></span> <span data-ttu-id="4cfce-127">Zjistíte, že přesně stejné značky na stránce předlohy byl odeslán do prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="4cfce-127">You will find that the exact same markup in the master page was sent to the browser.</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample2.html)]

<span data-ttu-id="4cfce-128">Pokud stránka obsahu je v kořenové složce (jako je `About.aspx`) všechno funguje podle očekávání, protože je `Images` podsložka relativně ke kořenové složce.</span><span class="sxs-lookup"><span data-stu-id="4cfce-128">If the content page is in the root folder (as is `About.aspx`) everything works as expected because there is an `Images` subfolder relative to the root folder.</span></span> <span data-ttu-id="4cfce-129">Ale co rozdělit Pokud stránka obsahu je v jiné složce než stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="4cfce-129">However, things break down if the content page is in a different folder than the master page.</span></span> <span data-ttu-id="4cfce-130">Pro znázornění, vytvořte podsložku s názvem `Admin`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-130">To illustrate this, create a subfolder named `Admin`.</span></span> <span data-ttu-id="4cfce-131">V dalším kroku přidat stránku obsahu s názvem `Default.aspx` k `Admin` složky, nezapomeňte vytvořit vazbu na novou stránku `Site.master` stránky předlohy.</span><span class="sxs-lookup"><span data-stu-id="4cfce-131">Next, add a content page named `Default.aspx` to the `Admin` folder, making sure to bind the new page to the `Site.master` master page.</span></span>

> [!NOTE]
> <span data-ttu-id="4cfce-132">V [ *zadáním názvu, metaznaček a ostatní hlaviček HTML na stránce předlohy* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) kurzu jsme vytvořili vlastní stránku základní třídu s názvem `BasePage` , který automaticky nastavit nadpis obsahu stránky (pokud ho nebyla přiřazena explicitně).</span><span class="sxs-lookup"><span data-stu-id="4cfce-132">In the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial we created a custom base page class named `BasePage` that automatically set the content page's title (if it was not explicitly assigned).</span></span> <span data-ttu-id="4cfce-133">Nezapomeňte mají třídy modelu code-behind nově vytvořený stránky odvozen od `BasePage` tak, aby ji můžete využít tuto funkci.</span><span class="sxs-lookup"><span data-stu-id="4cfce-133">Don't forget to have the newly created page's code-behind class derive from `BasePage` so that it can utilize this functionality.</span></span>


<span data-ttu-id="4cfce-134">Po vytvoření tohoto obsahu stránky, by měl vypadat podobně jako na obrázku 1 Průzkumníku řešení.</span><span class="sxs-lookup"><span data-stu-id="4cfce-134">After you have created this content page, your Solution Explorer should look similar to Figure 1.</span></span>


![Nová složka a stránky ASP.NET se přidaly do projektu](urls-in-master-pages-cs/_static/image1.png)

<span data-ttu-id="4cfce-136">**Obrázek 01**: novou složku a stránky ASP.NET se přidaly do projektu</span><span class="sxs-lookup"><span data-stu-id="4cfce-136">**Figure 01**: A New Folder and ASP.NET Page Have Been Added to the Project</span></span>


<span data-ttu-id="4cfce-137">Dále, aktualizujte `Web.sitemap` soubor obsahuje nové `<siteMapNode>` zadání v této lekci.</span><span class="sxs-lookup"><span data-stu-id="4cfce-137">Next, update the `Web.sitemap` file to include a new `<siteMapNode>` entry for this lesson.</span></span> <span data-ttu-id="4cfce-138">Následující kód XML ukazuje kompletní `Web.sitemap` kód, který teď zahrnuje přidání třetí `<siteMapNode>` elementu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-138">The following XML shows the complete `Web.sitemap` markup, which now includes the addition of a third `<siteMapNode>` element.</span></span>


[!code-xml[Main](urls-in-master-pages-cs/samples/sample3.xml)]

<span data-ttu-id="4cfce-139">Nově vytvořený `Default.aspx` stránka by měla obsahovat čtyři ovládací prvky obsahu odpovídající čtyři prvků ContentPlaceHolder v `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-139">The newly created `Default.aspx` page should have four Content controls corresponding to the four ContentPlaceHolders in `Site.master`.</span></span> <span data-ttu-id="4cfce-140">Přidejte nějaký text pro ovládací prvek obsahu odkazující `MainContent` ContentPlaceHolder a pak na stránce prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="4cfce-140">Add some text to the Content control referencing the `MainContent` ContentPlaceHolder and then visit the page through a browser.</span></span> <span data-ttu-id="4cfce-141">Jak je vidět na obrázku 2, nejde najít v prohlížeči `PoweredByASPNET.gif` soubor bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="4cfce-141">As Figure 2 shows, the browser cannot find the `PoweredByASPNET.gif` image file.</span></span> <span data-ttu-id="4cfce-142">K čemu tady?</span><span class="sxs-lookup"><span data-stu-id="4cfce-142">What's going on here?</span></span>

<span data-ttu-id="4cfce-143">`~/Admin/Default.aspx` Stránky obsahu se odešle stejný kód HTML `footerContent` oblasti jako byla `About.aspx` stránky:</span><span class="sxs-lookup"><span data-stu-id="4cfce-143">The `~/Admin/Default.aspx` content page is sent the same HTML for the `footerContent` region as was the `About.aspx` page:</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample4.html)]

<span data-ttu-id="4cfce-144">Protože `<img>` elementu `src` atribut je relativní adresa URL, v prohlížeči se pokusí vyhledat `Images` složce relativní k umístění složky webové stránky.</span><span class="sxs-lookup"><span data-stu-id="4cfce-144">Because the `<img>` element's `src` attribute is a relative URL, the browser attempts to look for an `Images` folder relative to the web page's folder location.</span></span> <span data-ttu-id="4cfce-145">Jinými slovy, v prohlížeči hledá soubor bitové kopie `Admin/Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-145">In other words, the browser is looking for the image file `Admin/Images/PoweredByASPNET.gif`.</span></span>


<span data-ttu-id="4cfce-146">[![Soubor bitové kopie PoweredByASPNET.gif nebyl nalezen.](urls-in-master-pages-cs/_static/image3.png)](urls-in-master-pages-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="4cfce-146">[![The PoweredByASPNET.gif Image File Cannot Be Found](urls-in-master-pages-cs/_static/image3.png)](urls-in-master-pages-cs/_static/image2.png)</span></span>

<span data-ttu-id="4cfce-147">**Obrázek 02**: `PoweredByASPNET.gif` Image soubor nebyl nalezen ([kliknutím ji zobrazíte obrázek v plné velikosti](urls-in-master-pages-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="4cfce-147">**Figure 02**: The `PoweredByASPNET.gif` Image File Cannot Be Found  ([Click to view full-size image](urls-in-master-pages-cs/_static/image4.png))</span></span>


### <a name="replacing-relative-urls-with-absolute-urls"></a><span data-ttu-id="4cfce-148">Nahraďte absolutní adresy URL relativní adresy URL</span><span class="sxs-lookup"><span data-stu-id="4cfce-148">Replacing Relative URLs with Absolute URLs</span></span>

<span data-ttu-id="4cfce-149">Je opakem relativní adresu URL *absolutní adresa URL*, což je jedna začínající lomítkem (`/`) nebo protokol, jako `http://`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-149">The opposite of a relative URL is an *absolute URL*, which is one that starts with a forward slash (`/`) or a protocol such as `http://`.</span></span> <span data-ttu-id="4cfce-150">Protože absolutní adresa URL určuje umístění prostředku ze známých pevnému bodu, je stejné absolutní adresa URL platná v jakékoli webové stránky, bez ohledu na umístění webové stránky ve struktuře složek na webu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-150">Because an absolute URL specifies the location of a resource from a known fixed point, the same absolute URL is valid in any web page, regardless of the web page's location in the website's folder structure.</span></span>

<span data-ttu-id="4cfce-151">Chcete-li napravit porušení obrázku je znázorněno na obrázku 2, musíme aktualizovat `<img>` elementu `src` atribut tak, aby používal místo relativní absolutní adresu URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-151">To remedy the broken image shown in Figure 2, we need to update the `<img>` element's `src` attribute so that it uses an absolute URL instead of a relative one.</span></span> <span data-ttu-id="4cfce-152">Chcete-li určit správnou absolutní adresu URL, navštíví některý z webové stránky na webu a zkontrolujte do adresního řádku.</span><span class="sxs-lookup"><span data-stu-id="4cfce-152">To determine the correct absolute URL, visit one of the web pages in your website and examine the Address bar.</span></span> <span data-ttu-id="4cfce-153">Jak ukazuje do adresního řádku na obrázku 2 je plně kvalifikovanou cestu k webové aplikaci `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-153">As the Address bar in Figure 2 shows, the fully qualified path to the web application is `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/`.</span></span> <span data-ttu-id="4cfce-154">Proto jsme aktualizovat `<img>` elementu `src` atribut některou z následujících dvou absolutní adresy URL:</span><span class="sxs-lookup"><span data-stu-id="4cfce-154">Therefore, we could update the `<img>` element's `src` attribute to either of the following two absolute URLs:</span></span>

- `/ASPNET_MasterPages_Tutorial_04_CS/Images/PoweredByASPNET.gif`
- `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/Images/PoweredByASPNET.gif`

<span data-ttu-id="4cfce-155">Za chvíli se aktualizovat `<img>` elementu `src` atributu na absolutní adresu URL pomocí jedné z formuláře uvedené nahoře a přejděte `~/Admin/Default.aspx` stránky prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="4cfce-155">Take a moment to update the `<img>` element's `src` attribute to an absolute URL using one of the forms shown above and then visit the `~/Admin/Default.aspx` page through a browser.</span></span> <span data-ttu-id="4cfce-156">Tentokrát se správně najít a zobrazit v prohlížeči `PoweredByASPNET.gif` soubor bitové kopie (viz obrázek 3).</span><span class="sxs-lookup"><span data-stu-id="4cfce-156">This time the browser will correctly find and display the `PoweredByASPNET.gif` image file (see Figure 3).</span></span>


<span data-ttu-id="4cfce-157">[![Obrázek PoweredByASPNET.gif se nyní zobrazí](urls-in-master-pages-cs/_static/image6.png)](urls-in-master-pages-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="4cfce-157">[![The PoweredByASPNET.gif Image is Now Displayed](urls-in-master-pages-cs/_static/image6.png)](urls-in-master-pages-cs/_static/image5.png)</span></span>

<span data-ttu-id="4cfce-158">**Obrázek 03**: `PoweredByASPNET.gif` bitová kopie je nyní zobrazen ([kliknutím ji zobrazíte obrázek v plné velikosti](urls-in-master-pages-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="4cfce-158">**Figure 03**: The `PoweredByASPNET.gif` Image is Now Displayed  ([Click to view full-size image](urls-in-master-pages-cs/_static/image7.png))</span></span>


<span data-ttu-id="4cfce-159">Při pevném psaní kódu v absolutní adresa URL funguje pevně se spojuje kódu HTML k serveru na webu a umístění složky, které mohou změnit.</span><span class="sxs-lookup"><span data-stu-id="4cfce-159">While hard coding in the absolute URL works, it tightly couples your HTML to the website's server and folder location, which may change.</span></span> <span data-ttu-id="4cfce-160">Použití absolutní adresu URL ve formátu `http://localhost:3908/...` je křehká protože předchozí číslo portu `localhost` automaticky vybraný při každém spuštění sady Visual Studio integrované technologie ASP.NET vývojového webového serveru.</span><span class="sxs-lookup"><span data-stu-id="4cfce-160">Using an absolute URL of the form `http://localhost:3908/...` is brittle because the port number preceding `localhost` is selected automatically each time Visual Studio's built-in ASP.NET Development Web Server is started.</span></span> <span data-ttu-id="4cfce-161">Podobně platí `http://localhost` část je platný pouze při testování místně.</span><span class="sxs-lookup"><span data-stu-id="4cfce-161">Similarly, the `http://localhost` part is only valid when testing locally.</span></span> <span data-ttu-id="4cfce-162">Jakmile se kód nasazuje na produkční server, základ adresy URL změní na něco jiného, jako je třeba `http://www.yourserver.com`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-162">Once the code is deployed to a production server, the URL base will change to something else, like `http://www.yourserver.com`.</span></span> <span data-ttu-id="4cfce-163">Absolutní adresa URL ve formě `/ASPNET_MasterPages_Tutorial_04_CS/...` také vykazuje stejné brittleness, protože často cesta k této aplikaci liší mezi vývojovou a provozní servery.</span><span class="sxs-lookup"><span data-stu-id="4cfce-163">The absolute URL in the form `/ASPNET_MasterPages_Tutorial_04_CS/...` also suffers from the same brittleness because oftentimes this application path differs between development and production servers.</span></span>

<span data-ttu-id="4cfce-164">Dobrou zprávou je, že technologie ASP.NET nabízí metody pro generování platnou relativní adresu URL za běhu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-164">The good news is that ASP.NET offers a method for generating a valid relative URL at runtime.</span></span>

## <a name="usingandresolveclienturl"></a><span data-ttu-id="4cfce-165">Pomocí`~`a`ResolveClientUrl`</span><span class="sxs-lookup"><span data-stu-id="4cfce-165">Using`~`and`ResolveClientUrl`</span></span>

<span data-ttu-id="4cfce-166">Spíše než intenzivně kódu absolutní adresu URL, ASP.NET stránky vývojářům umožňuje použít tilda (`~`) k označení kořenovém adresáři webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="4cfce-166">Rather than hard code an absolute URL, ASP.NET allows page developers to use the tilde (`~`) to indicate the root of the web application.</span></span> <span data-ttu-id="4cfce-167">Například dříve v tomto kurzu, můžu použít zápis `~/Admin/Default.aspx` v text, který má odkazovat `Default.aspx` stránku `Admin` složky.</span><span class="sxs-lookup"><span data-stu-id="4cfce-167">For example, earlier in this tutorial I used the notation `~/Admin/Default.aspx` in the text to refer to the `Default.aspx` page in the `Admin` folder.</span></span> <span data-ttu-id="4cfce-168">`~` Znamená, že `Admin` složka je podsložkou kořenový adresář webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="4cfce-168">The `~` indicates that the `Admin` folder is a subfolder of the web application's root.</span></span>

<span data-ttu-id="4cfce-169">`Control` Třídy [ `ResolveClientUrl` metoda](https://msdn.microsoft.com/library/system.web.ui.control.resolveclienturl.aspx) přebírá adresu URL a změní na relativní adresu URL vhodné pro webové stránky, na kterém se ovládací prvek nachází.</span><span class="sxs-lookup"><span data-stu-id="4cfce-169">The `Control` class's [`ResolveClientUrl` method](https://msdn.microsoft.com/library/system.web.ui.control.resolveclienturl.aspx) takes a URL and modifies it to a relative URL appropriate for the web page on which the control resides.</span></span> <span data-ttu-id="4cfce-170">Například volání `ResolveClientUrl("~/Images/PoweredByASPNET.gif")` z `About.aspx` vrátí `Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-170">For example, calling `ResolveClientUrl("~/Images/PoweredByASPNET.gif")` from `About.aspx` returns `Images/PoweredByASPNET.gif`.</span></span> <span data-ttu-id="4cfce-171">Volání z `~/Admin/Default.aspx`, ale vrátí `../Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-171">Calling it from `~/Admin/Default.aspx`, however, returns `../Images/PoweredByASPNET.gif`.</span></span>

> [!NOTE]
> <span data-ttu-id="4cfce-172">Protože všechny serverové ovládací prvky technologie ASP.NET jsou odvozeny z `Control` třídu, všechny ovládací prvky serveru mají přístup k `ResolveClientUrl` metody.</span><span class="sxs-lookup"><span data-stu-id="4cfce-172">Because all ASP.NET server controls derive from the `Control` class, all server controls have access to the `ResolveClientUrl` method.</span></span> <span data-ttu-id="4cfce-173">Dokonce i pomocí `Page` třída odvozena z `Control` třídy, což znamená, že můžete použít tuto metodu přímo ze stránky technologie ASP.NET použití modelu code-behind tříd.</span><span class="sxs-lookup"><span data-stu-id="4cfce-173">Even the `Page` class derives from the `Control` class, meaning that you can use this method directly from your ASP.NET pages' code-behind classes.</span></span>


### <a name="usingin-the-declarative-markup"></a><span data-ttu-id="4cfce-174">Pomocí`~`v deklarativním označení</span><span class="sxs-lookup"><span data-stu-id="4cfce-174">Using`~`in the Declarative Markup</span></span>

<span data-ttu-id="4cfce-175">Vlastnosti související s adresou URL zahrnují několik ovládacích prvků technologie ASP.NET: má ovládací prvek hypertextového odkazu `NavigateUrl` vlastnost; Image má ovládací prvek `ImageUrl` vlastnost; a tak dále.</span><span class="sxs-lookup"><span data-stu-id="4cfce-175">Several ASP.NET Web controls include URL-related properties: the HyperLink control has a `NavigateUrl` property; the Image control has an `ImageUrl` property; and so on.</span></span> <span data-ttu-id="4cfce-176">Při vykreslování, předejte tyto ovládací prvky jejich hodnoty vlastností související s adresou URL, které `ResolveClientUrl`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-176">When rendered, these controls pass their URL-related property values to `ResolveClientUrl`.</span></span> <span data-ttu-id="4cfce-177">V důsledku toho pokud tyto vlastnosti obsahovat `~` k označení kořenovém adresáři webové aplikace, adresa URL bude upraveno pro platnou relativní adresou URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-177">Consequently, if these properties contain a `~` to indicate the root of the web application, the URL will be modified to a valid relative URL.</span></span>

<span data-ttu-id="4cfce-178">Mějte na paměti, který převádí pouze serverových ovládacích prvků ASP.NET `~` v jejich vlastnosti související s adresou URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-178">Keep in mind that only ASP.NET server controls transform the `~` in their URL-related properties.</span></span> <span data-ttu-id="4cfce-179">Pokud `~` se zobrazí v statický kód HTML, jako například `<img src="~/Images/PoweredByASPNET.gif" />`, odešle modul ASP.NET `~` spolu se zbývajícími obsah HTML v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="4cfce-179">If a `~` appears in static HTML markup, such as `<img src="~/Images/PoweredByASPNET.gif" />`, the ASP.NET engine sends the `~` to the browser along with the rest of the HTML content.</span></span> <span data-ttu-id="4cfce-180">Prohlížeč předpokládá, že `~` je součástí adresy URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-180">The browser assumes that the `~` is part of the URL.</span></span> <span data-ttu-id="4cfce-181">Například, pokud prohlížeč obdrží značky `<img src="~/Images/PoweredByASPNET.gif" />` předpokládá, že je podsložku s názvem `~` podsložku `Images` , která obsahuje soubor bitové kopie `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-181">For example, if the browser receives the markup `<img src="~/Images/PoweredByASPNET.gif" />` it assumes there is a subfolder named `~` with a subfolder `Images` that contains the image file `PoweredByASPNET.gif`.</span></span>

<span data-ttu-id="4cfce-182">K vyřešení značky obrázku v `Site.master`, nahraďte existující `<img>` element s ovládacím prvkem obrázku v prostředí ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="4cfce-182">To fix the image markup in `Site.master`, replace the existing `<img>` element with an ASP.NET Image Web control.</span></span> <span data-ttu-id="4cfce-183">Nastavení ovládacího prvku obrázek webové `ID` k `PoweredByImage`, jeho `ImageUrl` vlastnost `~/Images/PoweredByASPNET.gif`a jeho `AlternateText` vlastnost "Používá technologii ASP.NET!"</span><span class="sxs-lookup"><span data-stu-id="4cfce-183">Set the Image Web control's `ID` to `PoweredByImage`, its `ImageUrl` property to `~/Images/PoweredByASPNET.gif`, and its `AlternateText` property to "Powered by ASP.NET!"</span></span>


[!code-aspx[Main](urls-in-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="4cfce-184">Po provedení této změny na stránce předlohy, opakování `~/Admin/Default.aspx` stránku znovu nezobrazovat.</span><span class="sxs-lookup"><span data-stu-id="4cfce-184">After making this change to the master page, revisit the `~/Admin/Default.aspx` page again.</span></span> <span data-ttu-id="4cfce-185">Tentokrát `PoweredByASPNET.gif` soubor obrázku se zobrazí na stránce (viz obrázek 3).</span><span class="sxs-lookup"><span data-stu-id="4cfce-185">This time the `PoweredByASPNET.gif` image file appears in the page (see Figure 3).</span></span> <span data-ttu-id="4cfce-186">Když je ovládací prvek webu Image vygenerování používá `ResolveClientUrl` metoda vyřešit jeho `ImageUrl` hodnotu vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="4cfce-186">When the Image Web control is rendered it uses the `ResolveClientUrl` method to resolve its `ImageUrl` property value.</span></span> <span data-ttu-id="4cfce-187">V `~/Admin/Default.aspx` `ImageUrl` se převede na příslušnou relativní adresu URL jako následující fragment zobrazí zdroj HTML:</span><span class="sxs-lookup"><span data-stu-id="4cfce-187">In `~/Admin/Default.aspx` the `ImageUrl` is converted into an appropriate relative URL, as the following snippet of HTML source shows:</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample6.html)]

> [!NOTE]
> <span data-ttu-id="4cfce-188">Kromě se používají ve vlastnosti ovládacích prvků webové adresy URL, `~` lze také při volání `Response.Redirect` a `Server.MapPath` metody, mimo jiné.</span><span class="sxs-lookup"><span data-stu-id="4cfce-188">In addition to being used in URL-based Web control properties, the `~` can also be used when calling the `Response.Redirect` and `Server.MapPath` methods, among others.</span></span> <span data-ttu-id="4cfce-189">Navíc `ResolveClientUrl` metody mohou být vyvolány přímo z technologie ASP.NET nebo deklarativním označení stránky předlohy, v případě potřeby; viz [Fritzovi průsvitek](https://www.pluralsight.com/blogs/fritz/)na blogu [použití `ResolveClientUrl` ve značkách](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx).</span><span class="sxs-lookup"><span data-stu-id="4cfce-189">Also, the `ResolveClientUrl` method may be invoked directly from an ASP.NET or master page's declarative markup, if needed; see [Fritz Onion](https://www.pluralsight.com/blogs/fritz/)'s blog entry [Using `ResolveClientUrl` in Markup](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx).</span></span>


## <a name="fixing-the-master-pages-remaining-relative-urls"></a><span data-ttu-id="4cfce-190">Oprava zbývající relativní adresy URL stránky předlohy</span><span class="sxs-lookup"><span data-stu-id="4cfce-190">Fixing the Master Page's Remaining Relative URLs</span></span>

<span data-ttu-id="4cfce-191">Kromě `<img>` prvek `footerContent` , že jsme odstranili, hlavní stránky obsahuje jeden další relativní adresu URL, která vyžaduje pozornost.</span><span class="sxs-lookup"><span data-stu-id="4cfce-191">In addition to the `<img>` element in the `footerContent` that we just fixed, the master page contains one more relative URL that requires our attention.</span></span> <span data-ttu-id="4cfce-192">`topContent` Zahrnuje odkaz "Hlavní stránky kurzy," která odkazuje na oblast `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-192">The `topContent` region includes the link "Master Pages Tutorials," which points to `Default.aspx`.</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample7.html)]

<span data-ttu-id="4cfce-193">Protože tato adresa URL je relativní, uživateli se odešle `Default.aspx` stránku ve složce stránky obsahu se navštívit.</span><span class="sxs-lookup"><span data-stu-id="4cfce-193">Because this URL is relative, it will send the user to the `Default.aspx` page in the folder of the content page they are visiting.</span></span> <span data-ttu-id="4cfce-194">Mít tento odkaz, vždy přejděte na `Default.aspx` v kořenové složce budeme muset nahradit `<a>` tak, že můžeme použít ovládací prvek elementu s webovým hypertextový odkaz `~` zápis.</span><span class="sxs-lookup"><span data-stu-id="4cfce-194">To have this link always point to `Default.aspx` in the root folder we need to replace the `<a>` element with a HyperLink Web control so that we can use the `~` notation.</span></span>

<span data-ttu-id="4cfce-195">Odeberte `<a>` značka elementu a místo něj přidat ovládací prvek hypertextového odkazu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-195">Remove the `<a>` element markup and add a HyperLink control in its place.</span></span> <span data-ttu-id="4cfce-196">Nastavte na hypertextový odkaz `ID` k `lnkHome`, jeho `NavigateUrl` vlastnost `~/Default.aspx`a jeho `Text` vlastnost "Hlavní stránky kurzy."</span><span class="sxs-lookup"><span data-stu-id="4cfce-196">Set the HyperLink's `ID` to `lnkHome`, its `NavigateUrl` property to `~/Default.aspx`, and its `Text` property to "Master Pages Tutorials."</span></span>


[!code-aspx[Main](urls-in-master-pages-cs/samples/sample8.aspx)]

<span data-ttu-id="4cfce-197">Je to!</span><span class="sxs-lookup"><span data-stu-id="4cfce-197">That's it!</span></span> <span data-ttu-id="4cfce-198">V tomto okamžiku všech adres URL v naší hlavní stránky jsou závislosti správně při zobrazení obsahu stránka bez ohledu na to, jaké složky stránky předlohy a obsahu stránky jsou umístěné v.</span><span class="sxs-lookup"><span data-stu-id="4cfce-198">At this point all the URLs in our master page are properly based when rendered by a content page regardless of what folders the master page and content page are located in.</span></span>

### <a name="automatic-url-resolution-in-theheadsection"></a><span data-ttu-id="4cfce-199">URL adresy automatických řešení v`<head>`oddílu</span><span class="sxs-lookup"><span data-stu-id="4cfce-199">Automatic URL Resolution in the`<head>`Section</span></span>

<span data-ttu-id="4cfce-200">V [ *vytváření webu rozložení pomocí stránek předlohy* ](creating-a-site-wide-layout-using-master-pages-cs.md) kurzu jsme přidali `<link>` k `Styles.css` soubor `<head>` oblasti:</span><span class="sxs-lookup"><span data-stu-id="4cfce-200">In the [*Creating a Site-Wide Layout Using Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md) tutorial we added a `<link>` to the `Styles.css` file in the `<head>` region:</span></span>


[!code-aspx[Main](urls-in-master-pages-cs/samples/sample9.aspx)]

<span data-ttu-id="4cfce-201">Zatímco `<link>` elementu `href` atribut je relativní, je automaticky převedena na správnou cestu v době běhu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-201">While the `<link>` element's `href` attribute is relative, it's automatically converted to an appropriate path at runtime.</span></span> <span data-ttu-id="4cfce-202">Jak jsme probírali v [ *zadáním názvu, metaznaček a ostatní hlaviček HTML na stránce předlohy* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) kurzu `<head>` oblasti je ve skutečnosti ovládací prvek na straně serveru, který umožňuje změnit obsah vnitřní ovládacích prvků při vykreslení.</span><span class="sxs-lookup"><span data-stu-id="4cfce-202">As we discussed in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial, the `<head>` region is actually a server-side control, which enables it to modify the contents of its inner controls when it is rendered.</span></span>

<span data-ttu-id="4cfce-203">Chcete-li to ověřit, opakování `~/Admin/Default.aspx` stránky a zobrazit zdrojový kód HTML, který je odesláno prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="4cfce-203">To verify this, revisit the `~/Admin/Default.aspx` page and view the HTML source sent to the browser.</span></span> <span data-ttu-id="4cfce-204">Jak ukazuje následující fragment `<link>` elementu `href` atribut byl automaticky změněn na odpovídající relativní adresu URL, `../Styles.css`.</span><span class="sxs-lookup"><span data-stu-id="4cfce-204">As the snippet below illustrates, the `<link>` element's `href` attribute has been automatically modified to an appropriate relative URL, `../Styles.css`.</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample10.html)]

## <a name="summary"></a><span data-ttu-id="4cfce-205">Souhrn</span><span class="sxs-lookup"><span data-stu-id="4cfce-205">Summary</span></span>

<span data-ttu-id="4cfce-206">Hlavní stránky velmi často obsahují odkazy, obrázky a další externí prostředky, které musí být zadán prostřednictvím adresy URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-206">Master pages very often include links, images, and other external resources that must be specified via a URL.</span></span> <span data-ttu-id="4cfce-207">Stránky předlohy a obsahu stránek nemusí existovat ve stejné složce, proto je důležité zdržet relativní adresy URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-207">Because the master page and content pages might not exist in the same folder, it is important to abstain from using relative URLs.</span></span> <span data-ttu-id="4cfce-208">I když je možné použít pevně zakódované absolutní adresy URL, to tedy úzce páry v odstupu absolutní adresu URL na webovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="4cfce-208">While it is possible to use hard coded absolute URLs, doing so tightly couples the absolute URL to the web application.</span></span> <span data-ttu-id="4cfce-209">Pokud se absolutní adresa URL změní – jak často se při přesunutí nebo nasazení webové aplikace – budete mít Nezapomeňte přejít zpět a aktualizovat absolutní adresy URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-209">If the absolute URL changes - as it often does when moving or deploying a web application - you'll have to remember to go back and update the absolute URLs.</span></span>

<span data-ttu-id="4cfce-210">Ideální přístupem je použití tilda (`~`) k označení kořenový adresář aplikace.</span><span class="sxs-lookup"><span data-stu-id="4cfce-210">The ideal approach is to use the tilde (`~`) to indicate the application root.</span></span> <span data-ttu-id="4cfce-211">Ovládací prvky technologie ASP.NET, obsahující vlastnosti související s adresou URL, které mapují `~` do kořenového adresáře aplikace za běhu.</span><span class="sxs-lookup"><span data-stu-id="4cfce-211">ASP.NET Web controls that contain URL-related properties map the `~` to the application root at runtime.</span></span> <span data-ttu-id="4cfce-212">Interně, použijte ovládací prvky webového `Control` třídy `ResolveClientUrl` metoda ke generování platnou relativní adresou URL.</span><span class="sxs-lookup"><span data-stu-id="4cfce-212">Internally, the Web controls use the `Control` class's `ResolveClientUrl` method to generate a valid relative URL.</span></span> <span data-ttu-id="4cfce-213">Tato metoda je veřejná a dostupná z každé serverový ovládací prvek (včetně `Page` třídy), takže můžete prostřednictvím kódu programu z vašeho použití modelu code-behind třídy, v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="4cfce-213">This method is public and available from every server control (including the `Page` class), so you can use it programmatically from your code-behind classes, if needed.</span></span>

<span data-ttu-id="4cfce-214">Všechno nejlepší programování!</span><span class="sxs-lookup"><span data-stu-id="4cfce-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="4cfce-215">Další čtení</span><span class="sxs-lookup"><span data-stu-id="4cfce-215">Further Reading</span></span>

<span data-ttu-id="4cfce-216">Další informace o tématech, které jsou popsané v tomto kurzu najdete na následujících odkazech:</span><span class="sxs-lookup"><span data-stu-id="4cfce-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="4cfce-217">Stránky předlohy v ASP.NET</span><span class="sxs-lookup"><span data-stu-id="4cfce-217">Master Pages in ASP.NET</span></span>](http://www.odetocode.com/Articles/419.aspx)
- [<span data-ttu-id="4cfce-218">Adresa URL probíhá přenesení změn do hlavní stránky</span><span class="sxs-lookup"><span data-stu-id="4cfce-218">URL Rebasing in a Master Page</span></span>](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/masterpages/default.aspx#urls)
- [<span data-ttu-id="4cfce-219">Pomocí `ResolveClientUrl` v kódu</span><span class="sxs-lookup"><span data-stu-id="4cfce-219">Using `ResolveClientUrl` in Markup</span></span>](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx)

### <a name="about-the-author"></a><span data-ttu-id="4cfce-220">O autorovi</span><span class="sxs-lookup"><span data-stu-id="4cfce-220">About the Author</span></span>

<span data-ttu-id="4cfce-221">[Scott Meisnerová](http://www.4guysfromrolla.com/ScottMitchell.shtml), Autor více ASP/ASP.NET knih a Zakladatel 4GuysFromRolla.com pracuje s Microsoft webových technologií od roku 1998.</span><span class="sxs-lookup"><span data-stu-id="4cfce-221">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="4cfce-222">Scott funguje jako nezávislý konzultant, trainer a zapisovače.</span><span class="sxs-lookup"><span data-stu-id="4cfce-222">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="4cfce-223">Jeho nejnovější knihy [ *Edice nakladatelství Sams naučit sami technologie ASP.NET 3.5 za 24 hodin*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="4cfce-223">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="4cfce-224">Scott může být dostupný na adrese [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) nebo prostřednictvím na svém blogu [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="4cfce-224">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="4cfce-225">Speciální k</span><span class="sxs-lookup"><span data-stu-id="4cfce-225">Special Thanks To</span></span>

<span data-ttu-id="4cfce-226">Zajímat téma Moje nadcházejících článcích MSDN?</span><span class="sxs-lookup"><span data-stu-id="4cfce-226">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="4cfce-227">Pokud ano, vyřaďte mě řádek na [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com).</span><span class="sxs-lookup"><span data-stu-id="4cfce-227">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="4cfce-228">[Předchozí](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md)
> [další](control-id-naming-in-content-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="4cfce-228">[Previous](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md)
[Next](control-id-naming-in-content-pages-cs.md)</span></span>
