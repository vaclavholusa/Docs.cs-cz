---
uid: web-pages/overview/data/7-displaying-data-in-a-chart
title: Zobrazení dat v grafu s webovými stránkami ASP.NET (Razor) | Dokumentace Microsoftu
author: microsoft
description: Tato kapitola popisuje způsob zobrazení dat v grafu. V předchozích kapitol jste zjistili, jak zobrazit data ručně a v tabulce. Tato kapitola popisuje...
ms.author: riande
ms.date: 05/22/2012
ms.assetid: f889fd46-4dac-4ecb-83d8-60e64c22036e
msc.legacyurl: /web-pages/overview/data/7-displaying-data-in-a-chart
msc.type: authoredcontent
ms.openlocfilehash: 00529355476e88c47ab790121ae77202aa5e7b76
ms.sourcegitcommit: 45ac74e400f9f2b7dbded66297730f6f14a4eb25
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/16/2018
ms.locfileid: "41752399"
---
<a name="displaying-data-in-a-chart-with-aspnet-web-pages-razor"></a><span data-ttu-id="ab2f9-105">Zobrazení dat v grafu s webovými stránkami ASP.NET (Razor)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-105">Displaying Data in a Chart with ASP.NET Web Pages (Razor)</span></span>
====================
<span data-ttu-id="ab2f9-106">podle [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-106">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="ab2f9-107">Tento článek vysvětluje, jak pomocí grafu pro zobrazení dat na webu rozhraní ASP.NET Web Pages (Razor) s použitím `Chart` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-107">This article explains how to use a chart to display data in an ASP.NET Web Pages (Razor) website by using the `Chart` helper.</span></span>
> 
> <span data-ttu-id="ab2f9-108">**Co se dozvíte**:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-108">**What you'll learn**:</span></span>
> 
> - <span data-ttu-id="ab2f9-109">Postup zobrazení dat v grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-109">How to display data in a chart.</span></span>
> - <span data-ttu-id="ab2f9-110">Jak styl grafy pomocí předdefinované motivy.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-110">How to style charts using built-in themes.</span></span>
> - <span data-ttu-id="ab2f9-111">Jak ukládat grafy a jak pro ukládání do mezipaměti pro zajištění lepšího výkonu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-111">How to save charts and how to cache them for better performance.</span></span>
> 
> <span data-ttu-id="ab2f9-112">Toto jsou ASP.NET programování funkcí představených v následujícím článku:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-112">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="ab2f9-113">`Chart` Pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-113">The `Chart` helper.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="ab2f9-114">Informace v tomto článku se vztahují na 1.0 webových stránek ASP.NET a Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-114">The information in this article applies to ASP.NET Web Pages 1.0 and Web Pages 2.</span></span>


<a id="The_Chart_Helper"></a>
## <a name="the-chart-helper"></a><span data-ttu-id="ab2f9-115">Pomocné rutiny grafu</span><span class="sxs-lookup"><span data-stu-id="ab2f9-115">The Chart Helper</span></span>

<span data-ttu-id="ab2f9-116">Pokud chcete zobrazit data v grafické podobě, můžete použít `Chart` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-116">When you want to display your data in graphical form, you can use `Chart` helper.</span></span> <span data-ttu-id="ab2f9-117">`Chart` Pomocné rutiny může mít za následek bitovou kopii, která zobrazí data v různých typů grafů.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-117">The `Chart` helper can render an image that displays data in a variety of chart types.</span></span> <span data-ttu-id="ab2f9-118">Podporuje řadu možností pro formátování a používání popisků.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-118">It supports many options for formatting and labeling.</span></span> <span data-ttu-id="ab2f9-119">`Chart` Pomocné rutiny může mít za následek více než 30 typů grafů, včetně všech typů grafů, které je možné, že znáte z Microsoft Excelu nebo jiné nástroje &#8212; plošné grafy, pruhový, sloupcový graf, spojnicové grafy a výsečové grafy, společně s více specializované grafů, jako jsou Burzovní grafy.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-119">The `Chart` helper can render more than 30 types of charts, including all the types of charts that you might be familiar with from Microsoft Excel or other tools &#8212; area charts, bar charts, column charts, line charts, and pie charts, along with more specialized charts like stock charts.</span></span>

| <span data-ttu-id="ab2f9-120">**Plošný graf** ![Popis: obrázek typu oblasti grafu](7-displaying-data-in-a-chart/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-120">**Area chart** ![Description: Picture of the Area chart type](7-displaying-data-in-a-chart/_static/image1.jpg)</span></span> | <span data-ttu-id="ab2f9-121">**Pruhový graf** ![Popis: obrázek typ pruhového grafu](7-displaying-data-in-a-chart/_static/image2.jpg)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-121">**Bar chart** ![Description: Picture of the Bar chart type](7-displaying-data-in-a-chart/_static/image2.jpg)</span></span> |
| --- | --- |
| <span data-ttu-id="ab2f9-122">**Sloupcový graf** ![Popis: obrázek sloupcový graf](7-displaying-data-in-a-chart/_static/image3.jpg)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-122">**Column chart** ![Description: Picture of the Column chart type](7-displaying-data-in-a-chart/_static/image3.jpg)</span></span> | <span data-ttu-id="ab2f9-123">**Spojnicový graf** ![Popis: obrázek grafu typu řádku](7-displaying-data-in-a-chart/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-123">**Line chart** ![Description: Picture of the Line chart type](7-displaying-data-in-a-chart/_static/image4.jpg)</span></span> |
| <span data-ttu-id="ab2f9-124">**Výsečový graf** ![Popis: obrázek typu výsečový graf](7-displaying-data-in-a-chart/_static/image5.jpg)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-124">**Pie chart** ![Description: Picture of the Pie chart type](7-displaying-data-in-a-chart/_static/image5.jpg)</span></span> | <span data-ttu-id="ab2f9-125">**Graf kurzů akcií** ![Popis: obrázek uložený typ grafu](7-displaying-data-in-a-chart/_static/image6.jpg)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-125">**Stock chart** ![Description: Picture of the Stock chart type](7-displaying-data-in-a-chart/_static/image6.jpg)</span></span> |

### <a name="chart-elements"></a><span data-ttu-id="ab2f9-126">Prvky grafu</span><span class="sxs-lookup"><span data-stu-id="ab2f9-126">Chart Elements</span></span>

<span data-ttu-id="ab2f9-127">Grafy zobrazují data a další prvky jako legendy, osy, řady a tak dále.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-127">Charts show data and additional elements like legends, axes, series, and so on.</span></span> <span data-ttu-id="ab2f9-128">Následující obrázek ukazuje mnoho prvků grafu, které můžete přizpůsobit, pokud použijete `Chart` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-128">The following picture shows many of the chart elements that you can customize when you use the `Chart` helper.</span></span> <span data-ttu-id="ab2f9-129">V tomto článku se dozvíte, jak nastavit některé (ne všechny) z těchto elementů.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-129">This article shows you how to set some (not all) of these elements.</span></span>

![Popis: Obrázek prvky grafu](7-displaying-data-in-a-chart/_static/image7.jpg)

<a id="Creating_a_Chart"></a>
## <a name="creating-a-chart-from-data"></a><span data-ttu-id="ab2f9-131">Vytváří se graf z dat</span><span class="sxs-lookup"><span data-stu-id="ab2f9-131">Creating a Chart from Data</span></span>

<span data-ttu-id="ab2f9-132">Data, která se zobrazí v grafu lze z pole, ve výsledcích vrácených z databáze nebo data, která jsou v souboru XML.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-132">The data you display in a chart can be from an array, from the results returned from a database, or from data that's in an XML file.</span></span>

### <a name="using-an-array"></a><span data-ttu-id="ab2f9-133">Pomocí pole</span><span class="sxs-lookup"><span data-stu-id="ab2f9-133">Using an Array</span></span>

<span data-ttu-id="ab2f9-134">Jak je vysvětleno v [Úvod do ASP.NET Web Pages programování pomocí syntaxe Razor](https://go.microsoft.com/fwlink/?LinkId=202890), pole umožňuje do jedné proměnné ukládat kolekci podobných položek.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-134">As explained in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890), an array lets you store a collection of similar items in a single variable.</span></span> <span data-ttu-id="ab2f9-135">Pole můžete použít tak, aby obsahovala data, která chcete zahrnout do grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-135">You can use arrays to contain the data that you want to include in your chart.</span></span>

<span data-ttu-id="ab2f9-136">Tento postup ukazuje, jak můžete vytvořit graf z dat v polích pomocí výchozí typ grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-136">This procedure shows how you can create a chart from data in arrays, using the default chart type.</span></span> <span data-ttu-id="ab2f9-137">Také ukazuje, jak zobrazit graf v rámci stránky.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-137">It also shows how to display the chart within the page.</span></span>

1. <span data-ttu-id="ab2f9-138">Vytvořte nový soubor s názvem *ChartArrayBasic.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-138">Create a new file named *ChartArrayBasic.cshtml*.</span></span>
2. <span data-ttu-id="ab2f9-139">Nahraďte existující obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-139">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample1.cshtml)]

    <span data-ttu-id="ab2f9-140">Kód nejprve vytvoří nový graf a nastaví její šířku a výšku.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-140">The code first creates a new chart and sets its width and height.</span></span> <span data-ttu-id="ab2f9-141">Zadejte název grafu pomocí `AddTitle` metody.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-141">You specify the chart title by using the `AddTitle` method.</span></span> <span data-ttu-id="ab2f9-142">Chcete-li přidat data, použijete `AddSeries` metody.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-142">To add data, you use the `AddSeries` method.</span></span> <span data-ttu-id="ab2f9-143">V tomto příkladu použijete `name`, `xValue`, a `yValues` parametry `AddSeries` metody.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-143">In this example, you use the `name`, `xValue`, and `yValues` parameters of the `AddSeries` method.</span></span> <span data-ttu-id="ab2f9-144">`name` Parametrů se zobrazí v legendě grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-144">The `name` parameter is displayed in the chart legend.</span></span> <span data-ttu-id="ab2f9-145">`xValue` Parametr obsahuje pole dat, které se zobrazují podél horizontální osy grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-145">The `xValue` parameter contains an array of data that's displayed along the horizontal axis of the chart.</span></span> <span data-ttu-id="ab2f9-146">`yValues` Parametr obsahuje pole dat, který slouží k vykreslení vertikálních bodů grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-146">The `yValues` parameter contains an array of data that's used to plot the vertical points of the chart.</span></span>

    <span data-ttu-id="ab2f9-147">`Write` Metoda ve skutečnosti vykreslí grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-147">The `Write` method actually renders the chart.</span></span> <span data-ttu-id="ab2f9-148">V tomto případě, protože jste neurčili, nevložily typu grafu `Chart` výchozí graf, který sloupcový graf vykresluje pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-148">In this case, because you didn't specify a chart type, the `Chart` helper renders its default chart, which is a column chart.</span></span>
3. <span data-ttu-id="ab2f9-149">Spuštění stránky v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-149">Run the page in the browser.</span></span> <span data-ttu-id="ab2f9-150">Prohlížeč zobrazí v grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-150">The browser displays the chart.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image8.jpg)

### <a name="using-a-database-query-for-chart-data"></a><span data-ttu-id="ab2f9-151">Použití databázového dotazu pro Data grafu</span><span class="sxs-lookup"><span data-stu-id="ab2f9-151">Using a Database Query for Chart Data</span></span>

<span data-ttu-id="ab2f9-152">Pokud jsou informace, které chcete graf v databázi, můžete spustit dotaz na databázi a pak použít data z výsledků k vytvoření grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-152">If the information you want to chart is in a database, you can run a database query and then use data from the results to create the chart.</span></span> <span data-ttu-id="ab2f9-153">Tento postup ukazuje, jak číst a zobrazení dat z databáze vytvoří v následujícím článku [Úvod k práci s databází na webech ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="ab2f9-153">This procedure shows you how to read and display the data from the database created in the article [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>

1. <span data-ttu-id="ab2f9-154">Přidat *aplikace\_Data* složku do kořenového adresáře webu, pokud složce již neexistuje.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-154">Add an *App\_Data* folder to the root of the website if the folder does not already exist.</span></span>
2. <span data-ttu-id="ab2f9-155">V *aplikace\_Data* složky, přidejte soubor databáze s názvem *SmallBakery.sdf* , který je popsaný v [Úvod k práci s databází v ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="ab2f9-155">In the *App\_Data* folder, add the database file named *SmallBakery.sdf* that's described in [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>
3. <span data-ttu-id="ab2f9-156">Vytvořte nový soubor s názvem *ChartDataQuery.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-156">Create a new file named *ChartDataQuery.cshtml*.</span></span>
4. <span data-ttu-id="ab2f9-157">Nahraďte existující obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-157">Replace the existing content with the following:</span></span>   

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample2.cshtml)]

    <span data-ttu-id="ab2f9-158">Kód nejprve otevře SmallBakery databáze a přiřadí ji k proměnné s názvem `db`.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-158">The code first opens the SmallBakery database and assigns it to a variable named `db`.</span></span> <span data-ttu-id="ab2f9-159">Představuje tuto proměnnou `Database` objekt, který je možné číst z a zapisovat do databáze.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-159">This variable represents a `Database` object that can be used to read from and write to the database.</span></span> <span data-ttu-id="ab2f9-160">V dalším kroku spuštění kódu jazyka SQL k získání názvu a ceny jednotlivých produktů.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-160">Next, the code runs a SQL query to get the name and price of each product.</span></span> <span data-ttu-id="ab2f9-161">Kód vytvoří nový graf a předá dotaz databáze pomocí volání grafu `DataBindTable` metody.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-161">The code creates a new chart and passes the database query to it by calling the chart's `DataBindTable` method.</span></span> <span data-ttu-id="ab2f9-162">Tato metoda přebírá dva parametry: `dataSource` parametr je pro data z dotazu a `xField` parametr umožňuje nastavit, které sloupce dat se používá pro osy x grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-162">This method takes two parameters: the `dataSource` parameter is for the data from the query, and the `xField` parameter lets you set which data column is used for the chart's x-axis.</span></span>

    <span data-ttu-id="ab2f9-163">Jako alternativu k použití `DataBindTable` metodu, můžete použít `AddSeries` metodu `Chart` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-163">As an alternative to using the `DataBindTable` method, you can use the `AddSeries` method of the `Chart` helper.</span></span> <span data-ttu-id="ab2f9-164">`AddSeries` Metoda vám umožňuje nastavit `xValue` a `yValues` parametry.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-164">The `AddSeries` method lets you set the `xValue` and `yValues` parameters.</span></span> <span data-ttu-id="ab2f9-165">Například místo použití `DataBindTable` metoda takto:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-165">For example, instead of using the `DataBindTable` method like this:</span></span>

    [!code-css[Main](7-displaying-data-in-a-chart/samples/sample3.css)]

    <span data-ttu-id="ab2f9-166">Můžete použít `AddSeries` metoda takto:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-166">You can use the `AddSeries` method like this:</span></span>

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample4.html)]

    <span data-ttu-id="ab2f9-167">Jak se vykreslují stejné výsledky.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-167">Both render the same results.</span></span> <span data-ttu-id="ab2f9-168">`AddSeries` Metoda je flexibilnější, protože typ grafu a dat můžete určit více explicitně, ale `DataBindTable` způsob je jednodušší použít, pokud není nutné mimořádná flexibilita.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-168">The `AddSeries` method is more flexible because you can specify the chart type and data more explicitly, but the `DataBindTable` method is easier to use if you don't need the extra flexibility.</span></span>
5. <span data-ttu-id="ab2f9-169">Spuštění stránky v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-169">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image9.jpg)

### <a name="using-xml-data"></a><span data-ttu-id="ab2f9-170">Pomocí dat XML</span><span class="sxs-lookup"><span data-stu-id="ab2f9-170">Using XML Data</span></span>

<span data-ttu-id="ab2f9-171">Třetí možnost pro vytvoření grafu je použít soubor XML jako data grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-171">The third option for charting is to use an XML file as the data for the chart.</span></span> <span data-ttu-id="ab2f9-172">To vyžaduje, že soubor XML také mít schéma soubor (*XSD* souboru), který popisuje struktuře XML.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-172">This requires that the XML file also have a schema file (*.xsd* file) that describes the XML structure.</span></span> <span data-ttu-id="ab2f9-173">Tento postup ukazuje, jak číst data ze souboru XML.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-173">This procedure shows you how to read data from an XML file.</span></span>

1. <span data-ttu-id="ab2f9-174">V *aplikace\_Data* složku, vytvořte nový soubor XML s názvem *data.xml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-174">In the *App\_Data* folder, create a new XML file named *data.xml*.</span></span>
2. <span data-ttu-id="ab2f9-175">Nahraďte stávající kód XML následující text, který je některá data XML o zaměstnance ve fiktivní společnosti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-175">Replace the existing XML with the following, which is some XML data about employees in a fictional company.</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample5.xml)]
3. <span data-ttu-id="ab2f9-176">V *aplikace\_Data* složku, vytvořte nový soubor XML s názvem *data.xsd*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-176">In the *App\_Data* folder, create a new XML file named *data.xsd*.</span></span> <span data-ttu-id="ab2f9-177">(Všimněte si, že rozšíření je nyní *XSD*.)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-177">(Note that the extension this time is *.xsd*.)</span></span>
4. <span data-ttu-id="ab2f9-178">Nahraďte existující soubor XML s následujícími možnostmi:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-178">Replace the existing XML with the following:</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample6.xml)]
5. <span data-ttu-id="ab2f9-179">V kořenovém adresáři webu vytvořte nový soubor s názvem *ChartDataXML.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-179">In the root of the website, create a new file named *ChartDataXML.cshtml*.</span></span>
6. <span data-ttu-id="ab2f9-180">Nahraďte existující obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-180">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample7.cshtml)]

    <span data-ttu-id="ab2f9-181">Kód nejprve vytvoří `DataSet` objektu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-181">The code first creates a `DataSet` object.</span></span> <span data-ttu-id="ab2f9-182">Tento objekt se používá ke správě dat, která je pro čtení ze souboru XML a uspořádat je podle informací v souboru schématu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-182">This object is used to manage the data that's read from the XML file and organize it according to the information in the schema file.</span></span> <span data-ttu-id="ab2f9-183">(Všimněte si, že horní části kódu obsahuje příkaz `using SystemData`.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-183">(Notice that the top of the code includes the statement `using SystemData`.</span></span> <span data-ttu-id="ab2f9-184">Je to nutné, aby bylo možné pracovat `DataSet` objektu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-184">This is required in order to be able to work with the `DataSet` object.</span></span> <span data-ttu-id="ab2f9-185">Další informace najdete v tématu [ &quot;použití&quot; příkazy a plně kvalifikované názvy](#SB_UsingStatements) dále v tomto článku.)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-185">For more information, see [&quot;Using&quot; Statements and Fully Qualified Names](#SB_UsingStatements) later in this article.)</span></span>

    <span data-ttu-id="ab2f9-186">V dalším kroku se vytvoří kód `DataView` objektu podle datové sady.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-186">Next, the code creates a `DataView` object based on the dataset.</span></span> <span data-ttu-id="ab2f9-187">Zobrazení dat obsahuje objekt, který lze svázat grafu &#8212; to znamená, přečtěte si a vykreslení.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-187">The data view provides an object that the chart can bind to &#8212; that is, read and plot.</span></span> <span data-ttu-id="ab2f9-188">Sváže data s využitím grafu `AddSeries` metody, jako je viděli dříve při dat pole, s výjimkou, že na graf tentokrát `xValue` a `yValues` parametry jsou nastaveny na `DataView` objektu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-188">The chart binds to the data using the `AddSeries` method, as you saw earlier when charting the array data, except that this time the `xValue` and `yValues` parameters are set to the `DataView` object.</span></span>

    <span data-ttu-id="ab2f9-189">Tento příklad také ukazuje, jak zadat typ konkrétní graf.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-189">This example also shows you how to specify a particular chart type.</span></span> <span data-ttu-id="ab2f9-190">Při přidání dat do `AddSeries` metody `chartType` parametr je také nastavena na zobrazení výsečového grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-190">When the data is added in the `AddSeries` method, the `chartType` parameter is also set to display a pie chart.</span></span>
7. <span data-ttu-id="ab2f9-191">Spuštění stránky v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-191">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image10.jpg)

> [!TIP]
> 
> <a id="SB_UsingStatements"></a>
> ### <a name="using-statements-and-fully-qualified-names"></a><span data-ttu-id="ab2f9-192">"Pomocí" příkazy a plně kvalifikované názvy</span><span class="sxs-lookup"><span data-stu-id="ab2f9-192">"Using" Statements and Fully Qualified Names</span></span>
> 
> <span data-ttu-id="ab2f9-193">ASP.NET Web Pages se syntaxí Razor založené na rozhraní .NET Framework se skládá z mnoha tisícům součásti (třídy).</span><span class="sxs-lookup"><span data-stu-id="ab2f9-193">The .NET Framework that ASP.NET Web Pages with Razor syntax is based on consists of many thousands of components (classes).</span></span> <span data-ttu-id="ab2f9-194">Aby se daly spravovat pro práci s všechny tyto třídy, jsou uspořádány do *obory názvů*, což je něco jako knihovny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-194">To make it manageable to work with all these classes, they're organized into *namespaces*, which are somewhat like libraries.</span></span> <span data-ttu-id="ab2f9-195">Například `System.Web` obor názvů obsahuje třídy, které podporují komunikaci mezi serverem a prohlížečem, `System.Xml` obor názvů obsahuje třídy, které se používají k vytvoření a čtení souborů XML a `System.Data` obor názvů obsahuje třídy, které umožňují pracovat s daty.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-195">For example, the `System.Web` namespace contains classes that support browser/server communication, the `System.Xml` namespace contains classes that are used to create and read XML files, and the `System.Data` namespace contains classes that let you work with data.</span></span>
> 
> <span data-ttu-id="ab2f9-196">Za účelem přístupu k jakékoli dané třídy v rozhraní .NET Framework, potřebuje vědět, ne jenom název třídy, ale také obor názvů, třída je v kódu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-196">In order to access any given class in the .NET Framework, code needs to know not just the class name, but also the namespace that the class is in.</span></span> <span data-ttu-id="ab2f9-197">Například, chcete-li použít `Chart` pomocné rutiny, kód potřebuje najít `System.Web.Helpers.Chart` třída, která kombinuje obor názvů (`System.Web.Helpers`) s názvem třídy (`Chart`).</span><span class="sxs-lookup"><span data-stu-id="ab2f9-197">For example, in order to use the `Chart` helper, code needs to find the `System.Web.Helpers.Chart` class, which combines the namespace (`System.Web.Helpers`) with the class name (`Chart`).</span></span> <span data-ttu-id="ab2f9-198">To se označuje jako třídy *plně kvalifikovaný* název &#8212; jednoznačnou, kompletní umístění v rámci vastness rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-198">This is known as the class's *fully-qualified* name &#8212; its complete, unambiguous location within the vastness of the .NET Framework.</span></span> <span data-ttu-id="ab2f9-199">V kódu bude vypadat nějak takto:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-199">In code, this would look like the following:</span></span>
> 
> `var myChart = new System.Web.Helpers.Chart(width: 600, height: 400) // etc.`
> 
> <span data-ttu-id="ab2f9-200">Je však náročný (a náchylné k chybám) k použití těchto dlouhý, plně kvalifikovaných názvů pokaždé, když chcete odkazovat na třídu nebo pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-200">However, it's cumbersome (and error prone) to have to use these long, fully-qualified names every time you want to refer to a class or helper.</span></span> <span data-ttu-id="ab2f9-201">Proto, aby bylo snazší používat názvy tříd, můžete *importovat* obory názvů vás zajímá, což je obvykle je jenom několik z mnoha obory názvů v rozhraní .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-201">Therefore, to make it easier to use class names, you can *import* the namespaces you're interested in, which is usually is just a handful from among the many namespaces in the .NET Framework.</span></span> <span data-ttu-id="ab2f9-202">Pokud importujete obor názvů, můžete použít jenom název třídy (`Chart`) namísto plně kvalifikovaný název (`System.Web.Helpers.Chart`).</span><span class="sxs-lookup"><span data-stu-id="ab2f9-202">If you've imported a namespace, you can use just a class name (`Chart`) instead of the fully qualified name (`System.Web.Helpers.Chart`).</span></span> <span data-ttu-id="ab2f9-203">Pokud váš kód běží a zaznamená název třídy, může vypadat v právě obory názvů, která jste naimportovali najít tuto třídu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-203">When your code runs and encounters a class name, it can look in just the namespaces you've imported to find that class.</span></span>
> 
> <span data-ttu-id="ab2f9-204">Když použijete rozhraní ASP.NET Web Pages se syntaxí Razor k vytvoření webové stránky, obvykle použijete stejné sady tříd pokaždé, když, včetně `WebPage` třídy, různé pomocné rutiny a tak dále.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-204">When you use ASP.NET Web Pages with Razor syntax to create web pages, you typically use the same set of classes each time, including the `WebPage` class, the various helpers, and so on.</span></span> <span data-ttu-id="ab2f9-205">Chcete-li uložit práci import příslušných oborů názvů pokaždé, když vytvoříte web, technologie ASP.NET je konfigurována tak automaticky importuje Sada oborů názvů jádra pro každý web.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-205">To save you the work of importing the relevant namespaces every time you create a website, ASP.NET is configured so it automatically imports a set of core namespaces for every website.</span></span> <span data-ttu-id="ab2f9-206">To je důvod, proč ještě museli vypořádat s obory názvů nebo import až nyní; všechny třídy, kterou jste pracovali s jsou v oborech názvů, které již byly naimportovány za vás.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-206">That's why you haven't had to deal with namespaces or importing up to now; all the classes you've worked with are in namespaces that are already imported for you.</span></span>
> 
> <span data-ttu-id="ab2f9-207">Ale někdy potřebujete pro práci s třídou, která není v oboru názvů, který je automaticky importován za vás.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-207">However, sometimes you need to work with a class that isn't in a namespace that's automatically imported for you.</span></span> <span data-ttu-id="ab2f9-208">V takovém případě můžete použít buď plně kvalifikovaný název této třídy, nebo lze ručně importovat obor názvů obsahující třídu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-208">In that case, you can either use that class's fully-qualified name, or you can manually import the namespace that contains the class.</span></span> <span data-ttu-id="ab2f9-209">Import oboru názvů, můžete použít `using` – příkaz (`import` v jazyce Visual Basic), jak jste viděli dříve v příkladu článku.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-209">To import a namespace, you use the `using` statement (`import` in Visual Basic), as you saw in an example earlier the article.</span></span>
> 
> <span data-ttu-id="ab2f9-210">Například `DataSet` hodina může začít `System.Data` oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-210">For example, the `DataSet` class is in the `System.Data` namespace.</span></span> <span data-ttu-id="ab2f9-211">`System.Data` Obor názvů není automaticky k dispozici pro stránky ASP.NET Razor.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-211">The `System.Data` namespace is not automatically available to ASP.NET Razor pages.</span></span> <span data-ttu-id="ab2f9-212">Proto pro práci s `DataSet` pomocí jeho plně kvalifikovaného názvu třídy, můžete použít kód následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-212">Therefore, to work with the `DataSet` class using its fully qualified name, you can use code like this:</span></span>
> 
> `var dataSet = new System.Data.DataSet();`
> 
> <span data-ttu-id="ab2f9-213">Pokud je nutné použít `DataSet` opakovaně třídy můžete importovat oboru názvů následujícím způsobem a pak použít jenom název třídy v kódu:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-213">If you have to use the `DataSet` class repeatedly you can import a namespace like this and then use just the class name in code:</span></span>
> 
> [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample8.cshtml)]
> 
> <span data-ttu-id="ab2f9-214">Můžete přidat `using` příkazy pro všechny ostatní obory názvů rozhraní .NET Framework, která se má odkazovat.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-214">You can add `using` statements for any other .NET Framework namespaces that you want to reference.</span></span> <span data-ttu-id="ab2f9-215">Ale jak bylo uvedeno, nemusíte k tomu často, protože většina tříd, které budete pracovat s jsou v oborech názvů, které jsou importovány automaticky pomocí technologie ASP.NET pro použití v *.cshtml* a *.vbhtml* stránky.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-215">However, as noted, you won't need to do this often, because most of the classes that you'll work with are in namespaces that are imported automatically by ASP.NET for use in *.cshtml* and *.vbhtml* pages.</span></span>


<a id="Displaying_Charts"></a>
## <a name="displaying-charts-inside-a-web-page"></a><span data-ttu-id="ab2f9-216">Zobrazení grafů na webové stránce</span><span class="sxs-lookup"><span data-stu-id="ab2f9-216">Displaying Charts Inside a Web Page</span></span>

<span data-ttu-id="ab2f9-217">V příkladech jste viděli zatím, vytvoření grafu a pak je graf vykreslen přímo do prohlížeče jako grafika.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-217">In the examples you've seen so far, you create a chart and then the chart is rendered directly to the browser as a graphic.</span></span> <span data-ttu-id="ab2f9-218">V mnoha případech je však chcete zobrazit graf jako součást stránky, ne jenom sám o sobě v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-218">In many cases, though, you want to display a chart as part of a page, not just by itself in the browser.</span></span> <span data-ttu-id="ab2f9-219">K tomu vyžaduje dvoustupňový proces.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-219">To do that requires a two-step process.</span></span> <span data-ttu-id="ab2f9-220">Prvním krokem je vytvoření stránky, který generuje graf, jak jsme už jednou vyskytl.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-220">The first step is to create a page that generates the chart, as you've already seen.</span></span>

<span data-ttu-id="ab2f9-221">Druhým krokem je zobrazíte výsledná bitová kopie v jiné stránce.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-221">The second step is to display the resulting image in another page.</span></span> <span data-ttu-id="ab2f9-222">A zobrazte obrázek, použijete HTML `<img>` element ve stejném způsobem, jakým byste pro zobrazení libovolné obrázku.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-222">To display the image, you use an HTML `<img>` element, in the same way you would to display any image.</span></span> <span data-ttu-id="ab2f9-223">Však namísto odkazování *.jpg* nebo *.png* soubor, `<img>` elementu odkazy *.cshtml* soubor, který obsahuje `Chart` pomocné rutiny, který vytvoří graf.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-223">However, instead of referencing a *.jpg* or *.png* file, the `<img>` element references the *.cshtml* file that contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="ab2f9-224">Při spuštění zobrazení stránky, `<img>` prvku předá výstup `Chart` pomocné rutiny a vykreslí grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-224">When the display page runs, the `<img>` element gets the output of the `Chart` helper and renders the chart.</span></span>

![](7-displaying-data-in-a-chart/_static/image11.jpg)

1. <span data-ttu-id="ab2f9-225">Vytvořte soubor s názvem *ShowChart.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-225">Create a file named *ShowChart.cshtml*.</span></span>
2. <span data-ttu-id="ab2f9-226">Nahraďte existující obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-226">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample9.html)]

    <span data-ttu-id="ab2f9-227">Tento kód použije `<img>` element zobrazuje graf, který jste vytvořili dříve v *ChartArrayBasic.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-227">The code uses the `<img>` element to display the chart that you created earlier in the *ChartArrayBasic.cshtml* file.</span></span>
3. <span data-ttu-id="ab2f9-228">Spusťte webovou stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-228">Run the web page in a browser.</span></span> <span data-ttu-id="ab2f9-229">*ShowChart.cshtml* zobrazí obrázek grafu na základě kódu obsažené v souboru *ChartArrayBasic.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-229">The *ShowChart.cshtml* file displays the chart image based on the code contained in the *ChartArrayBasic.cshtml* file.</span></span>

<a id="Styling_a_Chart"></a>
## <a name="styling-a-chart"></a><span data-ttu-id="ab2f9-230">Práce se styly grafu</span><span class="sxs-lookup"><span data-stu-id="ab2f9-230">Styling a Chart</span></span>

<span data-ttu-id="ab2f9-231">`Chart` Pomocné rutiny podporuje spoustu možností, které umožňují přizpůsobit vzhled grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-231">The `Chart` helper supports a large number of options that let you customize the appearance of the chart.</span></span> <span data-ttu-id="ab2f9-232">Můžete nastavit barvy, písma, ohraničení a tak dále.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-232">You can set colors, fonts, borders, and so on.</span></span> <span data-ttu-id="ab2f9-233">Snadný způsob, jak přizpůsobit vzhled grafu je použít *motiv*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-233">An easy way to customize the appearance of a chart is to use a *theme*.</span></span> <span data-ttu-id="ab2f9-234">Motivy jsou soubory informací, které určují, jak u vykreslovaného grafu použít písma, barvy, popisky, palety, ohraničení a efekty.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-234">Themes are collections of information that specify how to render a chart using fonts, colors, labels, palettes, borders, and effects.</span></span> <span data-ttu-id="ab2f9-235">(Všimněte si, že styl grafu nenaznačuje, že typ grafu.)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-235">(Note that the style of a chart does not indicate the type of chart.)</span></span>

<span data-ttu-id="ab2f9-236">V následující tabulce jsou uvedeny předdefinované motivy.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-236">The following table lists built-in themes.</span></span>

| <span data-ttu-id="ab2f9-237">Motiv</span><span class="sxs-lookup"><span data-stu-id="ab2f9-237">Theme</span></span> | <span data-ttu-id="ab2f9-238">Popis</span><span class="sxs-lookup"><span data-stu-id="ab2f9-238">Description</span></span> |
| --- | --- |
| `Vanilla` | <span data-ttu-id="ab2f9-239">Zobrazí červený sloupce na bílém pozadí.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-239">Displays red columns on a white background.</span></span> |
| `Blue` | <span data-ttu-id="ab2f9-240">Zobrazí modré sloupce na modrém barevného přechodu pozadí.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-240">Displays blue columns on a blue gradient background.</span></span> |
| `Green` | <span data-ttu-id="ab2f9-241">Zobrazí modré sloupců na zelené barevného přechodu pozadí.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-241">Displays blue columns on a green gradient background.</span></span> |
| `Yellow` | <span data-ttu-id="ab2f9-242">Zobrazí oranžové sloupce na žlutou barevného přechodu pozadí.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-242">Displays orange columns on a yellow gradient background.</span></span> |
| `Vanilla3D` | <span data-ttu-id="ab2f9-243">Zobrazí 3D red sloupce na bílém pozadí.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-243">Displays 3-D red columns on a white background.</span></span> |

<span data-ttu-id="ab2f9-244">Můžete zadat motivu, který chcete použít při vytváření nového grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-244">You can specify the theme to use when you create a new chart.</span></span>

1. <span data-ttu-id="ab2f9-245">Vytvořte nový soubor s názvem *ChartStyleGreen.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-245">Create a new file named *ChartStyleGreen.cshtml*.</span></span>
2. <span data-ttu-id="ab2f9-246">Nahraďte existující obsah na stránce s následujícími možnostmi:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-246">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample10.cshtml)]

    <span data-ttu-id="ab2f9-247">Tento kód je stejný jako předchozí příklad, který používá databázi pro data, ale přidá `theme` parametr, když se vytvoří `Chart` objektu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-247">This code is the same as the earlier example that uses the database for data, but adds the `theme` parameter when it creates the `Chart` object.</span></span> <span data-ttu-id="ab2f9-248">Následuje ukázka změněný kód:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-248">The following shows the changed code:</span></span>

    [!code-csharp[Main](7-displaying-data-in-a-chart/samples/sample11.cs)]
3. <span data-ttu-id="ab2f9-249">Spuštění stránky v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-249">Run the page in a browser.</span></span> <span data-ttu-id="ab2f9-250">Zobrazit stejná data jako před ale zajímavější vzhled grafu:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-250">You see the same data as before, but the chart looks more polished:</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image12.jpg)

<a id="Saving_a_Chart"></a>
## <a name="saving-a-chart"></a><span data-ttu-id="ab2f9-251">Uložení grafu</span><span class="sxs-lookup"><span data-stu-id="ab2f9-251">Saving a Chart</span></span>

<span data-ttu-id="ab2f9-252">Při použití `Chart` pomocné rutiny, jak jste se seznámili s dosud v tomto článku pomocné rutiny znovu vytvoří graf úplně od začátku pokaždé, když je vyvolána.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-252">When you use the `Chart` helper as you've seen so far in this article, the helper re-creates the chart from scratch each time it's invoked.</span></span> <span data-ttu-id="ab2f9-253">V případě potřeby kód pro graf také znovu dotazuje databázi nebo znovu přečte soubor XML, které se mají získat data.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-253">If necessary, the code for the chart also re-queries the database or re-reads the XML file to get the data.</span></span> <span data-ttu-id="ab2f9-254">V některých případech to může být složitá operace, například pokud je databáze, který dotazujete na velká, nebo pokud soubor XML obsahuje velké množství dat.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-254">In some cases, doing this can be a complex operation, such as if the database that you're querying is large, or if the XML file contains a lot of data.</span></span> <span data-ttu-id="ab2f9-255">I v případě, že v grafu nezahrnuje velké množství dat, proces dynamicky vytváření image zabírá prostředky serveru, a pokud mnoho lidí o stránku nebo stránky, které se zobrazí v grafu, může být dopad na výkon vašeho webu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-255">Even if the chart doesn't involve a lot of data, the process of dynamically creating an image takes up server resources, and if many people request the page or pages that display the chart, there can be an impact on the performance of your website.</span></span>

<span data-ttu-id="ab2f9-256">Chcete-li vám pomůže snížit potenciální dopad vytvoření grafu, můžete vytvořit graf první čas ho potřebovat a pak ho uložte.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-256">To help you reduce the potential performance impact of creating a chart, you can create a chart the first time you need it and then save it.</span></span> <span data-ttu-id="ab2f9-257">Když v grafu, je potřeba znovu, místo jeho opětovného vytváření stačí načíst uloženou verzi a vykreslit.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-257">When the chart is needed again, rather than regenerating it, you can just fetch the saved version and render that.</span></span>

<span data-ttu-id="ab2f9-258">Graf můžete uložit následujícími způsoby:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-258">You can save a chart in these ways:</span></span>

- <span data-ttu-id="ab2f9-259">Mezipaměti grafu v paměti počítače (na serveru).</span><span class="sxs-lookup"><span data-stu-id="ab2f9-259">Cache the chart in computer memory (on the server).</span></span>
- <span data-ttu-id="ab2f9-260">Uložte graf jako soubor obrázku.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-260">Save the chart as an image file.</span></span>
- <span data-ttu-id="ab2f9-261">Uložte graf jako soubor XML.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-261">Save the chart as an XML file.</span></span> <span data-ttu-id="ab2f9-262">Tato možnost umožňuje upravit graf předtím, než jste jej uložili.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-262">This option lets you modify the chart before you save it.</span></span>

### <a name="caching-a-chart"></a><span data-ttu-id="ab2f9-263">Ukládání do mezipaměti grafu</span><span class="sxs-lookup"><span data-stu-id="ab2f9-263">Caching a Chart</span></span>

<span data-ttu-id="ab2f9-264">Po vytvoření grafu můžete udržovat v mezipaměti je.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-264">After you've created a chart, you can cache it.</span></span> <span data-ttu-id="ab2f9-265">Ukládání do mezipaměti grafu znamená, že to nemusí být znovu vytvořen, pokud je potřeba znovu nezobrazí.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-265">Caching a chart means that it doesn't have to be re-created if it needs to be displayed again.</span></span> <span data-ttu-id="ab2f9-266">Při ukládání grafu v mezipaměti, je jí klíč, který musí být jedinečné pro tento graf.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-266">When you save a chart in the cache, you give it a key that must be unique to that chart.</span></span>

<span data-ttu-id="ab2f9-267">Grafy, které jsou uloženy do mezipaměti může být odebrán, pokud na serveru nedostatek paměti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-267">Charts saved to the cache might be removed if the server runs low on memory.</span></span> <span data-ttu-id="ab2f9-268">Kromě toho nevymažete mezipaměť Pokud z nějakého důvodu restartování aplikace.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-268">In addition, the cache is cleared if your application restarts for any reason.</span></span> <span data-ttu-id="ab2f9-269">Proto je standardní způsob pro práci s grafem v mezipaměti je vždy nejprve zkontrolujte, zda je k dispozici v mezipaměti a pokud ne, pak vytvořit nebo znovu vytvořit.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-269">Therefore, the standard way to work with a cached chart is to always check first whether it's available in the cache, and if not, then to create or re-create it.</span></span>

1. <span data-ttu-id="ab2f9-270">V kořenovém adresáři vašeho webu, vytvořte soubor s názvem *ShowCachedChart.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-270">At the root of your website, create a file named *ShowCachedChart.cshtml*.</span></span>
2. <span data-ttu-id="ab2f9-271">Nahraďte existující obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-271">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample12.html)]

    <span data-ttu-id="ab2f9-272">`<img>` Značka zahrnuje `src` atribut, který odkazuje na *ChartSaveToCache.cshtml* souboru a předává klíče na stránce jako řetězec dotazu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-272">The `<img>` tag includes a `src` attribute that points to the *ChartSaveToCache.cshtml* file and passes a key to the page as a query string.</span></span> <span data-ttu-id="ab2f9-273">Klíč, obsahuje hodnotu &quot;myChartKey&quot;.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-273">The key contains the value &quot;myChartKey&quot;.</span></span> <span data-ttu-id="ab2f9-274">*ChartSaveToCache.cshtml* soubor obsahuje `Chart` pomocné rutiny, která vytvoří graf.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-274">The *ChartSaveToCache.cshtml* file contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="ab2f9-275">Tato stránka vytvoříte za chvíli.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-275">You'll create this page in a moment.</span></span>

    <span data-ttu-id="ab2f9-276">Na konci stránky je odkaz na stránku s názvem *ClearCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-276">At the end of the page there's a link to a page named *ClearCache.cshtml*.</span></span> <span data-ttu-id="ab2f9-277">To je stránka, která také vytvoříte za chvíli.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-277">That's a page that you'll also create shortly.</span></span> <span data-ttu-id="ab2f9-278">Je nutné *ClearCache.cshtml* pouze k testování ukládání do mezipaměti v tomto příkladu – není odkaz nebo stránka, která by obvykle obsahovat při práci s grafy v mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-278">You need the *ClearCache.cshtml* only to test caching for this example — it's not a link or page that you'd normally include when working with cached charts.</span></span>
3. <span data-ttu-id="ab2f9-279">V kořenovém adresáři vašeho webu, vytvořte nový soubor s názvem *ChartSaveToCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-279">At the root of your website, create a new file named *ChartSaveToCache.cshtml*.</span></span>
4. <span data-ttu-id="ab2f9-280">Nahraďte existující obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-280">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample13.cshtml)]

    <span data-ttu-id="ab2f9-281">Kód nejprve zkontroluje, zda nic byl předán jako hodnotu klíče v řetězci dotazu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-281">The code first checks whether anything was passed as the key value in the query string.</span></span> <span data-ttu-id="ab2f9-282">Pokud ano, pokusí načíst graf z mezipaměti voláním kód `GetFromCache` metoda a předají se jí klíč.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-282">If so, the code tries to read a chart out of the cache by calling the `GetFromCache` method and passing it the key.</span></span> <span data-ttu-id="ab2f9-283">Pokud se ukázalo se, že není nic do mezipaměti podle klíče (což by mohlo dojít při prvním vyžádání grafu), kód vytvoří graf jako obvykle.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-283">If it turns out that there's nothing in the cache under that key (which would happen the first time that the chart is requested), the code creates the chart as usual.</span></span> <span data-ttu-id="ab2f9-284">Po dokončení se v grafu, kód uloží jej do mezipaměti voláním `SaveToCache`.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-284">When the chart is finished, the code saves it to the cache by calling `SaveToCache`.</span></span> <span data-ttu-id="ab2f9-285">Tato metoda vyžaduje klíč (takže grafu, mohou být požadována později) a množství času, který má být uložen v grafu v mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-285">That method requires a key (so the chart can be requested later), and the amount of time that the chart should be saved in the cache.</span></span> <span data-ttu-id="ab2f9-286">(Přesného času by mezipaměti grafu bude trvat, závisí na tom, jak často jste si mysleli, že mohou změnit data, která představuje.) `SaveToCache` Také vyžaduje metodu `slidingExpiration` parametr &#8212; Pokud je tato možnost nastavená na hodnotu true, časový limit čítače se vynuluje pokaždé, když je přístupná v grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-286">(The exact time you'd cache a chart would depend on how often you thought the data it represents might change.) The `SaveToCache` method also requires a `slidingExpiration` parameter &#8212; if this is set to true, the timeout counter is reset each time the chart is accessed.</span></span> <span data-ttu-id="ab2f9-287">V tomto případě ve skutečnosti znamená, že neprší platnost položky mezipaměti grafu 2 minut po posledním dostal někdo grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-287">In this case, it in effect means that the chart's cache entry expires 2 minutes after the last time someone accessed the chart.</span></span> <span data-ttu-id="ab2f9-288">(Alternativa k klouzavé vypršení platnosti je absolutní vypršení platnosti, což znamená, že položka mezipaměti vyprší po byla zařazena do mezipaměti bez ohledu na to, jak často má nim přesně 2 minuty).</span><span class="sxs-lookup"><span data-stu-id="ab2f9-288">(The alternative to sliding expiration is absolute expiration, meaning that the cache entry would expire exactly 2 minutes after it was put into the cache, no matter how often it had been accessed.)</span></span>

    <span data-ttu-id="ab2f9-289">Nakonec kód použije `WriteFromCache` má metoda načíst a vykreslit graf z mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-289">Finally, the code uses the `WriteFromCache` method to fetch and render the chart from the cache.</span></span> <span data-ttu-id="ab2f9-290">Všimněte si, že tato metoda je mimo `if` blok, který kontroluje mezipaměti, protože se budou získávat graf z mezipaměti, zda grafu na začátku se nebo si museli vygenerovat a uložit do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-290">Note that this method is outside the `if` block that checks the cache, because it will get the chart from the cache whether the chart was there to begin with or had to be generated and saved in the cache.</span></span>

    <span data-ttu-id="ab2f9-291">Všimněte si, že v tomto příkladu `AddTitle` metoda obsahuje časové razítko.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-291">Notice that in the example, the `AddTitle` method includes a timestamp.</span></span> <span data-ttu-id="ab2f9-292">(Přidá aktuálním datem a časem &#8212; `DateTime.Now` &#8212; na titulek.)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-292">(It adds the current date and time &#8212; `DateTime.Now` &#8212; to the title.)</span></span>
5. <span data-ttu-id="ab2f9-293">Vytvoří novou stránku s názvem *ClearCache.cshtml* a nahraďte jeho obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-293">Create a new page named *ClearCache.cshtml* and replace its content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample14.cshtml)]

    <span data-ttu-id="ab2f9-294">Tato stránka používá `WebCache` pomocná rutina pro odebrání graf, který se uloží do mezipaměti v *ChartSaveToCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-294">This page uses the `WebCache` helper to remove the chart that's cached in *ChartSaveToCache.cshtml*.</span></span> <span data-ttu-id="ab2f9-295">Jak bylo uvedeno dříve, není nutné obvykle mít stránky následujícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-295">As noted earlier, you don't normally have to have a page like this.</span></span> <span data-ttu-id="ab2f9-296">Vytváříte ho tady pouze, aby bylo snazší testování ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-296">You're creating it here only to make it easier to test caching.</span></span>
6. <span data-ttu-id="ab2f9-297">Spustit *ShowCachedChart.cshtml* webovou stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-297">Run the *ShowCachedChart.cshtml* web page in a browser.</span></span> <span data-ttu-id="ab2f9-298">Na stránce se zobrazí obrázek grafu na základě kódu součástí *ChartSaveToCache.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-298">The page displays the chart image based on the code contained in the *ChartSaveToCache.cshtml* file.</span></span> <span data-ttu-id="ab2f9-299">Poznamenejte si časové razítko říká v nadpisu grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-299">Take note of what the timestamp says in the chart title.</span></span> 

    ![Popis: Přehled o základní graf s časovým razítkem v nadpisu grafu](7-displaying-data-in-a-chart/_static/image13.jpg)
7. <span data-ttu-id="ab2f9-301">Zavřete prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-301">Close the browser.</span></span>
8. <span data-ttu-id="ab2f9-302">Spustit *ShowCachedChart.cshtml* znovu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-302">Run the *ShowCachedChart.cshtml* again.</span></span> <span data-ttu-id="ab2f9-303">Všimněte si, že časové razítko je stejná jako předtím, což znamená, že se znovu nevygeneroval grafu, ale místo toho byl načten z mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-303">Notice that the timestamp is the same as before, which indicates that the chart was not regenerated, but was instead read from the cache.</span></span>
9. <span data-ttu-id="ab2f9-304">V *ShowCachedChart.cshtml*, klikněte na tlačítko **vymazat mezipaměť** odkaz.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-304">In *ShowCachedChart.cshtml*, click the **Clear cache** link.</span></span> <span data-ttu-id="ab2f9-305">Tím přejdete do *ClearCache.cshtml*, která hlásí, že se vymazala mezipaměť.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-305">This takes you to *ClearCache.cshtml*, which reports that the cache has been cleared.</span></span>
10. <span data-ttu-id="ab2f9-306">Klikněte na tlačítko **vrátit ShowCachedChart.cshtml** odkaz nebo znovu spusťte *ShowCachedChart.cshtml* ze služby WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-306">Click the **Return to ShowCachedChart.cshtml** link, or re-run *ShowCachedChart.cshtml* from WebMatrix.</span></span> <span data-ttu-id="ab2f9-307">Všimněte si, že Tentokrát časové razítko se změnil, protože se vymazala mezipaměť.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-307">Notice that this time the timestamp has changed, because the cache has been cleared.</span></span> <span data-ttu-id="ab2f9-308">Proto kód byl znovu vygenerujte graf a vrátit ji do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-308">Therefore, the code had to regenerate the chart and put it back into the cache.</span></span>

### <a name="saving-a-chart-as-an-image-file"></a><span data-ttu-id="ab2f9-309">Uložit graf jako soubor bitové kopie</span><span class="sxs-lookup"><span data-stu-id="ab2f9-309">Saving a Chart as an Image File</span></span>

<span data-ttu-id="ab2f9-310">Můžete také uložit graf jako soubor obrázku (třeba jako *.jpg* soubor) na serveru.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-310">You can also save a chart as an image file (for example, as a *.jpg* file) on the server.</span></span> <span data-ttu-id="ab2f9-311">Pak můžete soubor obrázku tak, jak by žádný obrázek.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-311">You can then use the image file the way you would any image.</span></span> <span data-ttu-id="ab2f9-312">Výhoda spočívá v souboru je uložené spíše než uloží dočasná mezipaměť.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-312">The advantage is the file is stored rather than saved to a temporary cache.</span></span> <span data-ttu-id="ab2f9-313">Můžete uložit nové obrázku grafu v různých časech (například každou hodinu) a potom sledovat trvalé změny, které nastanou v průběhu času.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-313">You can save a new chart image at different times (for example, every hour) and then keep a permanent record of the changes that occur over time.</span></span> <span data-ttu-id="ab2f9-314">Poznámka: Ujistěte se, že vaše webová aplikace má oprávnění k uložení souboru do složky na serveru, kam chcete umístit soubor bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-314">Note that you must make sure that your web application has permission to save a file to the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="ab2f9-315">V kořenovém adresáři vašeho webu, vytvořte složku s názvem  *\_ChartFiles* Pokud ještě neexistuje.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-315">At the root of your website, create a folder named *\_ChartFiles* if it does not already exist.</span></span>
2. <span data-ttu-id="ab2f9-316">V kořenovém adresáři vašeho webu, vytvořte nový soubor s názvem *ChartSave.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-316">At the root of your website, create a new file named *ChartSave.cshtml*.</span></span>
3. <span data-ttu-id="ab2f9-317">Nahraďte existující obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-317">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample15.cshtml)]

    <span data-ttu-id="ab2f9-318">Kód nejprve zkontroluje, jestli *.jpg* soubor existuje voláním `File.Exists` metody.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-318">The code first checks to see whether the *.jpg* file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="ab2f9-319">Pokud soubor neexistuje, vytvoří nový kód `Chart` z pole.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-319">If the file does not exist, the code creates a new `Chart` from an array.</span></span> <span data-ttu-id="ab2f9-320">Tentokrát, kód volá `Save` metoda a předá `path` parametru určete cestu k souboru a název souboru, kam chcete graf uložit.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-320">This time, the code calls the `Save` method and passes the `path` parameter to specify the file path and file name of where to save the chart.</span></span> <span data-ttu-id="ab2f9-321">V těle stránky `<img>` prvek používá tak, aby odkazoval na cestu *.jpg* soubor k zobrazení.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-321">In the body of the page, an `<img>` element uses the path to point to the *.jpg* file to display.</span></span>
4. <span data-ttu-id="ab2f9-322">Spustit *ChartSave.cshtml* souboru.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-322">Run the *ChartSave.cshtml* file.</span></span>
5. <span data-ttu-id="ab2f9-323">Vraťte se do služby WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-323">Return to WebMatrix.</span></span> <span data-ttu-id="ab2f9-324">Všimněte si, že soubor image s názvem *chart01.jpg* byla uložena do  *\_ChartFiles* složky.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-324">Notice that an image file named *chart01.jpg* has been saved in the *\_ChartFiles* folder.</span></span>

### <a name="saving-a-chart-as-an-xml-file"></a><span data-ttu-id="ab2f9-325">Uložit graf jako soubor XML</span><span class="sxs-lookup"><span data-stu-id="ab2f9-325">Saving a Chart as an XML File</span></span>

<span data-ttu-id="ab2f9-326">Nakonec můžete uložit graf jako soubor XML na serveru.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-326">Finally, you can save a chart as an XML file on the server.</span></span> <span data-ttu-id="ab2f9-327">Výhodou této metody pomocí grafu do mezipaměti nebo uložení grafu do souboru je, že můžete změnit tak, že kód XML před zobrazením grafu, pokud byste chtěli.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-327">An advantage of using this method over caching the chart or saving the chart to a file is that you could modify the XML before displaying the chart if you wanted to.</span></span> <span data-ttu-id="ab2f9-328">Aplikace musí mít oprávnění ke čtení/zápisu pro složku na serveru, kam chcete umístit soubor bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-328">Your application has to have read/write permissions for the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="ab2f9-329">V kořenovém adresáři vašeho webu, vytvořte nový soubor s názvem *ChartSaveXml.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-329">At the root of your website, create a new file named *ChartSaveXml.cshtml*.</span></span>
2. <span data-ttu-id="ab2f9-330">Nahraďte existující obsah následujícím kódem:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-330">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample16.cshtml)]

    <span data-ttu-id="ab2f9-331">Tento kód je podobný kód, který jste předtím viděli pro ukládání grafu v mezipaměti, s tím rozdílem, že používá soubor XML.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-331">This code is similar to the code that you saw earlier for storing a chart in the cache, except that it uses an XML file.</span></span> <span data-ttu-id="ab2f9-332">Kód nejprve zkontroluje, jestli existuje soubor XML voláním `File.Exists` metody.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-332">The code first checks to see whether the XML file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="ab2f9-333">Pokud soubor neexistuje, vytvoří nový kód `Chart` objektu a předá název souboru, jako `themePath` parametru.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-333">If the file does exist, the code creates a new `Chart` object and passes the file name as the `themePath` parameter.</span></span> <span data-ttu-id="ab2f9-334">Tím se vytvoří graf založený na cokoli, co je v souboru XML.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-334">This creates the chart based on whatever's in the XML file.</span></span> <span data-ttu-id="ab2f9-335">Pokud soubor XML ještě neexistuje, kód vytvoří graf jako normální a pak zavolá `SaveXml` ji uložit.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-335">If the XML file doesn't already exist, the code creates a chart like normal and then calls `SaveXml` to save it.</span></span> <span data-ttu-id="ab2f9-336">Graf je vykreslen pomocí `Write` způsob, jak jste se seznámili s před.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-336">The chart is rendered using the `Write` method, as you've seen before.</span></span>

    <span data-ttu-id="ab2f9-337">Stejně jako u stránky, které jsme si ukázali, ukládání do mezipaměti, tento kód obsahuje časové razítko v nadpisu grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-337">As with the page that showed caching, this code includes a timestamp in the chart title.</span></span>
3. <span data-ttu-id="ab2f9-338">Vytvoří novou stránku s názvem *ChartDisplayXMLChart.cshtml* a přidejte do ní následující kód:</span><span class="sxs-lookup"><span data-stu-id="ab2f9-338">Create a new page named *ChartDisplayXMLChart.cshtml* and add the following markup to it:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample17.html)]
4. <span data-ttu-id="ab2f9-339">Spustit *ChartDisplayXMLChart.cshtml* stránky.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-339">Run the *ChartDisplayXMLChart.cshtml* page.</span></span> <span data-ttu-id="ab2f9-340">Zobrazí se graf.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-340">The chart is displayed.</span></span> <span data-ttu-id="ab2f9-341">Poznamenejte si časové razítko v nadpisu grafu.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-341">Take note of the timestamp in the chart's title.</span></span>
5. <span data-ttu-id="ab2f9-342">Zavřete prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-342">Close the browser.</span></span>
6. <span data-ttu-id="ab2f9-343">Ve službě WebMatrix, klikněte pravým tlačítkem  *\_ChartFiles* složky, klikněte na **aktualizovat**a poté otevřete složku.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-343">In WebMatrix, right-click the *\_ChartFiles* folder, click **Refresh**, and then open the folder.</span></span> <span data-ttu-id="ab2f9-344">*XMLChart.xml* soubor v této složce byl vytvořen `Chart` pomocné rutiny.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-344">The *XMLChart.xml* file in this folder was created by the `Chart` helper.</span></span> 

    ![Popis: Složka _ChartFiles zobrazující XMLChart.xml soubor vytvořený graf pomocné rutiny.](7-displaying-data-in-a-chart/_static/image14.jpg)
7. <span data-ttu-id="ab2f9-346">Spustit *ChartDisplayXMLChart.cshtml* stránku znovu nezobrazovat.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-346">Run the *ChartDisplayXMLChart.cshtml* page again.</span></span> <span data-ttu-id="ab2f9-347">Tento graf zobrazuje stejné časové razítko jako první čas spuštění stránky.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-347">The chart shows the same timestamp as the first time you ran the page.</span></span> <span data-ttu-id="ab2f9-348">Důvodem je skutečnost, že v grafu je právě generován ze souboru XML, které jste předtím uložili.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-348">That's because the chart is being generated from the XML you saved earlier.</span></span>
8. <span data-ttu-id="ab2f9-349">Ve Webmatrixu otevřete  *\_ChartFiles* složky a delete *XMLChart.xml* souboru.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-349">In WebMatrix, open the *\_ChartFiles* folder and delete the *XMLChart.xml* file.</span></span>
9. <span data-ttu-id="ab2f9-350">Spustit *ChartDisplayXMLChart.cshtml* stránce ještě jednou.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-350">Run the *ChartDisplayXMLChart.cshtml* page once more.</span></span> <span data-ttu-id="ab2f9-351">Tentokrát, časové razítko je aktualizována, protože `Chart` pomocné rutiny museli znovu vytvořit soubor XML.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-351">This time, the timestamp is updated, because the `Chart` helper had to recreate the XML file.</span></span> <span data-ttu-id="ab2f9-352">Pokud chcete, zaškrtněte  *\_ChartFiles* složky a Všimněte si, že je soubor XML zpět.</span><span class="sxs-lookup"><span data-stu-id="ab2f9-352">If you want, check the *\_ChartFiles* folder and notice that the XML file is back.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="ab2f9-353">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="ab2f9-353">Additional Resources</span></span>

- [<span data-ttu-id="ab2f9-354">Úvod k práci s databází v rozhraní ASP.NET Web Pages lokalit</span><span class="sxs-lookup"><span data-stu-id="ab2f9-354">Introduction to Working with a Database in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=202893)
- [<span data-ttu-id="ab2f9-355">Pomocí ukládání do mezipaměti v rozhraní ASP.NET Web Pages lokalitách a zlepšit výkon</span><span class="sxs-lookup"><span data-stu-id="ab2f9-355">Using Caching in ASP.NET Web Pages Sites to Improve Performance</span></span>](https://go.microsoft.com/fwlink/?LinkId=202903)
- <span data-ttu-id="ab2f9-356">[Třída grafu](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (reference k rozhraní API technologie ASP.NET webové stránky na webu MSDN)</span><span class="sxs-lookup"><span data-stu-id="ab2f9-356">[Chart Class](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (ASP.NET Web Pages API reference on MSDN)</span></span>
